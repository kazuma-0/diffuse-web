(function(ar,Fa){typeof exports=="object"&&typeof module!="undefined"?Fa(exports):typeof define=="function"&&define.amd?define(["exports"],Fa):(ar=typeof globalThis!="undefined"?globalThis:ar||self,Fa(ar.webnative={}))})(this,function(ar){"use strict";/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Fa=function(r,e){return Fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},Fa(r,e)};function Ca(r,e){Fa(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var dr=function(){return dr=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},dr.apply(this,arguments)};function dd(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(t[n[o]]=r[n[o]]);return t}function ae(r,e,t,n){function o(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function f(y){try{c(n.next(y))}catch(_){u(_)}}function h(y){try{c(n.throw(y))}catch(_){u(_)}}function c(y){y.done?a(y.value):o(y.value).then(f,h)}c((n=n.apply(r,e||[])).next())})}function ue(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(c){return function(y){return h([c,y])}}function h(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(y){c=[6,y],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function pd(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ra(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),o=0,e=0;e<t;e++)for(var a=arguments[e],u=0,f=a.length;u<f;u++,o++)n[o]=a[u];return n}function vd(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof pd=="function"?pd(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(u){return new Promise(function(f,h){u=r[a](u),o(f,h,u.done,u.value)})}}function o(a,u,f,h){Promise.resolve(h).then(function(c){a({value:c,done:f})},u)}}var _e=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function uc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function tl(r){if(r.__esModule)return r;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(r).forEach(function(t){var n=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:function(){return r[t]}})}),e}function Zt(r){var e={exports:{}};return r(e,e.exports),e.exports}function sc(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}/*!
    localForage -- Offline Storage, Improved
    Version 1.9.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var $n=Zt(function(r,e){(function(t){r.exports=t()})(function(){return function t(n,o,a){function u(c,y){if(!o[c]){if(!n[c]){var _=typeof sc=="function"&&sc;if(!y&&_)return _(c,!0);if(f)return f(c,!0);var A=new Error("Cannot find module '"+c+"'");throw A.code="MODULE_NOT_FOUND",A}var F=o[c]={exports:{}};n[c][0].call(F.exports,function(D){var k=n[c][1][D];return u(k||D)},F,F.exports,t,n,o,a)}return o[c].exports}for(var f=typeof sc=="function"&&sc,h=0;h<a.length;h++)u(a[h]);return u}({1:[function(t,n,o){(function(a){var u=a.MutationObserver||a.WebKitMutationObserver,f;if(u){var h=0,c=new u(D),y=a.document.createTextNode("");c.observe(y,{characterData:!0}),f=function(){y.data=h=++h%2}}else if(!a.setImmediate&&typeof a.MessageChannel!="undefined"){var _=new a.MessageChannel;_.port1.onmessage=D,f=function(){_.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?f=function(){var K=a.document.createElement("script");K.onreadystatechange=function(){D(),K.onreadystatechange=null,K.parentNode.removeChild(K),K=null},a.document.documentElement.appendChild(K)}:f=function(){setTimeout(D,0)};var A,F=[];function D(){A=!0;for(var K,he,ge=F.length;ge;){for(he=F,F=[],K=-1;++K<ge;)he[K]();ge=F.length}A=!1}n.exports=k;function k(K){F.push(K)===1&&!A&&f()}}).call(this,typeof _e!="undefined"?_e:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(t,n,o){var a=t(1);function u(){}var f={},h=["REJECTED"],c=["FULFILLED"],y=["PENDING"];n.exports=_;function _(V){if(typeof V!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,V!==u&&k(this,V)}_.prototype.catch=function(V){return this.then(null,V)},_.prototype.then=function(V,ce){if(typeof V!="function"&&this.state===c||typeof ce!="function"&&this.state===h)return this;var Se=new this.constructor(u);if(this.state!==y){var le=this.state===c?V:ce;F(Se,le,this.outcome)}else this.queue.push(new A(Se,V,ce));return Se};function A(V,ce,Se){this.promise=V,typeof ce=="function"&&(this.onFulfilled=ce,this.callFulfilled=this.otherCallFulfilled),typeof Se=="function"&&(this.onRejected=Se,this.callRejected=this.otherCallRejected)}A.prototype.callFulfilled=function(V){f.resolve(this.promise,V)},A.prototype.otherCallFulfilled=function(V){F(this.promise,this.onFulfilled,V)},A.prototype.callRejected=function(V){f.reject(this.promise,V)},A.prototype.otherCallRejected=function(V){F(this.promise,this.onRejected,V)};function F(V,ce,Se){a(function(){var le;try{le=ce(Se)}catch(Oe){return f.reject(V,Oe)}le===V?f.reject(V,new TypeError("Cannot resolve promise with itself")):f.resolve(V,le)})}f.resolve=function(V,ce){var Se=K(D,ce);if(Se.status==="error")return f.reject(V,Se.value);var le=Se.value;if(le)k(V,le);else{V.state=c,V.outcome=ce;for(var Oe=-1,Pe=V.queue.length;++Oe<Pe;)V.queue[Oe].callFulfilled(ce)}return V},f.reject=function(V,ce){V.state=h,V.outcome=ce;for(var Se=-1,le=V.queue.length;++Se<le;)V.queue[Se].callRejected(ce);return V};function D(V){var ce=V&&V.then;if(V&&(typeof V=="object"||typeof V=="function")&&typeof ce=="function")return function(){ce.apply(V,arguments)}}function k(V,ce){var Se=!1;function le(dt){Se||(Se=!0,f.reject(V,dt))}function Oe(dt){Se||(Se=!0,f.resolve(V,dt))}function Pe(){ce(Oe,le)}var vt=K(Pe);vt.status==="error"&&le(vt.value)}function K(V,ce){var Se={};try{Se.value=V(ce),Se.status="success"}catch(le){Se.status="error",Se.value=le}return Se}_.resolve=he;function he(V){return V instanceof this?V:f.resolve(new this(u),V)}_.reject=ge;function ge(V){var ce=new this(u);return f.reject(ce,V)}_.all=ke;function ke(V){var ce=this;if(Object.prototype.toString.call(V)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Se=V.length,le=!1;if(!Se)return this.resolve([]);for(var Oe=new Array(Se),Pe=0,vt=-1,dt=new this(u);++vt<Se;)pt(V[vt],vt);return dt;function pt(xt,lt){ce.resolve(xt).then(Dt,function(Rt){le||(le=!0,f.reject(dt,Rt))});function Dt(Rt){Oe[lt]=Rt,++Pe===Se&&!le&&(le=!0,f.resolve(dt,Oe))}}}_.race=fe;function fe(V){var ce=this;if(Object.prototype.toString.call(V)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Se=V.length,le=!1;if(!Se)return this.resolve([]);for(var Oe=-1,Pe=new this(u);++Oe<Se;)vt(V[Oe]);return Pe;function vt(dt){ce.resolve(dt).then(function(pt){le||(le=!0,f.resolve(Pe,pt))},function(pt){le||(le=!0,f.reject(Pe,pt))})}}},{"1":1}],3:[function(t,n,o){(function(a){typeof a.Promise!="function"&&(a.Promise=t(2))}).call(this,typeof _e!="undefined"?_e:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(t,n,o){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L};function u(L,pe){if(!(L instanceof pe))throw new TypeError("Cannot call a class as a function")}function f(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch(L){return}}var h=f();function c(){try{if(!h||!h.open)return!1;var L=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),pe=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!L||pe)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch(G){return!1}}function y(L,pe){L=L||[],pe=pe||{};try{return new Blob(L,pe)}catch(me){if(me.name!=="TypeError")throw me;for(var G=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,Te=new G,Re=0;Re<L.length;Re+=1)Te.append(L[Re]);return Te.getBlob(pe.type)}}typeof Promise=="undefined"&&t(3);var _=Promise;function A(L,pe){pe&&L.then(function(G){pe(null,G)},function(G){pe(G)})}function F(L,pe,G){typeof pe=="function"&&L.then(pe),typeof G=="function"&&L.catch(G)}function D(L){return typeof L!="string"&&(console.warn(L+" used as a key, but it is not a string."),L=String(L)),L}function k(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var K="local-forage-detect-blob-support",he=void 0,ge={},ke=Object.prototype.toString,fe="readonly",V="readwrite";function ce(L){for(var pe=L.length,G=new ArrayBuffer(pe),Te=new Uint8Array(G),Re=0;Re<pe;Re++)Te[Re]=L.charCodeAt(Re);return G}function Se(L){return new _(function(pe){var G=L.transaction(K,V),Te=y([""]);G.objectStore(K).put(Te,"key"),G.onabort=function(Re){Re.preventDefault(),Re.stopPropagation(),pe(!1)},G.oncomplete=function(){var Re=navigator.userAgent.match(/Chrome\/(\d+)/),me=navigator.userAgent.match(/Edge\//);pe(me||!Re||parseInt(Re[1],10)>=43)}}).catch(function(){return!1})}function le(L){return typeof he=="boolean"?_.resolve(he):Se(L).then(function(pe){return he=pe,he})}function Oe(L){var pe=ge[L.name],G={};G.promise=new _(function(Te,Re){G.resolve=Te,G.reject=Re}),pe.deferredOperations.push(G),pe.dbReady?pe.dbReady=pe.dbReady.then(function(){return G.promise}):pe.dbReady=G.promise}function Pe(L){var pe=ge[L.name],G=pe.deferredOperations.pop();if(G)return G.resolve(),G.promise}function vt(L,pe){var G=ge[L.name],Te=G.deferredOperations.pop();if(Te)return Te.reject(pe),Te.promise}function dt(L,pe){return new _(function(G,Te){if(ge[L.name]=ge[L.name]||kt(),L.db)if(pe)Oe(L),L.db.close();else return G(L.db);var Re=[L.name];pe&&Re.push(L.version);var me=h.open.apply(h,Re);pe&&(me.onupgradeneeded=function(Ge){var tt=me.result;try{tt.createObjectStore(L.storeName),Ge.oldVersion<=1&&tt.createObjectStore(K)}catch(nt){if(nt.name==="ConstraintError")console.warn('The database "'+L.name+'" has been upgraded from version '+Ge.oldVersion+" to version "+Ge.newVersion+', but the storage "'+L.storeName+'" already exists.');else throw nt}}),me.onerror=function(Ge){Ge.preventDefault(),Te(me.error)},me.onsuccess=function(){G(me.result),Pe(L)}})}function pt(L){return dt(L,!1)}function xt(L){return dt(L,!0)}function lt(L,pe){if(!L.db)return!0;var G=!L.db.objectStoreNames.contains(L.storeName),Te=L.version<L.db.version,Re=L.version>L.db.version;if(Te&&(L.version!==pe&&console.warn('The database "'+L.name+`" can't be downgraded from version `+L.db.version+" to version "+L.version+"."),L.version=L.db.version),Re||G){if(G){var me=L.db.version+1;me>L.version&&(L.version=me)}return!0}return!1}function Dt(L){return new _(function(pe,G){var Te=new FileReader;Te.onerror=G,Te.onloadend=function(Re){var me=btoa(Re.target.result||"");pe({__local_forage_encoded_blob:!0,data:me,type:L.type})},Te.readAsBinaryString(L)})}function Rt(L){var pe=ce(atob(L.data));return y([pe],{type:L.type})}function Yt(L){return L&&L.__local_forage_encoded_blob}function gr(L){var pe=this,G=pe._initReady().then(function(){var Te=ge[pe._dbInfo.name];if(Te&&Te.dbReady)return Te.dbReady});return F(G,L,L),G}function yt(L){Oe(L);for(var pe=ge[L.name],G=pe.forages,Te=0;Te<G.length;Te++){var Re=G[Te];Re._dbInfo.db&&(Re._dbInfo.db.close(),Re._dbInfo.db=null)}return L.db=null,pt(L).then(function(me){return L.db=me,lt(L)?xt(L):me}).then(function(me){L.db=pe.db=me;for(var Ge=0;Ge<G.length;Ge++)G[Ge]._dbInfo.db=me}).catch(function(me){throw vt(L,me),me})}function gt(L,pe,G,Te){Te===void 0&&(Te=1);try{var Re=L.db.transaction(L.storeName,pe);G(null,Re)}catch(me){if(Te>0&&(!L.db||me.name==="InvalidStateError"||me.name==="NotFoundError"))return _.resolve().then(function(){if(!L.db||me.name==="NotFoundError"&&!L.db.objectStoreNames.contains(L.storeName)&&L.version<=L.db.version)return L.db&&(L.version=L.db.version+1),xt(L)}).then(function(){return yt(L).then(function(){gt(L,pe,G,Te-1)})}).catch(G);G(me)}}function kt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Xe(L){var pe=this,G={db:null};if(L)for(var Te in L)G[Te]=L[Te];var Re=ge[G.name];Re||(Re=kt(),ge[G.name]=Re),Re.forages.push(pe),pe._initReady||(pe._initReady=pe.ready,pe.ready=gr);var me=[];function Ge(){return _.resolve()}for(var tt=0;tt<Re.forages.length;tt++){var nt=Re.forages[tt];nt!==pe&&me.push(nt._initReady().catch(Ge))}var it=Re.forages.slice(0);return _.all(me).then(function(){return G.db=Re.db,pt(G)}).then(function(st){return G.db=st,lt(G,pe._defaultConfig.version)?xt(G):st}).then(function(st){G.db=Re.db=st,pe._dbInfo=G;for(var St=0;St<it.length;St++){var Pt=it[St];Pt!==pe&&(Pt._dbInfo.db=G.db,Pt._dbInfo.version=G.version)}})}function oe(L,pe){var G=this;L=D(L);var Te=new _(function(Re,me){G.ready().then(function(){gt(G._dbInfo,fe,function(Ge,tt){if(Ge)return me(Ge);try{var nt=tt.objectStore(G._dbInfo.storeName),it=nt.get(L);it.onsuccess=function(){var st=it.result;st===void 0&&(st=null),Yt(st)&&(st=Rt(st)),Re(st)},it.onerror=function(){me(it.error)}}catch(st){me(st)}})}).catch(me)});return A(Te,pe),Te}function R(L,pe){var G=this,Te=new _(function(Re,me){G.ready().then(function(){gt(G._dbInfo,fe,function(Ge,tt){if(Ge)return me(Ge);try{var nt=tt.objectStore(G._dbInfo.storeName),it=nt.openCursor(),st=1;it.onsuccess=function(){var St=it.result;if(St){var Pt=St.value;Yt(Pt)&&(Pt=Rt(Pt));var sr=L(Pt,St.key,st++);sr!==void 0?Re(sr):St.continue()}else Re()},it.onerror=function(){me(it.error)}}catch(St){me(St)}})}).catch(me)});return A(Te,pe),Te}function ie(L,pe,G){var Te=this;L=D(L);var Re=new _(function(me,Ge){var tt;Te.ready().then(function(){return tt=Te._dbInfo,ke.call(pe)==="[object Blob]"?le(tt.db).then(function(nt){return nt?pe:Dt(pe)}):pe}).then(function(nt){gt(Te._dbInfo,V,function(it,st){if(it)return Ge(it);try{var St=st.objectStore(Te._dbInfo.storeName);nt===null&&(nt=void 0);var Pt=St.put(nt,L);st.oncomplete=function(){nt===void 0&&(nt=null),me(nt)},st.onabort=st.onerror=function(){var sr=Pt.error?Pt.error:Pt.transaction.error;Ge(sr)}}catch(sr){Ge(sr)}})}).catch(Ge)});return A(Re,G),Re}function M(L,pe){var G=this;L=D(L);var Te=new _(function(Re,me){G.ready().then(function(){gt(G._dbInfo,V,function(Ge,tt){if(Ge)return me(Ge);try{var nt=tt.objectStore(G._dbInfo.storeName),it=nt.delete(L);tt.oncomplete=function(){Re()},tt.onerror=function(){me(it.error)},tt.onabort=function(){var st=it.error?it.error:it.transaction.error;me(st)}}catch(st){me(st)}})}).catch(me)});return A(Te,pe),Te}function H(L){var pe=this,G=new _(function(Te,Re){pe.ready().then(function(){gt(pe._dbInfo,V,function(me,Ge){if(me)return Re(me);try{var tt=Ge.objectStore(pe._dbInfo.storeName),nt=tt.clear();Ge.oncomplete=function(){Te()},Ge.onabort=Ge.onerror=function(){var it=nt.error?nt.error:nt.transaction.error;Re(it)}}catch(it){Re(it)}})}).catch(Re)});return A(G,L),G}function E(L){var pe=this,G=new _(function(Te,Re){pe.ready().then(function(){gt(pe._dbInfo,fe,function(me,Ge){if(me)return Re(me);try{var tt=Ge.objectStore(pe._dbInfo.storeName),nt=tt.count();nt.onsuccess=function(){Te(nt.result)},nt.onerror=function(){Re(nt.error)}}catch(it){Re(it)}})}).catch(Re)});return A(G,L),G}function T(L,pe){var G=this,Te=new _(function(Re,me){if(L<0){Re(null);return}G.ready().then(function(){gt(G._dbInfo,fe,function(Ge,tt){if(Ge)return me(Ge);try{var nt=tt.objectStore(G._dbInfo.storeName),it=!1,st=nt.openKeyCursor();st.onsuccess=function(){var St=st.result;if(!St){Re(null);return}L===0||it?Re(St.key):(it=!0,St.advance(L))},st.onerror=function(){me(st.error)}}catch(St){me(St)}})}).catch(me)});return A(Te,pe),Te}function C(L){var pe=this,G=new _(function(Te,Re){pe.ready().then(function(){gt(pe._dbInfo,fe,function(me,Ge){if(me)return Re(me);try{var tt=Ge.objectStore(pe._dbInfo.storeName),nt=tt.openKeyCursor(),it=[];nt.onsuccess=function(){var st=nt.result;if(!st){Te(it);return}it.push(st.key),st.continue()},nt.onerror=function(){Re(nt.error)}}catch(st){Re(st)}})}).catch(Re)});return A(G,L),G}function q(L,pe){pe=k.apply(this,arguments);var G=this.config();L=typeof L!="function"&&L||{},L.name||(L.name=L.name||G.name,L.storeName=L.storeName||G.storeName);var Te=this,Re;if(!L.name)Re=_.reject("Invalid arguments");else{var me=L.name===G.name&&Te._dbInfo.db,Ge=me?_.resolve(Te._dbInfo.db):pt(L).then(function(tt){var nt=ge[L.name],it=nt.forages;nt.db=tt;for(var st=0;st<it.length;st++)it[st]._dbInfo.db=tt;return tt});L.storeName?Re=Ge.then(function(tt){if(!!tt.objectStoreNames.contains(L.storeName)){var nt=tt.version+1;Oe(L);var it=ge[L.name],st=it.forages;tt.close();for(var St=0;St<st.length;St++){var Pt=st[St];Pt._dbInfo.db=null,Pt._dbInfo.version=nt}var sr=new _(function(lr,Dr){var zr=h.open(L.name,nt);zr.onerror=function(en){var Gn=zr.result;Gn.close(),Dr(en)},zr.onupgradeneeded=function(){var en=zr.result;en.deleteObjectStore(L.storeName)},zr.onsuccess=function(){var en=zr.result;en.close(),lr(en)}});return sr.then(function(lr){it.db=lr;for(var Dr=0;Dr<st.length;Dr++){var zr=st[Dr];zr._dbInfo.db=lr,Pe(zr._dbInfo)}}).catch(function(lr){throw(vt(L,lr)||_.resolve()).catch(function(){}),lr})}}):Re=Ge.then(function(tt){Oe(L);var nt=ge[L.name],it=nt.forages;tt.close();for(var st=0;st<it.length;st++){var St=it[st];St._dbInfo.db=null}var Pt=new _(function(sr,lr){var Dr=h.deleteDatabase(L.name);Dr.onerror=Dr.onblocked=function(zr){var en=Dr.result;en&&en.close(),lr(zr)},Dr.onsuccess=function(){var zr=Dr.result;zr&&zr.close(),sr(zr)}});return Pt.then(function(sr){nt.db=sr;for(var lr=0;lr<it.length;lr++){var Dr=it[lr];Pe(Dr._dbInfo)}}).catch(function(sr){throw(vt(L,sr)||_.resolve()).catch(function(){}),sr})})}return A(Re,pe),Re}var X={_driver:"asyncStorage",_initStorage:Xe,_support:c(),iterate:R,getItem:oe,setItem:ie,removeItem:M,clear:H,length:E,key:T,keys:C,dropInstance:q};function ee(){return typeof openDatabase=="function"}var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="~~local_forage_type~",v=/^~~local_forage_type~([^~]+)~/,I="__lfsc__:",N=I.length,Q="arbf",ve="blob",Ke="si08",ut="ui08",se="uic8",De="si16",x="si32",p="ur16",m="ui32",z="fl32",re="fl64",we=N+Q.length,Ee=Object.prototype.toString;function We(L){var pe=L.length*.75,G=L.length,Te,Re=0,me,Ge,tt,nt;L[L.length-1]==="="&&(pe--,L[L.length-2]==="="&&pe--);var it=new ArrayBuffer(pe),st=new Uint8Array(it);for(Te=0;Te<G;Te+=4)me=S.indexOf(L[Te]),Ge=S.indexOf(L[Te+1]),tt=S.indexOf(L[Te+2]),nt=S.indexOf(L[Te+3]),st[Re++]=me<<2|Ge>>4,st[Re++]=(Ge&15)<<4|tt>>2,st[Re++]=(tt&3)<<6|nt&63;return it}function ft(L){var pe=new Uint8Array(L),G="",Te;for(Te=0;Te<pe.length;Te+=3)G+=S[pe[Te]>>2],G+=S[(pe[Te]&3)<<4|pe[Te+1]>>4],G+=S[(pe[Te+1]&15)<<2|pe[Te+2]>>6],G+=S[pe[Te+2]&63];return pe.length%3==2?G=G.substring(0,G.length-1)+"=":pe.length%3==1&&(G=G.substring(0,G.length-2)+"=="),G}function Et(L,pe){var G="";if(L&&(G=Ee.call(L)),L&&(G==="[object ArrayBuffer]"||L.buffer&&Ee.call(L.buffer)==="[object ArrayBuffer]")){var Te,Re=I;L instanceof ArrayBuffer?(Te=L,Re+=Q):(Te=L.buffer,G==="[object Int8Array]"?Re+=Ke:G==="[object Uint8Array]"?Re+=ut:G==="[object Uint8ClampedArray]"?Re+=se:G==="[object Int16Array]"?Re+=De:G==="[object Uint16Array]"?Re+=p:G==="[object Int32Array]"?Re+=x:G==="[object Uint32Array]"?Re+=m:G==="[object Float32Array]"?Re+=z:G==="[object Float64Array]"?Re+=re:pe(new Error("Failed to get type for BinaryArray"))),pe(Re+ft(Te))}else if(G==="[object Blob]"){var me=new FileReader;me.onload=function(){var Ge=d+L.type+"~"+ft(this.result);pe(I+ve+Ge)},me.readAsArrayBuffer(L)}else try{pe(JSON.stringify(L))}catch(Ge){console.error("Couldn't convert value into a JSON string: ",L),pe(null,Ge)}}function At(L){if(L.substring(0,N)!==I)return JSON.parse(L);var pe=L.substring(we),G=L.substring(N,we),Te;if(G===ve&&v.test(pe)){var Re=pe.match(v);Te=Re[1],pe=pe.substring(Re[0].length)}var me=We(pe);switch(G){case Q:return me;case ve:return y([me],{type:Te});case Ke:return new Int8Array(me);case ut:return new Uint8Array(me);case se:return new Uint8ClampedArray(me);case De:return new Int16Array(me);case p:return new Uint16Array(me);case x:return new Int32Array(me);case m:return new Uint32Array(me);case z:return new Float32Array(me);case re:return new Float64Array(me);default:throw new Error("Unkown type: "+G)}}var zt={serialize:Et,deserialize:At,stringToBuffer:We,bufferToString:ft};function hn(L,pe,G,Te){L.executeSql("CREATE TABLE IF NOT EXISTS "+pe.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],G,Te)}function qt(L){var pe=this,G={db:null};if(L)for(var Te in L)G[Te]=typeof L[Te]!="string"?L[Te].toString():L[Te];var Re=new _(function(me,Ge){try{G.db=openDatabase(G.name,String(G.version),G.description,G.size)}catch(tt){return Ge(tt)}G.db.transaction(function(tt){hn(tt,G,function(){pe._dbInfo=G,me()},function(nt,it){Ge(it)})},Ge)});return G.serializer=zt,Re}function jr(L,pe,G,Te,Re,me){L.executeSql(G,Te,Re,function(Ge,tt){tt.code===tt.SYNTAX_ERR?Ge.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[pe.storeName],function(nt,it){it.rows.length?me(nt,tt):hn(nt,pe,function(){nt.executeSql(G,Te,Re,me)},me)},me):me(Ge,tt)},me)}function Zn(L,pe){var G=this;L=D(L);var Te=new _(function(Re,me){G.ready().then(function(){var Ge=G._dbInfo;Ge.db.transaction(function(tt){jr(tt,Ge,"SELECT * FROM "+Ge.storeName+" WHERE key = ? LIMIT 1",[L],function(nt,it){var st=it.rows.length?it.rows.item(0).value:null;st&&(st=Ge.serializer.deserialize(st)),Re(st)},function(nt,it){me(it)})})}).catch(me)});return A(Te,pe),Te}function fr(L,pe){var G=this,Te=new _(function(Re,me){G.ready().then(function(){var Ge=G._dbInfo;Ge.db.transaction(function(tt){jr(tt,Ge,"SELECT * FROM "+Ge.storeName,[],function(nt,it){for(var st=it.rows,St=st.length,Pt=0;Pt<St;Pt++){var sr=st.item(Pt),lr=sr.value;if(lr&&(lr=Ge.serializer.deserialize(lr)),lr=L(lr,sr.key,Pt+1),lr!==void 0){Re(lr);return}}Re()},function(nt,it){me(it)})})}).catch(me)});return A(Te,pe),Te}function fi(L,pe,G,Te){var Re=this;L=D(L);var me=new _(function(Ge,tt){Re.ready().then(function(){pe===void 0&&(pe=null);var nt=pe,it=Re._dbInfo;it.serializer.serialize(pe,function(st,St){St?tt(St):it.db.transaction(function(Pt){jr(Pt,it,"INSERT OR REPLACE INTO "+it.storeName+" (key, value) VALUES (?, ?)",[L,st],function(){Ge(nt)},function(sr,lr){tt(lr)})},function(Pt){if(Pt.code===Pt.QUOTA_ERR){if(Te>0){Ge(fi.apply(Re,[L,nt,G,Te-1]));return}tt(Pt)}})})}).catch(tt)});return A(me,G),me}function Rn(L,pe,G){return fi.apply(this,[L,pe,G,1])}function Jr(L,pe){var G=this;L=D(L);var Te=new _(function(Re,me){G.ready().then(function(){var Ge=G._dbInfo;Ge.db.transaction(function(tt){jr(tt,Ge,"DELETE FROM "+Ge.storeName+" WHERE key = ?",[L],function(){Re()},function(nt,it){me(it)})})}).catch(me)});return A(Te,pe),Te}function _n(L){var pe=this,G=new _(function(Te,Re){pe.ready().then(function(){var me=pe._dbInfo;me.db.transaction(function(Ge){jr(Ge,me,"DELETE FROM "+me.storeName,[],function(){Te()},function(tt,nt){Re(nt)})})}).catch(Re)});return A(G,L),G}function Nn(L){var pe=this,G=new _(function(Te,Re){pe.ready().then(function(){var me=pe._dbInfo;me.db.transaction(function(Ge){jr(Ge,me,"SELECT COUNT(key) as c FROM "+me.storeName,[],function(tt,nt){var it=nt.rows.item(0).c;Te(it)},function(tt,nt){Re(nt)})})}).catch(Re)});return A(G,L),G}function Qn(L,pe){var G=this,Te=new _(function(Re,me){G.ready().then(function(){var Ge=G._dbInfo;Ge.db.transaction(function(tt){jr(tt,Ge,"SELECT key FROM "+Ge.storeName+" WHERE id = ? LIMIT 1",[L+1],function(nt,it){var st=it.rows.length?it.rows.item(0).key:null;Re(st)},function(nt,it){me(it)})})}).catch(me)});return A(Te,pe),Te}function li(L){var pe=this,G=new _(function(Te,Re){pe.ready().then(function(){var me=pe._dbInfo;me.db.transaction(function(Ge){jr(Ge,me,"SELECT key FROM "+me.storeName,[],function(tt,nt){for(var it=[],st=0;st<nt.rows.length;st++)it.push(nt.rows.item(st).key);Te(it)},function(tt,nt){Re(nt)})})}).catch(Re)});return A(G,L),G}function ur(L){return new _(function(pe,G){L.transaction(function(Te){Te.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Re,me){for(var Ge=[],tt=0;tt<me.rows.length;tt++)Ge.push(me.rows.item(tt).name);pe({db:L,storeNames:Ge})},function(Re,me){G(me)})},function(Te){G(Te)})})}function hi(L,pe){pe=k.apply(this,arguments);var G=this.config();L=typeof L!="function"&&L||{},L.name||(L.name=L.name||G.name,L.storeName=L.storeName||G.storeName);var Te=this,Re;return L.name?Re=new _(function(me){var Ge;L.name===G.name?Ge=Te._dbInfo.db:Ge=openDatabase(L.name,"","",0),L.storeName?me({db:Ge,storeNames:[L.storeName]}):me(ur(Ge))}).then(function(me){return new _(function(Ge,tt){me.db.transaction(function(nt){function it(sr){return new _(function(lr,Dr){nt.executeSql("DROP TABLE IF EXISTS "+sr,[],function(){lr()},function(zr,en){Dr(en)})})}for(var st=[],St=0,Pt=me.storeNames.length;St<Pt;St++)st.push(it(me.storeNames[St]));_.all(st).then(function(){Ge()}).catch(function(sr){tt(sr)})},function(nt){tt(nt)})})}):Re=_.reject("Invalid arguments"),A(Re,pe),Re}var cn={_driver:"webSQLStorage",_initStorage:qt,_support:ee(),iterate:fr,getItem:Zn,setItem:Rn,removeItem:Jr,clear:_n,length:Nn,key:Qn,keys:li,dropInstance:hi};function Un(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(L){return!1}}function Dn(L,pe){var G=L.name+"/";return L.storeName!==pe.storeName&&(G+=L.storeName+"/"),G}function dn(){var L="_localforage_support_test";try{return localStorage.setItem(L,!0),localStorage.removeItem(L),!1}catch(pe){return!0}}function un(){return!dn()||localStorage.length>0}function ei(L){var pe=this,G={};if(L)for(var Te in L)G[Te]=L[Te];return G.keyPrefix=Dn(L,pe._defaultConfig),un()?(pe._dbInfo=G,G.serializer=zt,_.resolve()):_.reject()}function br(L){var pe=this,G=pe.ready().then(function(){for(var Te=pe._dbInfo.keyPrefix,Re=localStorage.length-1;Re>=0;Re--){var me=localStorage.key(Re);me.indexOf(Te)===0&&localStorage.removeItem(me)}});return A(G,L),G}function ti(L,pe){var G=this;L=D(L);var Te=G.ready().then(function(){var Re=G._dbInfo,me=localStorage.getItem(Re.keyPrefix+L);return me&&(me=Re.serializer.deserialize(me)),me});return A(Te,pe),Te}function Bi(L,pe){var G=this,Te=G.ready().then(function(){for(var Re=G._dbInfo,me=Re.keyPrefix,Ge=me.length,tt=localStorage.length,nt=1,it=0;it<tt;it++){var st=localStorage.key(it);if(st.indexOf(me)===0){var St=localStorage.getItem(st);if(St&&(St=Re.serializer.deserialize(St)),St=L(St,st.substring(Ge),nt++),St!==void 0)return St}}});return A(Te,pe),Te}function di(L,pe){var G=this,Te=G.ready().then(function(){var Re=G._dbInfo,me;try{me=localStorage.key(L)}catch(Ge){me=null}return me&&(me=me.substring(Re.keyPrefix.length)),me});return A(Te,pe),Te}function pi(L){var pe=this,G=pe.ready().then(function(){for(var Te=pe._dbInfo,Re=localStorage.length,me=[],Ge=0;Ge<Re;Ge++){var tt=localStorage.key(Ge);tt.indexOf(Te.keyPrefix)===0&&me.push(tt.substring(Te.keyPrefix.length))}return me});return A(G,L),G}function vi(L){var pe=this,G=pe.keys().then(function(Te){return Te.length});return A(G,L),G}function pn(L,pe){var G=this;L=D(L);var Te=G.ready().then(function(){var Re=G._dbInfo;localStorage.removeItem(Re.keyPrefix+L)});return A(Te,pe),Te}function Ti(L,pe,G){var Te=this;L=D(L);var Re=Te.ready().then(function(){pe===void 0&&(pe=null);var me=pe;return new _(function(Ge,tt){var nt=Te._dbInfo;nt.serializer.serialize(pe,function(it,st){if(st)tt(st);else try{localStorage.setItem(nt.keyPrefix+L,it),Ge(me)}catch(St){(St.name==="QuotaExceededError"||St.name==="NS_ERROR_DOM_QUOTA_REACHED")&&tt(St),tt(St)}})})});return A(Re,G),Re}function ki(L,pe){if(pe=k.apply(this,arguments),L=typeof L!="function"&&L||{},!L.name){var G=this.config();L.name=L.name||G.name,L.storeName=L.storeName||G.storeName}var Te=this,Re;return L.name?Re=new _(function(me){L.storeName?me(Dn(L,Te._defaultConfig)):me(L.name+"/")}).then(function(me){for(var Ge=localStorage.length-1;Ge>=0;Ge--){var tt=localStorage.key(Ge);tt.indexOf(me)===0&&localStorage.removeItem(tt)}}):Re=_.reject("Invalid arguments"),A(Re,pe),Re}var Qt={_driver:"localStorageWrapper",_initStorage:ei,_support:Un(),iterate:Bi,getItem:ti,setItem:Ti,removeItem:pn,clear:br,length:vi,key:di,keys:pi,dropInstance:ki},On=function(pe,G){return pe===G||typeof pe=="number"&&typeof G=="number"&&isNaN(pe)&&isNaN(G)},la=function(pe,G){for(var Te=pe.length,Re=0;Re<Te;){if(On(pe[Re],G))return!0;Re++}return!1},de=Array.isArray||function(L){return Object.prototype.toString.call(L)==="[object Array]"},Mt={},Vt={},Lt={INDEXEDDB:X,WEBSQL:cn,LOCALSTORAGE:Qt},wn=[Lt.INDEXEDDB._driver,Lt.WEBSQL._driver,Lt.LOCALSTORAGE._driver],Ln=["dropInstance"],so=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ln),Cu={description:"",driver:wn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ru(L,pe){L[pe]=function(){var G=arguments;return L.ready().then(function(){return L[pe].apply(L,G)})}}function ha(){for(var L=1;L<arguments.length;L++){var pe=arguments[L];if(pe)for(var G in pe)pe.hasOwnProperty(G)&&(de(pe[G])?arguments[0][G]=pe[G].slice():arguments[0][G]=pe[G])}return arguments[0]}var da=function(){function L(pe){u(this,L);for(var G in Lt)if(Lt.hasOwnProperty(G)){var Te=Lt[G],Re=Te._driver;this[G]=Re,Mt[Re]||this.defineDriver(Te)}this._defaultConfig=ha({},Cu),this._config=ha({},this._defaultConfig,pe),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return L.prototype.config=function(G){if((typeof G=="undefined"?"undefined":a(G))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Te in G){if(Te==="storeName"&&(G[Te]=G[Te].replace(/\W/g,"_")),Te==="version"&&typeof G[Te]!="number")return new Error("Database version must be a number.");this._config[Te]=G[Te]}return"driver"in G&&G.driver?this.setDriver(this._config.driver):!0}else return typeof G=="string"?this._config[G]:this._config},L.prototype.defineDriver=function(G,Te,Re){var me=new _(function(Ge,tt){try{var nt=G._driver,it=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!G._driver){tt(it);return}for(var st=so.concat("_initStorage"),St=0,Pt=st.length;St<Pt;St++){var sr=st[St],lr=!la(Ln,sr);if((lr||G[sr])&&typeof G[sr]!="function"){tt(it);return}}var Dr=function(){for(var Gn=function(zs){return function(){var Ks=new Error("Method "+zs+" is not implemented by the current driver"),Uu=_.reject(Ks);return A(Uu,arguments[arguments.length-1]),Uu}},co=0,Nu=Ln.length;co<Nu;co++){var pa=Ln[co];G[pa]||(G[pa]=Gn(pa))}};Dr();var zr=function(Gn){Mt[nt]&&console.info("Redefining LocalForage driver: "+nt),Mt[nt]=G,Vt[nt]=Gn,Ge()};"_support"in G?G._support&&typeof G._support=="function"?G._support().then(zr,tt):zr(!!G._support):zr(!0)}catch(en){tt(en)}});return F(me,Te,Re),me},L.prototype.driver=function(){return this._driver||null},L.prototype.getDriver=function(G,Te,Re){var me=Mt[G]?_.resolve(Mt[G]):_.reject(new Error("Driver not found."));return F(me,Te,Re),me},L.prototype.getSerializer=function(G){var Te=_.resolve(zt);return F(Te,G),Te},L.prototype.ready=function(G){var Te=this,Re=Te._driverSet.then(function(){return Te._ready===null&&(Te._ready=Te._initDriver()),Te._ready});return F(Re,G,G),Re},L.prototype.setDriver=function(G,Te,Re){var me=this;de(G)||(G=[G]);var Ge=this._getSupportedDrivers(G);function tt(){me._config.driver=me.driver()}function nt(St){return me._extend(St),tt(),me._ready=me._initStorage(me._config),me._ready}function it(St){return function(){var Pt=0;function sr(){for(;Pt<St.length;){var lr=St[Pt];return Pt++,me._dbInfo=null,me._ready=null,me.getDriver(lr).then(nt).catch(sr)}tt();var Dr=new Error("No available storage method found.");return me._driverSet=_.reject(Dr),me._driverSet}return sr()}}var st=this._driverSet!==null?this._driverSet.catch(function(){return _.resolve()}):_.resolve();return this._driverSet=st.then(function(){var St=Ge[0];return me._dbInfo=null,me._ready=null,me.getDriver(St).then(function(Pt){me._driver=Pt._driver,tt(),me._wrapLibraryMethodsWithReady(),me._initDriver=it(Ge)})}).catch(function(){tt();var St=new Error("No available storage method found.");return me._driverSet=_.reject(St),me._driverSet}),F(this._driverSet,Te,Re),this._driverSet},L.prototype.supports=function(G){return!!Vt[G]},L.prototype._extend=function(G){ha(this,G)},L.prototype._getSupportedDrivers=function(G){for(var Te=[],Re=0,me=G.length;Re<me;Re++){var Ge=G[Re];this.supports(Ge)&&Te.push(Ge)}return Te},L.prototype._wrapLibraryMethodsWithReady=function(){for(var G=0,Te=so.length;G<Te;G++)Ru(this,so[G])},L.prototype.createInstance=function(G){return new L(G)},L}(),Fi=new da;n.exports=Fi},{"3":3}]},{},[4])(4)})});function $m(r){return new Promise(function(e,t){for(var n=0,o=r;n<o.length;n++){var a=o[n];a.then(e,t)}})}function cc(r){return ae(this,void 0,void 0,function(){return ue(this,function(e){return[2,$m([yd(r),md(r)])]})})}function yd(r){return ae(this,void 0,void 0,function(){return ue(this,function(e){return[2,rl("https://dns.google/resolve?name="+r+"&type=txt")]})})}function md(r){return rl("https://cloudflare-dns.com/dns-query?name="+r+"&type=txt")}function rl(r){return fetch(r,{headers:{accept:"application/dns-json"}}).then(function(e){return e.json()}).then(function(e){if(e.Answer){var t=e.Answer.map(function(n){return(n.data||"").replace(/^"+|"+$/g,"")});return t[0][3]===";"?t.sort(function(n,o){return n.slice(0,4).localeCompare(o.slice(0,4))}).map(function(n){return n.slice(4)}).join(""):t.join("")}else return null})}function gd(r){return ae(this,void 0,void 0,function(){var e;return ue(this,function(t){switch(t.label){case 0:return[4,cc(r.startsWith("_dnslink.")?r:"_dnslink."+r)];case 1:return e=t.sent(),[2,e&&!e.includes("/ipns/")?e.replace(/^dnslink=/,"").replace(/^\/ipfs\//,""):null]}})})}var zm=Object.freeze({__proto__:null,lookupTxtRecord:cc,googleLookup:yd,cloudflareLookup:md,dnsOverHttps:rl,lookupDnsLink:gd}),qr={debug:!1,endpoints:{api:"https://runfission.com",lobby:"https://auth.fission.codes",user:"fission.name"}},Na={did:null,host:null,lastFetched:0};function Wo(){return ae(this,void 0,void 0,function(){var r,e,t;return ue(this,function(n){switch(n.label){case 0:return r=qr.endpoints.api.replace(/^https?:\/\//,"").replace(/\/$/,""),e=Date.now(),Na.host!==r||Na.lastFetched+1e3*60*60*3<=e?(t=Na,[4,cc("_did."+r)]):[3,2];case 1:t.did=n.sent(),Na.host=r,Na.lastFetched=e,n.label=2;case 2:if(!Na.did)throw new Error("Couldn't get the Fission API DID");return[2,Na.did]}})})}for(var Km=Object.freeze({__proto__:null,did:Wo}),bd=function(r,e){var t=new Uint8Array(r),n=new Uint8Array(e);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(t[o]!==n[o])return!1;return!0},Hm=Object.freeze({__proto__:null,equal:bd}),Gm=Vm,Wm=Jm,jm=eg,Xi=[],Ai=[],Ym=typeof Uint8Array!="undefined"?Uint8Array:Array,nl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",au=0,qm=nl.length;au<qm;++au)Xi[au]=nl[au],Ai[nl.charCodeAt(au)]=au;Ai["-".charCodeAt(0)]=62,Ai["_".charCodeAt(0)]=63;function _d(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function Vm(r){var e=_d(r),t=e[0],n=e[1];return(t+n)*3/4-n}function Xm(r,e,t){return(e+t)*3/4-t}function Jm(r){var e,t=_d(r),n=t[0],o=t[1],a=new Ym(Xm(r,n,o)),u=0,f=o>0?n-4:n,h;for(h=0;h<f;h+=4)e=Ai[r.charCodeAt(h)]<<18|Ai[r.charCodeAt(h+1)]<<12|Ai[r.charCodeAt(h+2)]<<6|Ai[r.charCodeAt(h+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=e&255;return o===2&&(e=Ai[r.charCodeAt(h)]<<2|Ai[r.charCodeAt(h+1)]>>4,a[u++]=e&255),o===1&&(e=Ai[r.charCodeAt(h)]<<10|Ai[r.charCodeAt(h+1)]<<4|Ai[r.charCodeAt(h+2)]>>2,a[u++]=e>>8&255,a[u++]=e&255),a}function Zm(r){return Xi[r>>18&63]+Xi[r>>12&63]+Xi[r>>6&63]+Xi[r&63]}function Qm(r,e,t){for(var n,o=[],a=e;a<t;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(r[a+2]&255),o.push(Zm(n));return o.join("")}function eg(r){for(var e,t=r.length,n=t%3,o=[],a=16383,u=0,f=t-n;u<f;u+=a)o.push(Qm(r,u,u+a>f?f:u+a));return n===1?(e=r[t-1],o.push(Xi[e>>2]+Xi[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],o.push(Xi[e>>10]+Xi[e>>4&63]+Xi[e<<2&63]+"=")),o.join("")}var uu={byteLength:Gm,toByteArray:Wm,fromByteArray:jm};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var tg=function(r,e,t,n,o){var a,u,f=o*8-n-1,h=(1<<f)-1,c=h>>1,y=-7,_=t?o-1:0,A=t?-1:1,F=r[e+_];for(_+=A,a=F&(1<<-y)-1,F>>=-y,y+=f;y>0;a=a*256+r[e+_],_+=A,y-=8);for(u=a&(1<<-y)-1,a>>=-y,y+=n;y>0;u=u*256+r[e+_],_+=A,y-=8);if(a===0)a=1-c;else{if(a===h)return u?NaN:(F?-1:1)*(1/0);u=u+Math.pow(2,n),a=a-c}return(F?-1:1)*u*Math.pow(2,a-n)},rg=function(r,e,t,n,o,a){var u,f,h,c=a*8-o-1,y=(1<<c)-1,_=y>>1,A=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,F=n?0:a-1,D=n?1:-1,k=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,u=y):(u=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+_>=1?e+=A/h:e+=A*Math.pow(2,1-_),e*h>=2&&(u++,h/=2),u+_>=y?(f=0,u=y):u+_>=1?(f=(e*h-1)*Math.pow(2,o),u=u+_):(f=e*Math.pow(2,_-1)*Math.pow(2,o),u=0));o>=8;r[t+F]=f&255,F+=D,f/=256,o-=8);for(u=u<<o|f,c+=o;c>0;r[t+F]=u&255,F+=D,u/=256,c-=8);r[t+F-D]|=k*128},Vn={read:tg,write:rg};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Fr=Zt(function(r,e){const t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=he,e.INSPECT_MAX_BYTES=50;const n=2147483647;e.kMaxLength=n,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const x=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(x,p),x.foo()===42}catch(x){return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function a(x){if(x>n)throw new RangeError('The value "'+x+'" is invalid for option "size"');const p=new Uint8Array(x);return Object.setPrototypeOf(p,u.prototype),p}function u(x,p,m){if(typeof x=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(x)}return f(x,p,m)}u.poolSize=8192;function f(x,p,m){if(typeof x=="string")return _(x,p);if(ArrayBuffer.isView(x))return F(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(ve(x,ArrayBuffer)||x&&ve(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ve(x,SharedArrayBuffer)||x&&ve(x.buffer,SharedArrayBuffer)))return D(x,p,m);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=x.valueOf&&x.valueOf();if(z!=null&&z!==x)return u.from(z,p,m);const re=k(x);if(re)return re;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return u.from(x[Symbol.toPrimitive]("string"),p,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}u.from=function(x,p,m){return f(x,p,m)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function h(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function c(x,p,m){return h(x),x<=0?a(x):p!==void 0?typeof m=="string"?a(x).fill(p,m):a(x).fill(p):a(x)}u.alloc=function(x,p,m){return c(x,p,m)};function y(x){return h(x),a(x<0?0:K(x)|0)}u.allocUnsafe=function(x){return y(x)},u.allocUnsafeSlow=function(x){return y(x)};function _(x,p){if((typeof p!="string"||p==="")&&(p="utf8"),!u.isEncoding(p))throw new TypeError("Unknown encoding: "+p);const m=ge(x,p)|0;let z=a(m);const re=z.write(x,p);return re!==m&&(z=z.slice(0,re)),z}function A(x){const p=x.length<0?0:K(x.length)|0,m=a(p);for(let z=0;z<p;z+=1)m[z]=x[z]&255;return m}function F(x){if(ve(x,Uint8Array)){const p=new Uint8Array(x);return D(p.buffer,p.byteOffset,p.byteLength)}return A(x)}function D(x,p,m){if(p<0||x.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<p+(m||0))throw new RangeError('"length" is outside of buffer bounds');let z;return p===void 0&&m===void 0?z=new Uint8Array(x):m===void 0?z=new Uint8Array(x,p):z=new Uint8Array(x,p,m),Object.setPrototypeOf(z,u.prototype),z}function k(x){if(u.isBuffer(x)){const p=K(x.length)|0,m=a(p);return m.length===0||x.copy(m,0,0,p),m}if(x.length!==void 0)return typeof x.length!="number"||Ke(x.length)?a(0):A(x);if(x.type==="Buffer"&&Array.isArray(x.data))return A(x.data)}function K(x){if(x>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return x|0}function he(x){return+x!=x&&(x=0),u.alloc(+x)}u.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==u.prototype},u.compare=function(p,m){if(ve(p,Uint8Array)&&(p=u.from(p,p.offset,p.byteLength)),ve(m,Uint8Array)&&(m=u.from(m,m.offset,m.byteLength)),!u.isBuffer(p)||!u.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===m)return 0;let z=p.length,re=m.length;for(let we=0,Ee=Math.min(z,re);we<Ee;++we)if(p[we]!==m[we]){z=p[we],re=m[we];break}return z<re?-1:re<z?1:0},u.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(p,m){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return u.alloc(0);let z;if(m===void 0)for(m=0,z=0;z<p.length;++z)m+=p[z].length;const re=u.allocUnsafe(m);let we=0;for(z=0;z<p.length;++z){let Ee=p[z];if(ve(Ee,Uint8Array))we+Ee.length>re.length?(u.isBuffer(Ee)||(Ee=u.from(Ee)),Ee.copy(re,we)):Uint8Array.prototype.set.call(re,Ee,we);else if(u.isBuffer(Ee))Ee.copy(re,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=Ee.length}return re};function ge(x,p){if(u.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||ve(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);const m=x.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&m===0)return 0;let re=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return d(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return N(x).length;default:if(re)return z?-1:d(x).length;p=(""+p).toLowerCase(),re=!0}}u.byteLength=ge;function ke(x,p,m){let z=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,p>>>=0,m<=p))return"";for(x||(x="utf8");;)switch(x){case"hex":return Yt(this,p,m);case"utf8":case"utf-8":return pt(this,p,m);case"ascii":return Dt(this,p,m);case"latin1":case"binary":return Rt(this,p,m);case"base64":return dt(this,p,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gr(this,p,m);default:if(z)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),z=!0}}u.prototype._isBuffer=!0;function fe(x,p,m){const z=x[p];x[p]=x[m],x[m]=z}u.prototype.swap16=function(){const p=this.length;if(p%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<p;m+=2)fe(this,m,m+1);return this},u.prototype.swap32=function(){const p=this.length;if(p%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<p;m+=4)fe(this,m,m+3),fe(this,m+1,m+2);return this},u.prototype.swap64=function(){const p=this.length;if(p%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<p;m+=8)fe(this,m,m+7),fe(this,m+1,m+6),fe(this,m+2,m+5),fe(this,m+3,m+4);return this},u.prototype.toString=function(){const p=this.length;return p===0?"":arguments.length===0?pt(this,0,p):ke.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(p){if(!u.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:u.compare(this,p)===0},u.prototype.inspect=function(){let p="";const m=e.INSPECT_MAX_BYTES;return p=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(p+=" ... "),"<Buffer "+p+">"},t&&(u.prototype[t]=u.prototype.inspect),u.prototype.compare=function(p,m,z,re,we){if(ve(p,Uint8Array)&&(p=u.from(p,p.offset,p.byteLength)),!u.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(m===void 0&&(m=0),z===void 0&&(z=p?p.length:0),re===void 0&&(re=0),we===void 0&&(we=this.length),m<0||z>p.length||re<0||we>this.length)throw new RangeError("out of range index");if(re>=we&&m>=z)return 0;if(re>=we)return-1;if(m>=z)return 1;if(m>>>=0,z>>>=0,re>>>=0,we>>>=0,this===p)return 0;let Ee=we-re,We=z-m;const ft=Math.min(Ee,We),Et=this.slice(re,we),At=p.slice(m,z);for(let zt=0;zt<ft;++zt)if(Et[zt]!==At[zt]){Ee=Et[zt],We=At[zt];break}return Ee<We?-1:We<Ee?1:0};function V(x,p,m,z,re){if(x.length===0)return-1;if(typeof m=="string"?(z=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,Ke(m)&&(m=re?0:x.length-1),m<0&&(m=x.length+m),m>=x.length){if(re)return-1;m=x.length-1}else if(m<0)if(re)m=0;else return-1;if(typeof p=="string"&&(p=u.from(p,z)),u.isBuffer(p))return p.length===0?-1:ce(x,p,m,z,re);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(x,p,m):Uint8Array.prototype.lastIndexOf.call(x,p,m):ce(x,[p],m,z,re);throw new TypeError("val must be string, number or Buffer")}function ce(x,p,m,z,re){let we=1,Ee=x.length,We=p.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(x.length<2||p.length<2)return-1;we=2,Ee/=2,We/=2,m/=2}function ft(At,zt){return we===1?At[zt]:At.readUInt16BE(zt*we)}let Et;if(re){let At=-1;for(Et=m;Et<Ee;Et++)if(ft(x,Et)===ft(p,At===-1?0:Et-At)){if(At===-1&&(At=Et),Et-At+1===We)return At*we}else At!==-1&&(Et-=Et-At),At=-1}else for(m+We>Ee&&(m=Ee-We),Et=m;Et>=0;Et--){let At=!0;for(let zt=0;zt<We;zt++)if(ft(x,Et+zt)!==ft(p,zt)){At=!1;break}if(At)return Et}return-1}u.prototype.includes=function(p,m,z){return this.indexOf(p,m,z)!==-1},u.prototype.indexOf=function(p,m,z){return V(this,p,m,z,!0)},u.prototype.lastIndexOf=function(p,m,z){return V(this,p,m,z,!1)};function Se(x,p,m,z){m=Number(m)||0;const re=x.length-m;z?(z=Number(z),z>re&&(z=re)):z=re;const we=p.length;z>we/2&&(z=we/2);let Ee;for(Ee=0;Ee<z;++Ee){const We=parseInt(p.substr(Ee*2,2),16);if(Ke(We))return Ee;x[m+Ee]=We}return Ee}function le(x,p,m,z){return Q(d(p,x.length-m),x,m,z)}function Oe(x,p,m,z){return Q(v(p),x,m,z)}function Pe(x,p,m,z){return Q(N(p),x,m,z)}function vt(x,p,m,z){return Q(I(p,x.length-m),x,m,z)}u.prototype.write=function(p,m,z,re){if(m===void 0)re="utf8",z=this.length,m=0;else if(z===void 0&&typeof m=="string")re=m,z=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(z)?(z=z>>>0,re===void 0&&(re="utf8")):(re=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const we=this.length-m;if((z===void 0||z>we)&&(z=we),p.length>0&&(z<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");let Ee=!1;for(;;)switch(re){case"hex":return Se(this,p,m,z);case"utf8":case"utf-8":return le(this,p,m,z);case"ascii":case"latin1":case"binary":return Oe(this,p,m,z);case"base64":return Pe(this,p,m,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vt(this,p,m,z);default:if(Ee)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),Ee=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function dt(x,p,m){return p===0&&m===x.length?uu.fromByteArray(x):uu.fromByteArray(x.slice(p,m))}function pt(x,p,m){m=Math.min(x.length,m);const z=[];let re=p;for(;re<m;){const we=x[re];let Ee=null,We=we>239?4:we>223?3:we>191?2:1;if(re+We<=m){let ft,Et,At,zt;switch(We){case 1:we<128&&(Ee=we);break;case 2:ft=x[re+1],(ft&192)==128&&(zt=(we&31)<<6|ft&63,zt>127&&(Ee=zt));break;case 3:ft=x[re+1],Et=x[re+2],(ft&192)==128&&(Et&192)==128&&(zt=(we&15)<<12|(ft&63)<<6|Et&63,zt>2047&&(zt<55296||zt>57343)&&(Ee=zt));break;case 4:ft=x[re+1],Et=x[re+2],At=x[re+3],(ft&192)==128&&(Et&192)==128&&(At&192)==128&&(zt=(we&15)<<18|(ft&63)<<12|(Et&63)<<6|At&63,zt>65535&&zt<1114112&&(Ee=zt))}}Ee===null?(Ee=65533,We=1):Ee>65535&&(Ee-=65536,z.push(Ee>>>10&1023|55296),Ee=56320|Ee&1023),z.push(Ee),re+=We}return lt(z)}const xt=4096;function lt(x){const p=x.length;if(p<=xt)return String.fromCharCode.apply(String,x);let m="",z=0;for(;z<p;)m+=String.fromCharCode.apply(String,x.slice(z,z+=xt));return m}function Dt(x,p,m){let z="";m=Math.min(x.length,m);for(let re=p;re<m;++re)z+=String.fromCharCode(x[re]&127);return z}function Rt(x,p,m){let z="";m=Math.min(x.length,m);for(let re=p;re<m;++re)z+=String.fromCharCode(x[re]);return z}function Yt(x,p,m){const z=x.length;(!p||p<0)&&(p=0),(!m||m<0||m>z)&&(m=z);let re="";for(let we=p;we<m;++we)re+=ut[x[we]];return re}function gr(x,p,m){const z=x.slice(p,m);let re="";for(let we=0;we<z.length-1;we+=2)re+=String.fromCharCode(z[we]+z[we+1]*256);return re}u.prototype.slice=function(p,m){const z=this.length;p=~~p,m=m===void 0?z:~~m,p<0?(p+=z,p<0&&(p=0)):p>z&&(p=z),m<0?(m+=z,m<0&&(m=0)):m>z&&(m=z),m<p&&(m=p);const re=this.subarray(p,m);return Object.setPrototypeOf(re,u.prototype),re};function yt(x,p,m){if(x%1!=0||x<0)throw new RangeError("offset is not uint");if(x+p>m)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(p,m,z){p=p>>>0,m=m>>>0,z||yt(p,m,this.length);let re=this[p],we=1,Ee=0;for(;++Ee<m&&(we*=256);)re+=this[p+Ee]*we;return re},u.prototype.readUintBE=u.prototype.readUIntBE=function(p,m,z){p=p>>>0,m=m>>>0,z||yt(p,m,this.length);let re=this[p+--m],we=1;for(;m>0&&(we*=256);)re+=this[p+--m]*we;return re},u.prototype.readUint8=u.prototype.readUInt8=function(p,m){return p=p>>>0,m||yt(p,1,this.length),this[p]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(p,m){return p=p>>>0,m||yt(p,2,this.length),this[p]|this[p+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(p,m){return p=p>>>0,m||yt(p,2,this.length),this[p]<<8|this[p+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(p,m){return p=p>>>0,m||yt(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(p,m){return p=p>>>0,m||yt(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},u.prototype.readBigUInt64LE=se(function(p){p=p>>>0,q(p,"offset");const m=this[p],z=this[p+7];(m===void 0||z===void 0)&&X(p,this.length-8);const re=m+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,we=this[++p]+this[++p]*2**8+this[++p]*2**16+z*2**24;return BigInt(re)+(BigInt(we)<<BigInt(32))}),u.prototype.readBigUInt64BE=se(function(p){p=p>>>0,q(p,"offset");const m=this[p],z=this[p+7];(m===void 0||z===void 0)&&X(p,this.length-8);const re=m*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],we=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+z;return(BigInt(re)<<BigInt(32))+BigInt(we)}),u.prototype.readIntLE=function(p,m,z){p=p>>>0,m=m>>>0,z||yt(p,m,this.length);let re=this[p],we=1,Ee=0;for(;++Ee<m&&(we*=256);)re+=this[p+Ee]*we;return we*=128,re>=we&&(re-=Math.pow(2,8*m)),re},u.prototype.readIntBE=function(p,m,z){p=p>>>0,m=m>>>0,z||yt(p,m,this.length);let re=m,we=1,Ee=this[p+--re];for(;re>0&&(we*=256);)Ee+=this[p+--re]*we;return we*=128,Ee>=we&&(Ee-=Math.pow(2,8*m)),Ee},u.prototype.readInt8=function(p,m){return p=p>>>0,m||yt(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},u.prototype.readInt16LE=function(p,m){p=p>>>0,m||yt(p,2,this.length);const z=this[p]|this[p+1]<<8;return z&32768?z|4294901760:z},u.prototype.readInt16BE=function(p,m){p=p>>>0,m||yt(p,2,this.length);const z=this[p+1]|this[p]<<8;return z&32768?z|4294901760:z},u.prototype.readInt32LE=function(p,m){return p=p>>>0,m||yt(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},u.prototype.readInt32BE=function(p,m){return p=p>>>0,m||yt(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},u.prototype.readBigInt64LE=se(function(p){p=p>>>0,q(p,"offset");const m=this[p],z=this[p+7];(m===void 0||z===void 0)&&X(p,this.length-8);const re=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+(z<<24);return(BigInt(re)<<BigInt(32))+BigInt(m+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),u.prototype.readBigInt64BE=se(function(p){p=p>>>0,q(p,"offset");const m=this[p],z=this[p+7];(m===void 0||z===void 0)&&X(p,this.length-8);const re=(m<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(re)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+z)}),u.prototype.readFloatLE=function(p,m){return p=p>>>0,m||yt(p,4,this.length),Vn.read(this,p,!0,23,4)},u.prototype.readFloatBE=function(p,m){return p=p>>>0,m||yt(p,4,this.length),Vn.read(this,p,!1,23,4)},u.prototype.readDoubleLE=function(p,m){return p=p>>>0,m||yt(p,8,this.length),Vn.read(this,p,!0,52,8)},u.prototype.readDoubleBE=function(p,m){return p=p>>>0,m||yt(p,8,this.length),Vn.read(this,p,!1,52,8)};function gt(x,p,m,z,re,we){if(!u.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>re||p<we)throw new RangeError('"value" argument is out of bounds');if(m+z>x.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(p,m,z,re){if(p=+p,m=m>>>0,z=z>>>0,!re){const We=Math.pow(2,8*z)-1;gt(this,p,m,z,We,0)}let we=1,Ee=0;for(this[m]=p&255;++Ee<z&&(we*=256);)this[m+Ee]=p/we&255;return m+z},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(p,m,z,re){if(p=+p,m=m>>>0,z=z>>>0,!re){const We=Math.pow(2,8*z)-1;gt(this,p,m,z,We,0)}let we=z-1,Ee=1;for(this[m+we]=p&255;--we>=0&&(Ee*=256);)this[m+we]=p/Ee&255;return m+z},u.prototype.writeUint8=u.prototype.writeUInt8=function(p,m,z){return p=+p,m=m>>>0,z||gt(this,p,m,1,255,0),this[m]=p&255,m+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(p,m,z){return p=+p,m=m>>>0,z||gt(this,p,m,2,65535,0),this[m]=p&255,this[m+1]=p>>>8,m+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(p,m,z){return p=+p,m=m>>>0,z||gt(this,p,m,2,65535,0),this[m]=p>>>8,this[m+1]=p&255,m+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(p,m,z){return p=+p,m=m>>>0,z||gt(this,p,m,4,4294967295,0),this[m+3]=p>>>24,this[m+2]=p>>>16,this[m+1]=p>>>8,this[m]=p&255,m+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(p,m,z){return p=+p,m=m>>>0,z||gt(this,p,m,4,4294967295,0),this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255,m+4};function kt(x,p,m,z,re){C(p,z,re,x,m,7);let we=Number(p&BigInt(4294967295));x[m++]=we,we=we>>8,x[m++]=we,we=we>>8,x[m++]=we,we=we>>8,x[m++]=we;let Ee=Number(p>>BigInt(32)&BigInt(4294967295));return x[m++]=Ee,Ee=Ee>>8,x[m++]=Ee,Ee=Ee>>8,x[m++]=Ee,Ee=Ee>>8,x[m++]=Ee,m}function Xe(x,p,m,z,re){C(p,z,re,x,m,7);let we=Number(p&BigInt(4294967295));x[m+7]=we,we=we>>8,x[m+6]=we,we=we>>8,x[m+5]=we,we=we>>8,x[m+4]=we;let Ee=Number(p>>BigInt(32)&BigInt(4294967295));return x[m+3]=Ee,Ee=Ee>>8,x[m+2]=Ee,Ee=Ee>>8,x[m+1]=Ee,Ee=Ee>>8,x[m]=Ee,m+8}u.prototype.writeBigUInt64LE=se(function(p,m=0){return kt(this,p,m,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=se(function(p,m=0){return Xe(this,p,m,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(p,m,z,re){if(p=+p,m=m>>>0,!re){const ft=Math.pow(2,8*z-1);gt(this,p,m,z,ft-1,-ft)}let we=0,Ee=1,We=0;for(this[m]=p&255;++we<z&&(Ee*=256);)p<0&&We===0&&this[m+we-1]!==0&&(We=1),this[m+we]=(p/Ee>>0)-We&255;return m+z},u.prototype.writeIntBE=function(p,m,z,re){if(p=+p,m=m>>>0,!re){const ft=Math.pow(2,8*z-1);gt(this,p,m,z,ft-1,-ft)}let we=z-1,Ee=1,We=0;for(this[m+we]=p&255;--we>=0&&(Ee*=256);)p<0&&We===0&&this[m+we+1]!==0&&(We=1),this[m+we]=(p/Ee>>0)-We&255;return m+z},u.prototype.writeInt8=function(p,m,z){return p=+p,m=m>>>0,z||gt(this,p,m,1,127,-128),p<0&&(p=255+p+1),this[m]=p&255,m+1},u.prototype.writeInt16LE=function(p,m,z){return p=+p,m=m>>>0,z||gt(this,p,m,2,32767,-32768),this[m]=p&255,this[m+1]=p>>>8,m+2},u.prototype.writeInt16BE=function(p,m,z){return p=+p,m=m>>>0,z||gt(this,p,m,2,32767,-32768),this[m]=p>>>8,this[m+1]=p&255,m+2},u.prototype.writeInt32LE=function(p,m,z){return p=+p,m=m>>>0,z||gt(this,p,m,4,2147483647,-2147483648),this[m]=p&255,this[m+1]=p>>>8,this[m+2]=p>>>16,this[m+3]=p>>>24,m+4},u.prototype.writeInt32BE=function(p,m,z){return p=+p,m=m>>>0,z||gt(this,p,m,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[m]=p>>>24,this[m+1]=p>>>16,this[m+2]=p>>>8,this[m+3]=p&255,m+4},u.prototype.writeBigInt64LE=se(function(p,m=0){return kt(this,p,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=se(function(p,m=0){return Xe(this,p,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function oe(x,p,m,z,re,we){if(m+z>x.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function R(x,p,m,z,re){return p=+p,m=m>>>0,re||oe(x,p,m,4),Vn.write(x,p,m,z,23,4),m+4}u.prototype.writeFloatLE=function(p,m,z){return R(this,p,m,!0,z)},u.prototype.writeFloatBE=function(p,m,z){return R(this,p,m,!1,z)};function ie(x,p,m,z,re){return p=+p,m=m>>>0,re||oe(x,p,m,8),Vn.write(x,p,m,z,52,8),m+8}u.prototype.writeDoubleLE=function(p,m,z){return ie(this,p,m,!0,z)},u.prototype.writeDoubleBE=function(p,m,z){return ie(this,p,m,!1,z)},u.prototype.copy=function(p,m,z,re){if(!u.isBuffer(p))throw new TypeError("argument should be a Buffer");if(z||(z=0),!re&&re!==0&&(re=this.length),m>=p.length&&(m=p.length),m||(m=0),re>0&&re<z&&(re=z),re===z||p.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),p.length-m<re-z&&(re=p.length-m+z);const we=re-z;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,z,re):Uint8Array.prototype.set.call(p,this.subarray(z,re),m),we},u.prototype.fill=function(p,m,z,re){if(typeof p=="string"){if(typeof m=="string"?(re=m,m=0,z=this.length):typeof z=="string"&&(re=z,z=this.length),re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!u.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(p.length===1){const Ee=p.charCodeAt(0);(re==="utf8"&&Ee<128||re==="latin1")&&(p=Ee)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(m<0||this.length<m||this.length<z)throw new RangeError("Out of range index");if(z<=m)return this;m=m>>>0,z=z===void 0?this.length:z>>>0,p||(p=0);let we;if(typeof p=="number")for(we=m;we<z;++we)this[we]=p;else{const Ee=u.isBuffer(p)?p:u.from(p,re),We=Ee.length;if(We===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(we=0;we<z-m;++we)this[we+m]=Ee[we%We]}return this};const M={};function H(x,p,m){M[x]=class extends m{constructor(){super();Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x}]`,this.stack,delete this.name}get code(){return x}set code(re){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:re,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}H("ERR_BUFFER_OUT_OF_BOUNDS",function(x){return x?`${x} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),H("ERR_INVALID_ARG_TYPE",function(x,p){return`The "${x}" argument must be of type number. Received type ${typeof p}`},TypeError),H("ERR_OUT_OF_RANGE",function(x,p,m){let z=`The value of "${x}" is out of range.`,re=m;return Number.isInteger(m)&&Math.abs(m)>2**32?re=E(String(m)):typeof m=="bigint"&&(re=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(re=E(re)),re+="n"),z+=` It must be ${p}. Received ${re}`,z},RangeError);function E(x){let p="",m=x.length;const z=x[0]==="-"?1:0;for(;m>=z+4;m-=3)p=`_${x.slice(m-3,m)}${p}`;return`${x.slice(0,m)}${p}`}function T(x,p,m){q(p,"offset"),(x[p]===void 0||x[p+m]===void 0)&&X(p,x.length-(m+1))}function C(x,p,m,z,re,we){if(x>m||x<p){const Ee=typeof p=="bigint"?"n":"";let We;throw we>3?p===0||p===BigInt(0)?We=`>= 0${Ee} and < 2${Ee} ** ${(we+1)*8}${Ee}`:We=`>= -(2${Ee} ** ${(we+1)*8-1}${Ee}) and < 2 ** ${(we+1)*8-1}${Ee}`:We=`>= ${p}${Ee} and <= ${m}${Ee}`,new M.ERR_OUT_OF_RANGE("value",We,x)}T(z,re,we)}function q(x,p){if(typeof x!="number")throw new M.ERR_INVALID_ARG_TYPE(p,"number",x)}function X(x,p,m){throw Math.floor(x)!==x?(q(x,m),new M.ERR_OUT_OF_RANGE(m||"offset","an integer",x)):p<0?new M.ERR_BUFFER_OUT_OF_BOUNDS:new M.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${p}`,x)}const ee=/[^+/0-9A-Za-z-_]/g;function S(x){if(x=x.split("=")[0],x=x.trim().replace(ee,""),x.length<2)return"";for(;x.length%4!=0;)x=x+"=";return x}function d(x,p){p=p||1/0;let m;const z=x.length;let re=null;const we=[];for(let Ee=0;Ee<z;++Ee){if(m=x.charCodeAt(Ee),m>55295&&m<57344){if(!re){if(m>56319){(p-=3)>-1&&we.push(239,191,189);continue}else if(Ee+1===z){(p-=3)>-1&&we.push(239,191,189);continue}re=m;continue}if(m<56320){(p-=3)>-1&&we.push(239,191,189),re=m;continue}m=(re-55296<<10|m-56320)+65536}else re&&(p-=3)>-1&&we.push(239,191,189);if(re=null,m<128){if((p-=1)<0)break;we.push(m)}else if(m<2048){if((p-=2)<0)break;we.push(m>>6|192,m&63|128)}else if(m<65536){if((p-=3)<0)break;we.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((p-=4)<0)break;we.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return we}function v(x){const p=[];for(let m=0;m<x.length;++m)p.push(x.charCodeAt(m)&255);return p}function I(x,p){let m,z,re;const we=[];for(let Ee=0;Ee<x.length&&!((p-=2)<0);++Ee)m=x.charCodeAt(Ee),z=m>>8,re=m%256,we.push(re),we.push(z);return we}function N(x){return uu.toByteArray(S(x))}function Q(x,p,m,z){let re;for(re=0;re<z&&!(re+m>=p.length||re>=x.length);++re)p[re+m]=x[re];return re}function ve(x,p){return x instanceof p||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===p.name}function Ke(x){return x!==x}const ut=function(){const x="0123456789abcdef",p=new Array(256);for(let m=0;m<16;++m){const z=m*16;for(let re=0;re<16;++re)p[z+re]=x[m]+x[re]}return p}();function se(x){return typeof BigInt=="undefined"?De:x}function De(){throw new Error("BigInt not supported")}});function wd(r){return Fr.Buffer.from(r,"base64").toString("binary")}function xd(r){return Fr.Buffer.from(r,"binary").toString("base64")}function fc(r){return wd(il(r))}function lc(r){return Ed(xd(r))}function Ed(r){return r.replace(/\//g,"_").replace(/\+/g,"-").replace(/=+$/,"")}function il(r){return r.replace(/_/g,"/").replace(/-/g,"+")}var Ad=Object.freeze({__proto__:null,decode:wd,encode:xd,urlDecode:fc,urlEncode:lc,makeUrlSafe:Ed,makeUrlUnsafe:il}),Sd=function(r){return ae(void 0,void 0,void 0,function(){return ue(this,function(e){return[2,new Promise(function(t,n){var o=function(){return n(new Error("Failed to read file"))},a=new FileReader;a.addEventListener("load",function(u){var f,h=((f=u==null?void 0:u.target)===null||f===void 0?void 0:f.result)||null;h===null&&o(),t(Fr.Buffer.from(h))}),a.addEventListener("error",function(){return a.abort()}),a.addEventListener("abort",o),a.readAsArrayBuffer(r)})]})})},ng=Object.freeze({__proto__:null,toBuffer:Sd}),hc=typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{};function Id(){throw new Error("setTimeout has not been defined")}function Bd(){throw new Error("clearTimeout has not been defined")}var jo=Id,Yo=Bd;typeof hc.setTimeout=="function"&&(jo=setTimeout),typeof hc.clearTimeout=="function"&&(Yo=clearTimeout);function Td(r){if(jo===setTimeout)return setTimeout(r,0);if((jo===Id||!jo)&&setTimeout)return jo=setTimeout,setTimeout(r,0);try{return jo(r,0)}catch(e){try{return jo.call(null,r,0)}catch(t){return jo.call(this,r,0)}}}function ig(r){if(Yo===clearTimeout)return clearTimeout(r);if((Yo===Bd||!Yo)&&clearTimeout)return Yo=clearTimeout,clearTimeout(r);try{return Yo(r)}catch(e){try{return Yo.call(null,r)}catch(t){return Yo.call(this,r)}}}var xo=[],su=!1,Ua,dc=-1;function og(){!su||!Ua||(su=!1,Ua.length?xo=Ua.concat(xo):dc=-1,xo.length&&kd())}function kd(){if(!su){var r=Td(og);su=!0;for(var e=xo.length;e;){for(Ua=xo,xo=[];++dc<e;)Ua&&Ua[dc].run();dc=-1,e=xo.length}Ua=null,su=!1,ig(r)}}function ag(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];xo.push(new Fd(r,e)),xo.length===1&&!su&&Td(kd)}function Fd(r,e){this.fun=r,this.array=e}Fd.prototype.run=function(){this.fun.apply(null,this.array)};var ug="browser",sg="browser",cg=!0,fg={},lg=[],hg="",dg={},pg={},vg={};function Da(){}var yg=Da,mg=Da,gg=Da,bg=Da,_g=Da,wg=Da,xg=Da;function Eg(r){throw new Error("process.binding is not supported")}function Ag(){return"/"}function Sg(r){throw new Error("process.chdir is not supported")}function Ig(){return 0}var cu=hc.performance||{},Bg=cu.now||cu.mozNow||cu.msNow||cu.oNow||cu.webkitNow||function(){return new Date().getTime()};function Tg(r){var e=Bg.call(cu)*.001,t=Math.floor(e),n=Math.floor(e%1*1e9);return r&&(t=t-r[0],n=n-r[1],n<0&&(t--,n+=1e9)),[t,n]}var kg=new Date;function Fg(){var r=new Date,e=r-kg;return e/1e3}var Ji={nextTick:ag,title:ug,browser:cg,env:fg,argv:lg,version:hg,versions:dg,on:yg,addListener:mg,once:gg,off:bg,removeListener:_g,removeAllListeners:wg,emit:xg,binding:Eg,cwd:Ag,chdir:Sg,umask:Ig,hrtime:Tg,platform:sg,release:pg,config:vg,uptime:Fg},Cg={},Rg=Object.freeze({__proto__:null,default:Cg}),Cd=tl(Rg),Ng=Zt(function(r,e){/*! noble-ed25519 - MIT License (c) Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.verify=e.sign=e.getPublicKey=e.SignResult=e.Signature=e.Point=e.ExtendedPoint=e.CURVE=void 0;const t={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,P:2n**255n-19n,n:2n**252n+27742317777372353535851937790883648493n,h:8n,Gx:15112221349535400772501151409588531511454012693041857206046113283949847762202n,Gy:46316835694926478169428394003475163141307993866256225615783033603165251855960n};e.CURVE=t;const n=32,o=(t.P+3n)/8n,a=Oe(2n,(t.P+1n)/4n,t.P),u=19681161376707505956807079304988542015446066515923890162744021073123829784752n,f=54469307008909316920995813868745141605393597292927456921205312896311721017578n,h=25063068953384623474111414158702152701244531502492656460079210482610430750235n;class c{constructor(M,H,E,T){this.x=M,this.y=H,this.z=E,this.t=T}static fromAffine(M){if(!(M instanceof _))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return M.equals(_.ZERO)?c.ZERO:new c(M.x,M.y,1n,le(M.x*M.y))}static toAffineBatch(M){const H=dt(M.map(E=>E.z));return M.map((E,T)=>E.toAffine(H[T]))}static normalizeZ(M){return this.toAffineBatch(M).map(this.fromAffine)}static fromRistrettoHash(M){const H=Se(M.slice(0,n)),E=this.elligatorRistrettoFlavor(H),T=Se(M.slice(n,n*2)),C=this.elligatorRistrettoFlavor(T);return E.add(C)}static elligatorRistrettoFlavor(M){const{d:H}=t,E=le(1n-H**2n),T=(H-1n)**2n,C=u*(M*M),q=le((C+1n)*E);let X=le(-1n);const ee=le((X-H*C)*le(C+H));let{isNotZeroSquare:S,value:d}=Dt(q,ee),v=le(d*M);v=ke(v)?v:le(-v),d=S?d:v,X=S?X:C;const I=X*(C-1n)*T-ee,N=d*d,Q=(d+d)*ee,ve=I*h,Ke=1n-N,ut=1n+N;return new c(le(Q*ut),le(Ke*ve),le(ve*ut),le(Q*Ke))}static fromRistrettoBytes(M){const H=Se(M),E=gt(ge(H,n),M),T=ke(H);if(!E||T)throw new Error("Cannot convert bytes to Ristretto Point");const C=H*H,q=1n-C,X=1n+C,ee=X*X,S=q*q*-t.d-ee,{isNotZeroSquare:d,value:v}=pt(le(S*ee)),I=v*X,N=v*I*S;let Q=le((H+H)*I);ke(Q)&&(Q=le(-Q));const ve=le(q*N),Ke=le(Q*ve);if(!d||ke(Ke)||ve===0n)throw new Error("Cannot convert bytes to Ristretto Point");return new c(Q,ve,1n,Ke)}toRistrettoBytes(){let{x:M,y:H,z:E,t:T}=this;const C=(E+H)*(E-H),q=M*H,{value:X}=pt(le(q**2n*C)),ee=X*C,S=X*q,d=ee*S*T;let v=S;if(ke(T*d)){const N=le(M*u);M=le(H*u),H=N,v=le(ee*f)}ke(M*d)&&(H=le(-H));let I=le((E-H)*v);return ke(I)&&(I=le(-I)),ge(I,n)}equals(M){const H=this,E=M,[T,C,q,X]=[H.t,E.t,H.z,E.z];return le(T*X)===le(C*q)}negate(){return new c(le(-this.x),this.y,this.z,le(-this.t))}double(){const M=this.x,H=this.y,E=this.z,{a:T}=t,C=le(M**2n),q=le(H**2n),X=le(2n*E**2n),ee=le(T*C),S=le((M+H)**2n-C-q),d=le(ee+q),v=le(d-X),I=le(ee-q),N=le(S*v),Q=le(d*I),ve=le(S*I),Ke=le(v*d);return new c(N,Q,Ke,ve)}add(M){const H=this.x,E=this.y,T=this.z,C=this.t,q=M.x,X=M.y,ee=M.z,S=M.t,d=le((E-H)*(X+q)),v=le((E+H)*(X-q)),I=le(v-d);if(I===0n)return this.double();const N=le(T*2n*S),Q=le(C*2n*ee),ve=le(Q+N),Ke=le(v+d),ut=le(Q-N),se=le(ve*I),De=le(Ke*ut),x=le(ve*ut),p=le(I*Ke);return new c(se,De,p,x)}subtract(M){return this.add(M.negate())}multiplyUnsafe(M){if(typeof M!="number"&&typeof M!="bigint")throw new TypeError("Point#multiply: expected number or bigint");let H=le(BigInt(M),t.n);if(H<=0)throw new Error("Point#multiply: invalid scalar, expected positive integer");let E=c.ZERO,T=this;for(;H>0n;)H&1n&&(E=E.add(T)),T=T.double(),H>>=1n;return E}precomputeWindow(M){const H=256/M+1;let E=[],T=this,C=T;for(let q=0;q<H;q++){C=T,E.push(C);for(let X=1;X<2**(M-1);X++)C=C.add(T),E.push(C);T=C.double()}return E}wNAF(M,H){!H&&this.equals(c.BASE)&&(H=_.BASE);const E=H&&H._WINDOW_SIZE||1;if(256%E)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let T=H&&y.get(H);T||(T=this.precomputeWindow(E),H&&E!==1&&(T=c.normalizeZ(T),y.set(H,T)));let C=c.ZERO,q=c.ZERO;const X=256/E+1,ee=2**(E-1),S=BigInt(2**E-1),d=2**E,v=BigInt(E);for(let I=0;I<X;I++){const N=I*ee;let Q=Number(M&S);if(M>>=v,Q>ee&&(Q-=d,M+=1n),Q===0)q=q.add(I%2?T[N].negate():T[N]);else{const ve=T[N+Math.abs(Q)-1];C=C.add(Q<0?ve.negate():ve)}}return[C,q]}multiply(M,H){if(typeof M!="number"&&typeof M!="bigint")throw new TypeError("Point#multiply: expected number or bigint");const E=le(BigInt(M),t.n);if(E<=0)throw new Error("Point#multiply: invalid scalar, expected positive integer");return c.normalizeZ(this.wNAF(E,H))[0]}toAffine(M=vt(this.z)){const H=le(this.x*M),E=le(this.y*M);return new _(H,E)}}e.ExtendedPoint=c,c.BASE=new c(t.Gx,t.Gy,1n,le(t.Gx*t.Gy)),c.ZERO=new c(0n,1n,1n,0n);const y=new WeakMap;class _{constructor(M,H){this.x=M,this.y=H}_setWindowSize(M){this._WINDOW_SIZE=M,y.delete(this)}static fromHex(M){const{d:H,P:E}=t,T=M instanceof Uint8Array?M:K(M),C=T.length-1,q=T[C]&~128,X=(T[C]&128)!=0,ee=Uint8Array.from(Array.from(T.slice(0,C)).concat(q)),S=fe(ee);if(S>=E)throw new Error("Point#fromHex expects hex <= Fp");const d=S*S,v=le((d-1n)*vt(H*d+1n));let I=Oe(v,o);le(I*I-v)!==0n&&(I=le(I*a));const N=(I&1n)===1n;return X!==N&&(I=le(-I)),new _(I,S)}toRawBytes(){const M=he(this.y),H=new Uint8Array(n);for(let T=M.length-2,C=0;C<n&&T>=0;T-=2,C++)H[C]=parseInt(M[T]+M[T+1],16);const E=this.x&1n?128:0;return H[n-1]|=E,H}toHex(){return D(this.toRawBytes())}toX25519(){return le((1n+this.y)*vt(1n-this.y))}equals(M){return this.x===M.x&&this.y===M.y}negate(){return new _(le(-this.x),this.y)}add(M){return c.fromAffine(this).add(c.fromAffine(M)).toAffine()}subtract(M){return this.add(M.negate())}multiply(M){return c.fromAffine(this).multiply(M,this).toAffine()}}e.Point=_,_.BASE=new _(t.Gx,t.Gy),_.ZERO=new _(0n,1n);class A{constructor(M,H){this.r=M,this.s=H}static fromHex(M){M=yt(M);const H=_.fromHex(M.slice(0,32)),E=fe(M.slice(32));if(E>=t.n)throw new Error("Signature#fromHex expects s <= CURVE.n");return new A(H,E)}toRawBytes(){const M=K(he(this.s)).reverse(),H=new Uint8Array(n);H.set(M);const E=new Uint8Array(n*2);return E.set(this.r.toRawBytes()),E.set(H,32),E}toHex(){return D(this.toRawBytes())}}e.Signature=A,e.SignResult=A;function F(...ie){if(ie.length===1)return ie[0];const M=ie.reduce((E,T)=>E+T.length,0),H=new Uint8Array(M);for(let E=0,T=0;E<ie.length;E++){const C=ie[E];H.set(C,T),T+=C.length}return H}function D(ie){let M="";for(let H=0;H<ie.length;H++)M+=ie[H].toString(16).padStart(2,"0");return M}function k(ie){return ie.toString(16).padStart(n*2,"0")}function K(ie){ie=ie.length&1?`0${ie}`:ie;const M=new Uint8Array(ie.length/2);for(let H=0;H<M.length;H++){let E=H*2;M[H]=Number.parseInt(ie.slice(E,E+2),16)}return M}function he(ie){const M=ie.toString(16);return M.length&1?`0${M}`:M}function ge(ie,M=n){const H=he(ie).padStart(M*2,"0");return K(H).reverse()}function ke(ie){const M=he(le(ie)),H=Number.parseInt(M.slice(M.length-2,M.length),16);return Boolean(H&1)}function fe(ie){let M=0n;for(let H=0;H<ie.length;H++)M+=BigInt(ie[H])<<8n*BigInt(H);return M}function V(ie,M=0){return BigInt(ie[0+M])|BigInt(ie[1+M])<<8n|BigInt(ie[2+M])<<16n|BigInt(ie[3+M])<<24n|BigInt(ie[4+M])<<32n|BigInt(ie[5+M])<<40n|BigInt(ie[6+M])<<48n|BigInt(ie[7+M])<<56n}const ce=(1n<<51n)-1n;function Se(ie){const M=V(ie,0)&ce,H=V(ie,6)>>3n&ce,E=V(ie,12)>>6n&ce,T=V(ie,19)>>1n&ce,C=V(ie,24)>>12n&ce;return le(M+(H<<51n)+(E<<102n)+(T<<153n)+(C<<204n))}function le(ie,M=t.P){const H=ie%M;return H>=0n?H:M+H}function Oe(ie,M,H=t.P){let E=1n;for(;M>0n;)M&1n&&(E=le(E*ie,H)),M>>=1n,ie=le(ie*ie,H);return E}function Pe(ie,M){let[H,E,T,C]=[0n,1n,1n,0n];for(;ie!==0n;){let X=M/ie,ee=M%ie,S=H-T*X,d=E-C*X;[M,ie]=[ie,ee],[H,E]=[T,C],[T,C]=[S,d]}return[M,H,E]}function vt(ie,M=t.P){if(ie===0n||M<=0n)throw new Error("invert: expected positive integers");let[H,E]=Pe(le(ie,M),M);if(H!==1n)throw new Error("invert: does not exist");return le(E,M)}function dt(ie,M=t.P){const H=ie.length,E=new Array(H);let T=1n;for(let C=0;C<H;C++)ie[C]!==0n&&(E[C]=T,T=le(T*ie[C],M));T=vt(T,M);for(let C=H-1;C>=0;C--){if(ie[C]===0n)continue;let q=le(T*ie[C],M);ie[C]=le(T*E[C],M),T=q}return ie}function pt(ie){return Dt(1n,ie)}function xt(ie,M){const{P:H}=t;let E=ie;for(;M-- >0n;)E*=E,E%=H;return E}function lt(ie){ie=le(ie);const{P:M}=t,H=ie*ie%M,E=H**4n%M,T=ie*E%M,q=(H*T%M)**2n%M,X=T*q%M,S=xt(X,5n)*X%M,v=xt(S,10n)*S%M,N=xt(v,20n)*v%M,ve=xt(N,10n)*S%M,ut=xt(ve,50n)*ve%M,De=xt(ut,100n)*ut%M,p=xt(De,50n)*ve%M,m=p*p%M;return m*m*ie%M}function Dt(ie,M){const H=le(M*M*M),E=le(H*H*M);let T=le(lt(ie*E)*ie*H);const C=le(T*T*M),q=u,X=C===ie,ee=C===le(-ie),S=C===le(le(-ie)*q),d=le(u*T);return T=ee||S?d:T,ke(T)&&(T=le(-T)),{isNotZeroSquare:X||ee,value:le(T)}}async function Rt(...ie){const M=F(...ie),H=await e.utils.sha512(M),E=fe(H);return le(E,t.n)}function Yt(ie){return ie.slice(n)}function gr(ie){const M=n-1,H=ie.slice(0,n);return H[0]&=248,H[M]&=127,H[M]|=64,fe(H)}function yt(ie){return ie instanceof Uint8Array?ie:K(ie)}function gt(ie,M){if(ie.length!==M.length)return!1;for(let H=0;H<ie.length;H++)if(ie[H]!==M[H])return!1;return!0}function kt(ie){return ie instanceof Uint8Array?ie:typeof ie=="string"?K(ie.padStart(n*2,"0")):K(k(BigInt(ie)))}async function Xe(ie){const M=await e.utils.sha512(kt(ie)),H=_.BASE.multiply(gr(M));return typeof ie=="string"?H.toHex():H.toRawBytes()}e.getPublicKey=Xe;async function oe(ie,M){const H=await e.utils.sha512(kt(M)),E=gr(H),T=_.BASE.multiply(E),C=yt(ie),q=await Rt(Yt(H),C),X=_.BASE.multiply(q),ee=await Rt(X.toRawBytes(),T.toRawBytes(),C),S=le(q+ee*E,t.n),d=new A(X,S);return typeof ie=="string"?d.toHex():d.toRawBytes()}e.sign=oe;async function R(ie,M,H){M=yt(M),H instanceof _||(H=_.fromHex(H)),ie instanceof A||(ie=A.fromHex(ie));const E=await Rt(ie.r.toRawBytes(),H.toRawBytes(),M),T=c.fromAffine(H).multiplyUnsafe(E),C=c.BASE.multiply(ie.s),q=c.fromAffine(ie.r).add(T);return C.equals(q)}e.verify=R,_.BASE._setWindowSize(8),e.utils={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],randomPrivateKey:(ie=32)=>{if(typeof window=="object"&&"crypto"in window)return window.crypto.getRandomValues(new Uint8Array(ie));if(typeof Ji=="object"&&"node"in Ji.versions){const{randomBytes:M}=Cd;return new Uint8Array(M(ie).buffer)}else throw new Error("The environment doesn't have randomBytes function")},sha512:async ie=>{if(typeof window=="object"&&"crypto"in window){const M=await window.crypto.subtle.digest("SHA-512",ie.buffer);return new Uint8Array(M)}else if(typeof Ji=="object"&&"node"in Ji.versions){const{createHash:M}=Cd,H=M("sha512");return H.update(ie),Uint8Array.from(H.digest())}else throw new Error("The environment doesn't have sha512 function")},precompute(ie=8,M=_.BASE){const H=M.equals(_.BASE)?M:new _(M.x,M.y);return H._setWindowSize(ie),H.multiply(1n),H}}}),nr=Zt(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.ECC="ecc",t.RSA="rsa"}(e.CryptoSystem||(e.CryptoSystem={})),function(t){t.P_256="P-256",t.P_384="P-384",t.P_521="P-521"}(e.EccCurve||(e.EccCurve={})),function(t){t[t.B1024=1024]="B1024",t[t.B2048=2048]="B2048",t[t.B4096=4096]="B4096"}(e.RsaSize||(e.RsaSize={})),function(t){t.AES_CTR="AES-CTR",t.AES_CBC="AES-CBC"}(e.SymmAlg||(e.SymmAlg={})),function(t){t[t.B128=128]="B128",t[t.B192=192]="B192",t[t.B256=256]="B256"}(e.SymmKeyLength||(e.SymmKeyLength={})),function(t){t.SHA_1="SHA-1",t.SHA_256="SHA-256",t.SHA_384="SHA-384",t.SHA_512="SHA-512"}(e.HashAlg||(e.HashAlg={})),function(t){t[t.B8=8]="B8",t[t.B16=16]="B16"}(e.CharSize||(e.CharSize={})),function(t){t.Read="read",t.Write="write"}(e.KeyUse||(e.KeyUse={}))}),or=Zt(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ECC_READ_ALG="ECDH",e.ECC_WRITE_ALG="ECDSA",e.RSA_READ_ALG="RSA-OAEP",e.RSA_WRITE_ALG="RSASSA-PKCS1-v1_5",e.SALT_LENGTH=128,e.DEFAULT_CRYPTOSYSTEM="ecc",e.DEFAULT_ECC_CURVE=nr.EccCurve.P_256,e.DEFAULT_RSA_SIZE=nr.RsaSize.B2048,e.DEFAULT_SYMM_ALG=nr.SymmAlg.AES_CTR,e.DEFAULT_SYMM_LEN=nr.SymmKeyLength.B256,e.DEFAULT_CTR_LEN=64,e.DEFAULT_HASH_ALG=nr.HashAlg.SHA_256,e.DEFAULT_CHAR_SIZE=nr.CharSize.B16,e.DEFAULT_STORE_NAME="keystore",e.DEFAULT_READ_KEY_NAME="read-key",e.DEFAULT_WRITE_KEY_NAME="write-key",e.default={ECC_READ_ALG:e.ECC_READ_ALG,ECC_WRITE_ALG:e.ECC_WRITE_ALG,RSA_READ_ALG:e.RSA_READ_ALG,RSA_WRITE_ALG:e.RSA_WRITE_ALG,SALT_LENGTH:e.SALT_LENGTH,DEFAULT_CRYPTOSYSTEM:e.DEFAULT_CRYPTOSYSTEM,DEFAULT_ECC_CURVE:e.DEFAULT_ECC_CURVE,DEFAULT_RSA_SIZE:e.DEFAULT_RSA_SIZE,DEFAULT_SYMM_ALG:e.DEFAULT_SYMM_ALG,DEFAULT_CTR_LEN:e.DEFAULT_CTR_LEN,DEFAULT_HASH_ALG:e.DEFAULT_HASH_ALG,DEFAULT_CHAR_SIZE:e.DEFAULT_CHAR_SIZE,DEFAULT_STORE_NAME:e.DEFAULT_STORE_NAME,DEFAULT_READ_KEY_NAME:e.DEFAULT_READ_KEY_NAME,DEFAULT_WRITE_KEY_NAME:e.DEFAULT_WRITE_KEY_NAME}}),yr=Zt(function(r,e){var t=_e&&_e.__awaiter||function(A,F,D,k){function K(he){return he instanceof D?he:new D(function(ge){ge(he)})}return new(D||(D=Promise))(function(he,ge){function ke(ce){try{V(k.next(ce))}catch(Se){ge(Se)}}function fe(ce){try{V(k.throw(ce))}catch(Se){ge(Se)}}function V(ce){ce.done?he(ce.value):K(ce.value).then(ke,fe)}V((k=k.apply(A,F||[])).next())})},n=_e&&_e.__generator||function(A,F){var D={label:0,sent:function(){if(he[0]&1)throw he[1];return he[1]},trys:[],ops:[]},k,K,he,ge;return ge={next:ke(0),throw:ke(1),return:ke(2)},typeof Symbol=="function"&&(ge[Symbol.iterator]=function(){return this}),ge;function ke(V){return function(ce){return fe([V,ce])}}function fe(V){if(k)throw new TypeError("Generator is already executing.");for(;D;)try{if(k=1,K&&(he=V[0]&2?K.return:V[0]?K.throw||((he=K.return)&&he.call(K),0):K.next)&&!(he=he.call(K,V[1])).done)return he;switch(K=0,he&&(V=[V[0]&2,he.value]),V[0]){case 0:case 1:he=V;break;case 4:return D.label++,{value:V[1],done:!1};case 5:D.label++,K=V[1],V=[0];continue;case 7:V=D.ops.pop(),D.trys.pop();continue;default:if(he=D.trys,!(he=he.length>0&&he[he.length-1])&&(V[0]===6||V[0]===2)){D=0;continue}if(V[0]===3&&(!he||V[1]>he[0]&&V[1]<he[3])){D.label=V[1];break}if(V[0]===6&&D.label<he[1]){D.label=he[1],he=V;break}if(he&&D.label<he[2]){D.label=he[2],D.ops.push(V);break}he[2]&&D.ops.pop(),D.trys.pop();continue}V=F.call(A,D)}catch(ce){V=[6,ce],K=0}finally{k=he=0}if(V[0]&5)throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});function o(A,F){var D=F===8?new Uint8Array(A):new Uint16Array(A);return Array.from(D).map(function(k){return String.fromCharCode(k)}).join("")}e.arrBufToStr=o;function a(A){var F=o(A,8);return Fr.Buffer.from(F,"binary").toString("base64")}e.arrBufToBase64=a;function u(A,F){for(var D=F===8?new Uint8Array(A.length):new Uint16Array(A.length),k=0,K=A.length;k<K;k++)D[k]=A.charCodeAt(k);return D.buffer}e.strToArrBuf=u;function f(A){var F=Fr.Buffer.from(A,"base64").toString("binary");return u(F,8)}e.base64ToArrBuf=f;function h(){return new Uint8Array([1,0,1])}e.publicExponent=h;function c(A){var F=new Uint8Array(A);return globalThis.crypto.getRandomValues(F),F.buffer}e.randomBuf=c;function y(A,F){var D=new Uint8Array(A),k=new Uint8Array(F),K=new Uint8Array(D.length+k.length);return K.set(D),K.set(k,D.length),K.buffer}e.joinBufs=y,e.normalizeUtf8ToBuf=function(A){return e.normalizeToBuf(A,function(F){return u(F,nr.CharSize.B8)})},e.normalizeUtf16ToBuf=function(A){return e.normalizeToBuf(A,function(F){return u(F,nr.CharSize.B16)})},e.normalizeBase64ToBuf=function(A){return e.normalizeToBuf(A,f)},e.normalizeUnicodeToBuf=function(A,F){switch(F){case 8:return e.normalizeUtf8ToBuf(A);default:return e.normalizeUtf16ToBuf(A)}},e.normalizeToBuf=function(A,F){if(typeof A=="string")return F(A);if(typeof A=="object"&&A.byteLength!==void 0){var D=new Uint8Array(A);return D.buffer}else throw new Error("Improper value. Must be a string, ArrayBuffer, Uint8Array")};function _(A){return t(this,void 0,void 0,function(){return n(this,function(F){return[2,new Promise(function(D){var k=new MessageChannel,K=k.port1,he=k.port2;he.onmessage=function(ge){return D(ge.data)},K.postMessage(A)})]})})}e.structuralClone=_,e.default={arrBufToStr:o,arrBufToBase64:a,strToArrBuf:u,base64ToArrBuf:f,publicExponent:h,randomBuf:c,joinBufs:y,normalizeUtf8ToBuf:e.normalizeUtf8ToBuf,normalizeUtf16ToBuf:e.normalizeUtf16ToBuf,normalizeBase64ToBuf:e.normalizeBase64ToBuf,normalizeToBuf:e.normalizeToBuf,structuralClone:_}}),Qu=uc(yr),qo=Zt(function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.KeyDoesNotExist=new Error("Key does not exist. Make sure you properly instantiated the keystore."),e.NotKeyPair=new Error("Retrieved a symmetric key when an asymmetric keypair was expected. Please use a different key name."),e.NotKey=new Error("Retrieved an asymmetric keypair when an symmetric key was expected. Please use a different key name."),e.ECCNotEnabled=new Error("ECC is not enabled for this browser. Please use RSA instead."),e.UnsupportedCrypto=new Error("Cryptosystem not supported. Please use ECC or RSA"),e.InvalidKeyUse=new Error("Invalid key use. Please use 'read' or 'write");function t(f){if(!f||f===null)throw e.KeyDoesNotExist;if(f.privateKey===void 0)throw e.NotKeyPair;return f}e.checkIsKeyPair=t;function n(f){if(!f||f===null)throw e.KeyDoesNotExist;if(f.privateKey!==void 0||f.algorithm===void 0)throw e.NotKey;return f}e.checkIsKey=n;function o(f){u(f,[nr.CryptoSystem.ECC,nr.CryptoSystem.RSA],e.UnsupportedCrypto)}e.checkValidCryptoSystem=o;function a(f){u(f,[nr.KeyUse.Read,nr.KeyUse.Write],e.InvalidKeyUse)}e.checkValidKeyUse=a;function u(f,h,c){var y=h.some(function(_){return _===f});if(!y)throw c}e.default={KeyDoesNotExist:e.KeyDoesNotExist,NotKeyPair:e.NotKeyPair,NotKey:e.NotKey,ECCNotEnabled:e.ECCNotEnabled,UnsupportedCrypto:e.UnsupportedCrypto,InvalidKeyUse:e.InvalidKeyUse,checkIsKeyPair:t,checkIsKey:n,checkValidCryptoSystem:o,checkValidKeyUse:a}}),Rd=_e&&_e.__awaiter||function(r,e,t,n){function o(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function f(y){try{c(n.next(y))}catch(_){u(_)}}function h(y){try{c(n.throw(y))}catch(_){u(_)}}function c(y){y.done?a(y.value):o(y.value).then(f,h)}c((n=n.apply(r,e||[])).next())})},Nd=_e&&_e.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(c){return function(y){return h([c,y])}}function h(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(y){c=[6,y],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};function Ud(r,e,t){return Rd(this,void 0,void 0,function(){var n,o;return Nd(this,function(a){return qo.checkValidKeyUse(t),n=t===nr.KeyUse.Read?or.RSA_READ_ALG:or.RSA_WRITE_ALG,o=t===nr.KeyUse.Read?["encrypt","decrypt"]:["sign","verify"],[2,globalThis.crypto.subtle.generateKey({name:n,modulusLength:r,publicExponent:yr.default.publicExponent(),hash:{name:e}},!1,o)]})})}var Ug=Ud;function Dg(r){return r.replace(`-----BEGIN PUBLIC KEY-----
`,"").replace(`
-----END PUBLIC KEY-----`,"")}function Dd(r,e,t){return Rd(this,void 0,void 0,function(){var n,o,a;return Nd(this,function(u){return qo.checkValidKeyUse(t),n=t===nr.KeyUse.Read?or.RSA_READ_ALG:or.RSA_WRITE_ALG,o=t===nr.KeyUse.Read?["encrypt"]:["verify"],a=yr.default.base64ToArrBuf(Dg(r)),[2,globalThis.crypto.subtle.importKey("spki",a,{name:n,hash:{name:e}},!0,o)]})})}var Og=Dd,Lg={makeKeypair:Ud,importPublicKey:Dd},fu=Object.defineProperty({makeKeypair:Ug,importPublicKey:Og,default:Lg},"__esModule",{value:!0}),es=_e&&_e.__awaiter||function(r,e,t,n){function o(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function f(y){try{c(n.next(y))}catch(_){u(_)}}function h(y){try{c(n.throw(y))}catch(_){u(_)}}function c(y){y.done?a(y.value):o(y.value).then(f,h)}c((n=n.apply(r,e||[])).next())})},ts=_e&&_e.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(c){return function(y){return h([c,y])}}function h(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(y){c=[6,y],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};function Od(r,e,t){return t===void 0&&(t=or.DEFAULT_CHAR_SIZE),es(this,void 0,void 0,function(){return ts(this,function(n){return[2,globalThis.crypto.subtle.sign({name:or.RSA_WRITE_ALG,saltLength:or.SALT_LENGTH},e,yr.normalizeUnicodeToBuf(r,t))]})})}var Pg=Od;function Ld(r,e,t,n,o){return n===void 0&&(n=or.DEFAULT_CHAR_SIZE),o===void 0&&(o=or.DEFAULT_HASH_ALG),es(this,void 0,void 0,function(){var a,u,f,h;return ts(this,function(c){switch(c.label){case 0:return u=(a=globalThis.crypto.subtle).verify,f=[{name:or.RSA_WRITE_ALG,saltLength:or.SALT_LENGTH}],typeof t!="string"?[3,2]:[4,fu.default.importPublicKey(t,o,nr.KeyUse.Write)];case 1:return h=c.sent(),[3,3];case 2:h=t,c.label=3;case 3:return[2,u.apply(a,f.concat([h,yr.normalizeBase64ToBuf(e),yr.normalizeUnicodeToBuf(r,n)]))]}})})}var Mg=Ld;function Pd(r,e,t,n){return t===void 0&&(t=or.DEFAULT_CHAR_SIZE),n===void 0&&(n=or.DEFAULT_HASH_ALG),es(this,void 0,void 0,function(){var o,a,u,f;return ts(this,function(h){switch(h.label){case 0:return a=(o=globalThis.crypto.subtle).encrypt,u=[{name:or.RSA_READ_ALG}],typeof e!="string"?[3,2]:[4,fu.default.importPublicKey(e,n,nr.KeyUse.Read)];case 1:return f=h.sent(),[3,3];case 2:f=e,h.label=3;case 3:return[2,a.apply(o,u.concat([f,yr.normalizeUnicodeToBuf(r,t)]))]}})})}var $g=Pd;function Md(r,e){return es(this,void 0,void 0,function(){var t;return ts(this,function(n){return t=yr.normalizeBase64ToBuf(r),[2,globalThis.crypto.subtle.decrypt({name:or.RSA_READ_ALG},e,t)]})})}var zg=Md;function $d(r){return es(this,void 0,void 0,function(){var e;return ts(this,function(t){switch(t.label){case 0:return[4,globalThis.crypto.subtle.exportKey("spki",r.publicKey)];case 1:return e=t.sent(),[2,yr.default.arrBufToBase64(e)]}})})}var Kg=$d,Hg={sign:Od,verify:Ld,encrypt:Pd,decrypt:Md,getPublicKey:$d},Vo=Object.defineProperty({sign:Pg,verify:Mg,encrypt:$g,decrypt:zg,getPublicKey:Kg,default:Hg},"__esModule",{value:!0}),Eo=_e&&_e.__awaiter||function(r,e,t,n){function o(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function f(y){try{c(n.next(y))}catch(_){u(_)}}function h(y){try{c(n.throw(y))}catch(_){u(_)}}function c(y){y.done?a(y.value):o(y.value).then(f,h)}c((n=n.apply(r,e||[])).next())})},Ao=_e&&_e.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(c){return function(y){return h([c,y])}}function h(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(y){c=[6,y],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};function zd(r){return $n.default.createInstance({name:r})}var Gg=zd;function Kd(r,e,t){return t===void 0&&(t=$n.default),Eo(this,void 0,void 0,function(){var n;return Ao(this,function(o){switch(o.label){case 0:return[4,ul(r,t)];case 1:return o.sent()?[2]:[4,e()];case 2:return n=o.sent(),[4,ol(r,n,t)];case 3:return o.sent(),[2]}})})}var Wg=Kd;function ol(r,e,t){return t===void 0&&(t=$n.default),Eo(this,void 0,void 0,function(){return Ao(this,function(n){return[2,t.setItem(r,e)]})})}var jg=ol;function Hd(r,e){return e===void 0&&(e=$n.default),Eo(this,void 0,void 0,function(){return Ao(this,function(t){return[2,al(r,qo.checkIsKeyPair,e)]})})}var Yg=Hd;function Gd(r,e){return e===void 0&&(e=$n.default),Eo(this,void 0,void 0,function(){return Ao(this,function(t){return[2,al(r,qo.checkIsKey,e)]})})}var qg=Gd;function al(r,e,t){return t===void 0&&(t=$n.default),Eo(this,void 0,void 0,function(){var n;return Ao(this,function(o){switch(o.label){case 0:return[4,t.getItem(r)];case 1:return n=o.sent(),[2,n===null?null:e(n)]}})})}var Vg=al;function ul(r,e){return e===void 0&&(e=$n.default),Eo(this,void 0,void 0,function(){var t;return Ao(this,function(n){switch(n.label){case 0:return[4,e.getItem(r)];case 1:return t=n.sent(),[2,t!==null]}})})}var Xg=ul;function Wd(r,e){return e===void 0&&(e=$n.default),Eo(this,void 0,void 0,function(){return Ao(this,function(t){return[2,e.removeItem(r)]})})}var Jg=Wd;function sl(r){return Eo(this,void 0,void 0,function(){return Ao(this,function(e){return[2,r.dropInstance()]})})}var Zg=sl;function jd(r){return Eo(this,void 0,void 0,function(){return Ao(this,function(e){return r?[2,sl(r)]:[2,$n.default.clear()]})})}var Qg=jd,eb={createStore:zd,createIfDoesNotExist:Kd,put:ol,getKeypair:Hd,getKey:Gd,exists:ul,rm:Wd,dropStore:sl,clear:jd},Pi=Object.defineProperty({createStore:Gg,createIfDoesNotExist:Wg,put:jg,getKeypair:Yg,getKey:qg,get:Vg,exists:Xg,rm:Jg,dropStore:Zg,clear:Qg,default:eb},"__esModule",{value:!0}),Yd=_e&&_e.__awaiter||function(r,e,t,n){function o(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function f(y){try{c(n.next(y))}catch(_){u(_)}}function h(y){try{c(n.throw(y))}catch(_){u(_)}}function c(y){y.done?a(y.value):o(y.value).then(f,h)}c((n=n.apply(r,e||[])).next())})},qd=_e&&_e.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(c){return function(y){return h([c,y])}}function h(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(y){c=[6,y],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};function Vd(r,e){return Yd(this,void 0,void 0,function(){var t,n;return qd(this,function(o){return qo.checkValidKeyUse(e),t=e===nr.KeyUse.Read?or.ECC_READ_ALG:or.ECC_WRITE_ALG,n=e===nr.KeyUse.Read?["deriveKey","deriveBits"]:["sign","verify"],[2,globalThis.crypto.subtle.generateKey({name:t,namedCurve:r},!1,n)]})})}var tb=Vd;function Xd(r,e,t){return Yd(this,void 0,void 0,function(){var n,o,a;return qd(this,function(u){return qo.checkValidKeyUse(t),n=t===nr.KeyUse.Read?or.ECC_READ_ALG:or.ECC_WRITE_ALG,o=t===nr.KeyUse.Read?[]:["verify"],a=yr.default.base64ToArrBuf(r),[2,globalThis.crypto.subtle.importKey("raw",a,{name:n,namedCurve:e},!0,o)]})})}var rb=Xd,nb={makeKeypair:Vd,importPublicKey:Xd},ib=Object.defineProperty({makeKeypair:tb,importPublicKey:rb,default:nb},"__esModule",{value:!0}),ui=Zt(function(r,e){var t=_e&&_e.__assign||function(){return t=Object.assign||function(c){for(var y,_=1,A=arguments.length;_<A;_++){y=arguments[_];for(var F in y)Object.prototype.hasOwnProperty.call(y,F)&&(c[F]=y[F])}return c},t.apply(this,arguments)},n=_e&&_e.__awaiter||function(c,y,_,A){function F(D){return D instanceof _?D:new _(function(k){k(D)})}return new(_||(_=Promise))(function(D,k){function K(ke){try{ge(A.next(ke))}catch(fe){k(fe)}}function he(ke){try{ge(A.throw(ke))}catch(fe){k(fe)}}function ge(ke){ke.done?D(ke.value):F(ke.value).then(K,he)}ge((A=A.apply(c,y||[])).next())})},o=_e&&_e.__generator||function(c,y){var _={label:0,sent:function(){if(D[0]&1)throw D[1];return D[1]},trys:[],ops:[]},A,F,D,k;return k={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function K(ge){return function(ke){return he([ge,ke])}}function he(ge){if(A)throw new TypeError("Generator is already executing.");for(;_;)try{if(A=1,F&&(D=ge[0]&2?F.return:ge[0]?F.throw||((D=F.return)&&D.call(F),0):F.next)&&!(D=D.call(F,ge[1])).done)return D;switch(F=0,D&&(ge=[ge[0]&2,D.value]),ge[0]){case 0:case 1:D=ge;break;case 4:return _.label++,{value:ge[1],done:!1};case 5:_.label++,F=ge[1],ge=[0];continue;case 7:ge=_.ops.pop(),_.trys.pop();continue;default:if(D=_.trys,!(D=D.length>0&&D[D.length-1])&&(ge[0]===6||ge[0]===2)){_=0;continue}if(ge[0]===3&&(!D||ge[1]>D[0]&&ge[1]<D[3])){_.label=ge[1];break}if(ge[0]===6&&_.label<D[1]){_.label=D[1],D=ge;break}if(D&&_.label<D[2]){_.label=D[2],_.ops.push(ge);break}D[2]&&_.ops.pop(),_.trys.pop();continue}ge=y.call(c,_)}catch(ke){ge=[6,ke],F=0}finally{A=D=0}if(ge[0]&5)throw ge[1];return{value:ge[0]?ge[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultConfig={type:or.DEFAULT_CRYPTOSYSTEM,curve:or.DEFAULT_ECC_CURVE,rsaSize:or.DEFAULT_RSA_SIZE,symmAlg:or.DEFAULT_SYMM_ALG,symmLen:or.DEFAULT_SYMM_LEN,hashAlg:or.DEFAULT_HASH_ALG,charSize:or.DEFAULT_CHAR_SIZE,storeName:or.DEFAULT_STORE_NAME,readKeyName:or.DEFAULT_READ_KEY_NAME,writeKeyName:or.DEFAULT_WRITE_KEY_NAME};function a(c,y){y===void 0&&(y=!0);var _;return c?_=t(t({},e.defaultConfig),c):_=e.defaultConfig,(c==null?void 0:c.type)||(_.type=y?nr.CryptoSystem.ECC:nr.CryptoSystem.RSA),_}e.normalize=a;function u(){return n(this,void 0,void 0,function(){var c;return o(this,function(y){switch(y.label){case 0:return[4,ib.default.makeKeypair(or.DEFAULT_ECC_CURVE,nr.KeyUse.Read)];case 1:c=y.sent(),y.label=2;case 2:return y.trys.push([2,4,,5]),[4,yr.default.structuralClone(c)];case 3:return y.sent(),[3,5];case 4:return y.sent(),[2,!1];case 5:return[2,!0]}})})}e.eccEnabled=u;function f(c,y){return y===void 0&&(y={}),t(t({},c),y)}e.merge=f;function h(c){return{alg:c.symmAlg,length:c.symmLen}}e.symmKeyOpts=h,e.default={defaultConfig:e.defaultConfig,normalize:a,eccEnabled:u,merge:f,symmKeyOpts:h}}),Jd=_e&&_e.__awaiter||function(r,e,t,n){function o(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function f(y){try{c(n.next(y))}catch(_){u(_)}}function h(y){try{c(n.throw(y))}catch(_){u(_)}}function c(y){y.done?a(y.value):o(y.value).then(f,h)}c((n=n.apply(r,e||[])).next())})},Zd=_e&&_e.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(c){return function(y){return h([c,y])}}function h(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(y){c=[6,y],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};function Qd(r){return Jd(this,void 0,void 0,function(){return Zd(this,function(e){return[2,globalThis.crypto.subtle.generateKey({name:(r==null?void 0:r.alg)||or.DEFAULT_SYMM_ALG,length:(r==null?void 0:r.length)||or.DEFAULT_SYMM_LEN},!0,["encrypt","decrypt"])]})})}var ob=Qd;function ep(r,e){return Jd(this,void 0,void 0,function(){var t;return Zd(this,function(n){return t=yr.default.base64ToArrBuf(r),[2,globalThis.crypto.subtle.importKey("raw",t,{name:(e==null?void 0:e.alg)||or.DEFAULT_SYMM_ALG,length:(e==null?void 0:e.length)||or.DEFAULT_SYMM_LEN},!0,["encrypt","decrypt"])]})})}var ab=ep,ub={makeKey:Qd,importKey:ep},pc=Object.defineProperty({makeKey:ob,importKey:ab,default:ub},"__esModule",{value:!0}),rs=_e&&_e.__awaiter||function(r,e,t,n){function o(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function f(y){try{c(n.next(y))}catch(_){u(_)}}function h(y){try{c(n.throw(y))}catch(_){u(_)}}function c(y){y.done?a(y.value):o(y.value).then(f,h)}c((n=n.apply(r,e||[])).next())})},ns=_e&&_e.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(c){return function(y){return h([c,y])}}function h(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(y){c=[6,y],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};function cl(r,e,t){return rs(this,void 0,void 0,function(){var n,o,a,u,f,h;return ns(this,function(c){switch(c.label){case 0:return n=yr.default.normalizeUtf16ToBuf(r),typeof e!="string"?[3,2]:[4,pc.default.importKey(e,t)];case 1:return a=c.sent(),[3,3];case 2:a=e,c.label=3;case 3:return o=a,u=(t==null?void 0:t.alg)||or.DEFAULT_SYMM_ALG,f=(t==null?void 0:t.iv)||yr.default.randomBuf(16),[4,globalThis.crypto.subtle.encrypt({name:u,iv:u===nr.SymmAlg.AES_CTR?void 0:f,counter:u===nr.SymmAlg.AES_CTR?new Uint8Array(f):void 0,length:u===nr.SymmAlg.AES_CTR?or.DEFAULT_CTR_LEN:void 0},o,n)];case 4:return h=c.sent(),[2,yr.default.joinBufs(f,h)]}})})}var sb=cl;function fl(r,e,t){return rs(this,void 0,void 0,function(){var n,o,a,u,f,h,c;return ns(this,function(y){switch(y.label){case 0:return n=yr.default.normalizeBase64ToBuf(r),typeof e!="string"?[3,2]:[4,pc.default.importKey(e,t)];case 1:return a=y.sent(),[3,3];case 2:a=e,y.label=3;case 3:return o=a,u=(t==null?void 0:t.alg)||or.DEFAULT_SYMM_ALG,f=n.slice(0,16),h=n.slice(16),[4,globalThis.crypto.subtle.decrypt({name:u,iv:u===nr.SymmAlg.AES_CTR?void 0:f,counter:u===nr.SymmAlg.AES_CTR?new Uint8Array(f):void 0,length:u===nr.SymmAlg.AES_CTR?or.DEFAULT_CTR_LEN:void 0},o,h)];case 4:return c=y.sent(),[2,c]}})})}var cb=fl;function tp(r,e,t){return rs(this,void 0,void 0,function(){var n;return ns(this,function(o){switch(o.label){case 0:return[4,cl(r,e,t)];case 1:return n=o.sent(),[2,yr.default.arrBufToBase64(n)]}})})}var fb=tp;function rp(r,e,t){return rs(this,void 0,void 0,function(){var n;return ns(this,function(o){switch(o.label){case 0:return[4,fl(r,e,t)];case 1:return n=o.sent(),[2,yr.default.arrBufToStr(n,16)]}})})}var lb=rp;function np(r){return rs(this,void 0,void 0,function(){var e;return ns(this,function(t){switch(t.label){case 0:return[4,globalThis.crypto.subtle.exportKey("raw",r)];case 1:return e=t.sent(),[2,yr.default.arrBufToBase64(e)]}})})}var hb=np,db={encryptBytes:cl,decryptBytes:fl,encrypt:tp,decrypt:rp,exportKey:np},ip=Object.defineProperty({encryptBytes:sb,decryptBytes:cb,encrypt:fb,decrypt:lb,exportKey:hb,default:db},"__esModule",{value:!0}),lu=Zt(function(r,e){var t=_e&&_e.__assign||function(){return t=Object.assign||function(o){for(var a,u=1,f=arguments.length;u<f;u++){a=arguments[u];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(o[h]=a[h])}return o},t.apply(this,arguments)};function n(o){for(var a in o)e.hasOwnProperty(a)||(e[a]=o[a])}Object.defineProperty(e,"__esModule",{value:!0}),n(pc),n(ip),e.default=t(t({},pc.default),ip.default)}),hu=uc(lu),Zi=_e&&_e.__awaiter||function(r,e,t,n){function o(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function f(y){try{c(n.next(y))}catch(_){u(_)}}function h(y){try{c(n.throw(y))}catch(_){u(_)}}function c(y){y.done?a(y.value):o(y.value).then(f,h)}c((n=n.apply(r,e||[])).next())})},Qi=_e&&_e.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(c){return function(y){return h([c,y])}}function h(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(y){c=[6,y],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},pb=function(){function r(e,t){this.cfg=e,this.store=t}return r.prototype.writeKey=function(){return Zi(this,void 0,void 0,function(){var e;return Qi(this,function(t){switch(t.label){case 0:return[4,Pi.default.getKeypair(this.cfg.writeKeyName,this.store)];case 1:return e=t.sent(),[2,qo.checkIsKeyPair(e)]}})})},r.prototype.readKey=function(){return Zi(this,void 0,void 0,function(){var e;return Qi(this,function(t){switch(t.label){case 0:return[4,Pi.default.getKeypair(this.cfg.readKeyName,this.store)];case 1:return e=t.sent(),[2,qo.checkIsKeyPair(e)]}})})},r.prototype.getSymmKey=function(e,t){return Zi(this,void 0,void 0,function(){var n,o,a;return Qi(this,function(u){switch(u.label){case 0:return n=ui.default.merge(this.cfg,t),[4,Pi.default.getKey(e,this.store)];case 1:return o=u.sent(),o!==null?[2,o]:[4,lu.default.makeKey(ui.default.symmKeyOpts(n))];case 2:return a=u.sent(),[4,Pi.default.put(e,a,this.store)];case 3:return u.sent(),[2,a]}})})},r.prototype.keyExists=function(e){return Zi(this,void 0,void 0,function(){var t;return Qi(this,function(n){switch(n.label){case 0:return[4,Pi.default.getKey(e,this.store)];case 1:return t=n.sent(),[2,t!==null]}})})},r.prototype.deleteKey=function(e){return Zi(this,void 0,void 0,function(){return Qi(this,function(t){return[2,Pi.default.rm(e,this.store)]})})},r.prototype.destroy=function(){return Zi(this,void 0,void 0,function(){return Qi(this,function(e){return[2,Pi.default.dropStore(this.store)]})})},r.prototype.importSymmKey=function(e,t,n){return Zi(this,void 0,void 0,function(){var o,a;return Qi(this,function(u){switch(u.label){case 0:return o=ui.default.merge(this.cfg,n),[4,lu.default.importKey(e,ui.default.symmKeyOpts(o))];case 1:return a=u.sent(),[4,Pi.default.put(t,a,this.store)];case 2:return u.sent(),[2]}})})},r.prototype.exportSymmKey=function(e,t){return Zi(this,void 0,void 0,function(){var n;return Qi(this,function(o){switch(o.label){case 0:return[4,this.getSymmKey(e,t)];case 1:return n=o.sent(),[2,lu.default.exportKey(n)]}})})},r.prototype.encryptWithSymmKey=function(e,t,n){return Zi(this,void 0,void 0,function(){var o,a,u;return Qi(this,function(f){switch(f.label){case 0:return o=ui.default.merge(this.cfg,n),[4,this.getSymmKey(t,n)];case 1:return a=f.sent(),[4,lu.default.encryptBytes(yr.default.strToArrBuf(e,o.charSize),a,ui.default.symmKeyOpts(o))];case 2:return u=f.sent(),[2,yr.default.arrBufToBase64(u)]}})})},r.prototype.decryptWithSymmKey=function(e,t,n){return Zi(this,void 0,void 0,function(){var o,a,u;return Qi(this,function(f){switch(f.label){case 0:return o=ui.default.merge(this.cfg,n),[4,this.getSymmKey(t,n)];case 1:return a=f.sent(),[4,lu.default.decryptBytes(yr.default.base64ToArrBuf(e),a,ui.default.symmKeyOpts(o))];case 2:return u=f.sent(),[2,yr.default.arrBufToStr(u,o.charSize)]}})})},r}(),vb=pb,yb=Object.defineProperty({default:vb},"__esModule",{value:!0}),mb=_e&&_e.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vc=_e&&_e.__assign||function(){return vc=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},vc.apply(this,arguments)},Oa=_e&&_e.__awaiter||function(r,e,t,n){function o(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function f(y){try{c(n.next(y))}catch(_){u(_)}}function h(y){try{c(n.throw(y))}catch(_){u(_)}}function c(y){y.done?a(y.value):o(y.value).then(f,h)}c((n=n.apply(r,e||[])).next())})},La=_e&&_e.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(c){return function(y){return h([c,y])}}function h(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(y){c=[6,y],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},op=function(r){mb(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.init=function(t){return Oa(this,void 0,void 0,function(){var n,o,a,u,f,h,c;return La(this,function(y){switch(y.label){case 0:return n=ui.default.normalize(vc(vc({},t||{}),{type:nr.CryptoSystem.RSA})),o=n.rsaSize,a=n.hashAlg,u=n.storeName,f=n.readKeyName,h=n.writeKeyName,c=Pi.default.createStore(u),[4,Pi.default.createIfDoesNotExist(f,function(){return fu.default.makeKeypair(o,a,nr.KeyUse.Read)},c)];case 1:return y.sent(),[4,Pi.default.createIfDoesNotExist(h,function(){return fu.default.makeKeypair(o,a,nr.KeyUse.Write)},c)];case 2:return y.sent(),[2,new e(n,c)]}})})},e.prototype.sign=function(t,n){return Oa(this,void 0,void 0,function(){var o,a,u,f;return La(this,function(h){switch(h.label){case 0:return o=ui.default.merge(this.cfg,n),[4,this.writeKey()];case 1:return a=h.sent(),f=(u=yr.default).arrBufToBase64,[4,Vo.default.sign(t,a.privateKey,o.charSize)];case 2:return[2,f.apply(u,[h.sent()])]}})})},e.prototype.verify=function(t,n,o,a){return Oa(this,void 0,void 0,function(){var u;return La(this,function(f){return u=ui.default.merge(this.cfg,a),[2,Vo.default.verify(t,n,o,u.charSize,u.hashAlg)]})})},e.prototype.encrypt=function(t,n,o){return Oa(this,void 0,void 0,function(){var a,u,f;return La(this,function(h){switch(h.label){case 0:return a=ui.default.merge(this.cfg,o),f=(u=yr.default).arrBufToBase64,[4,Vo.default.encrypt(t,n,a.charSize,a.hashAlg)];case 1:return[2,f.apply(u,[h.sent()])]}})})},e.prototype.decrypt=function(t,n,o){return Oa(this,void 0,void 0,function(){var a,u,f,h;return La(this,function(c){switch(c.label){case 0:return[4,this.readKey()];case 1:return a=c.sent(),u=ui.default.merge(this.cfg,o),h=(f=yr.default).arrBufToStr,[4,Vo.default.decrypt(t,a.privateKey)];case 2:return[2,h.apply(f,[c.sent(),u.charSize])]}})})},e.prototype.publicReadKey=function(){return Oa(this,void 0,void 0,function(){var t;return La(this,function(n){switch(n.label){case 0:return[4,this.readKey()];case 1:return t=n.sent(),[2,Vo.default.getPublicKey(t)]}})})},e.prototype.publicWriteKey=function(){return Oa(this,void 0,void 0,function(){var t;return La(this,function(n){switch(n.label){case 0:return[4,this.writeKey()];case 1:return t=n.sent(),[2,Vo.default.getPublicKey(t)]}})})},e}(yb.default),gb=op,bb=op,ap=Object.defineProperty({RSAKeyStore:gb,default:bb},"__esModule",{value:!0}),_b=Zt(function(r,e){var t=_e&&_e.__assign||function(){return t=Object.assign||function(o){for(var a,u=1,f=arguments.length;u<f;u++){a=arguments[u];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(o[h]=a[h])}return o},t.apply(this,arguments)};function n(o){for(var a in o)e.hasOwnProperty(a)||(e[a]=o[a])}Object.defineProperty(e,"__esModule",{value:!0}),n(fu),n(Vo),n(ap),e.default=t(t(t({},fu.default),Vo.default),ap.default)}),wb=uc(_b),up=typeof self!="undefined"&&typeof self.location=="object",an=function(r){if(!up)throw new Error("Must be in browser to use method. Provide a node-compatible implementation for "+r)},sp=Zt(function(r,e){(function(t,n){r.exports=n()})(_e,function(){/*! *****************************************************************************
        Copyright (c) Microsoft Corporation. All rights reserved.
        Licensed under the Apache License, Version 2.0 (the "License"); you may not use
        this file except in compliance with the License. You may obtain a copy of the
        License at http://www.apache.org/licenses/LICENSE-2.0

        THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
        WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
        MERCHANTABLITY OR NON-INFRINGEMENT.

        See the Apache Version 2.0 License for specific language governing permissions
        and limitations under the License.
        ***************************************************************************** */var t=function(J,te){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,xe){Z.__proto__=xe}||function(Z,xe){for(var Le in xe)xe.hasOwnProperty(Le)&&(Z[Le]=xe[Le])},t(J,te)};function n(J,te){t(J,te);function Z(){this.constructor=J}J.prototype=te===null?Object.create(te):(Z.prototype=te.prototype,new Z)}var o=function(){return o=Object.assign||function(te){for(var Z,xe=1,Le=arguments.length;xe<Le;xe++){Z=arguments[xe];for(var Fe in Z)Object.prototype.hasOwnProperty.call(Z,Fe)&&(te[Fe]=Z[Fe])}return te},o.apply(this,arguments)};function a(J,te,Z,xe){return new(Z||(Z=Promise))(function(Le,Fe){function Y(Je){try{et(xe.next(Je))}catch(ht){Fe(ht)}}function je(Je){try{et(xe.throw(Je))}catch(ht){Fe(ht)}}function et(Je){Je.done?Le(Je.value):new Z(function(ht){ht(Je.value)}).then(Y,je)}et((xe=xe.apply(J,te||[])).next())})}function u(J,te){var Z={label:0,sent:function(){if(Fe[0]&1)throw Fe[1];return Fe[1]},trys:[],ops:[]},xe,Le,Fe,Y;return Y={next:je(0),throw:je(1),return:je(2)},typeof Symbol=="function"&&(Y[Symbol.iterator]=function(){return this}),Y;function je(Je){return function(ht){return et([Je,ht])}}function et(Je){if(xe)throw new TypeError("Generator is already executing.");for(;Z;)try{if(xe=1,Le&&(Fe=Je[0]&2?Le.return:Je[0]?Le.throw||((Fe=Le.return)&&Fe.call(Le),0):Le.next)&&!(Fe=Fe.call(Le,Je[1])).done)return Fe;switch(Le=0,Fe&&(Je=[Je[0]&2,Fe.value]),Je[0]){case 0:case 1:Fe=Je;break;case 4:return Z.label++,{value:Je[1],done:!1};case 5:Z.label++,Le=Je[1],Je=[0];continue;case 7:Je=Z.ops.pop(),Z.trys.pop();continue;default:if(Fe=Z.trys,!(Fe=Fe.length>0&&Fe[Fe.length-1])&&(Je[0]===6||Je[0]===2)){Z=0;continue}if(Je[0]===3&&(!Fe||Je[1]>Fe[0]&&Je[1]<Fe[3])){Z.label=Je[1];break}if(Je[0]===6&&Z.label<Fe[1]){Z.label=Fe[1],Fe=Je;break}if(Fe&&Z.label<Fe[2]){Z.label=Fe[2],Z.ops.push(Je);break}Fe[2]&&Z.ops.pop(),Z.trys.pop();continue}Je=te.call(J,Z)}catch(ht){Je=[6,ht],Le=0}finally{xe=Fe=0}if(Je[0]&5)throw Je[1];return{value:Je[0]?Je[1]:void 0,done:!0}}}(function(J){typeof globalThis!="object"&&(this?te():(J.defineProperty(J.prototype,"_T_",{configurable:!0,get:te}),_T_));function te(){var Z=this||self;Z.globalThis=Z,delete J.prototype._T_}})(Object);var f=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof _e!="undefined"?_e:typeof self!="undefined"?self:{};function h(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function c(J,te){return te={exports:{}},J(te,te.exports),te.exports}var y=c(function(J,te){/*!
    localForage -- Offline Storage, Improved
    Version 1.7.3
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(Z){J.exports=Z()})(function(){return function Z(xe,Le,Fe){function Y(Je,ht){if(!Le[Je]){if(!xe[Je]){var Ze=typeof h=="function"&&h;if(!ht&&Ze)return Ze(Je,!0);if(je)return je(Je,!0);var Ft=new Error("Cannot find module '"+Je+"'");throw Ft.code="MODULE_NOT_FOUND",Ft}var pr=Le[Je]={exports:{}};xe[Je][0].call(pr.exports,function(Or){var xn=xe[Je][1][Or];return Y(xn||Or)},pr,pr.exports,Z,xe,Le,Fe)}return Le[Je].exports}for(var je=typeof h=="function"&&h,et=0;et<Fe.length;et++)Y(Fe[et]);return Y}({1:[function(Z,xe,Le){(function(Fe){var Y=Fe.MutationObserver||Fe.WebKitMutationObserver,je;if(Y){var et=0,Je=new Y(Or),ht=Fe.document.createTextNode("");Je.observe(ht,{characterData:!0}),je=function(){ht.data=et=++et%2}}else if(!Fe.setImmediate&&typeof Fe.MessageChannel!="undefined"){var Ze=new Fe.MessageChannel;Ze.port1.onmessage=Or,je=function(){Ze.port2.postMessage(0)}}else"document"in Fe&&"onreadystatechange"in Fe.document.createElement("script")?je=function(){var Gr=Fe.document.createElement("script");Gr.onreadystatechange=function(){Or(),Gr.onreadystatechange=null,Gr.parentNode.removeChild(Gr),Gr=null},Fe.document.documentElement.appendChild(Gr)}:je=function(){setTimeout(Or,0)};var Ft,pr=[];function Or(){Ft=!0;for(var Gr,yi,Yr=pr.length;Yr;){for(yi=pr,pr=[],Gr=-1;++Gr<Yr;)yi[Gr]();Yr=pr.length}Ft=!1}xe.exports=xn;function xn(Gr){pr.push(Gr)===1&&!Ft&&je()}}).call(this,typeof f!="undefined"?f:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(Z,xe,Le){var Fe=Z(1);function Y(){}var je={},et=["REJECTED"],Je=["FULFILLED"],ht=["PENDING"];xe.exports=Ze;function Ze(mt){if(typeof mt!="function")throw new TypeError("resolver must be a function");this.state=ht,this.queue=[],this.outcome=void 0,mt!==Y&&xn(this,mt)}Ze.prototype.catch=function(mt){return this.then(null,mt)},Ze.prototype.then=function(mt,Xt){if(typeof mt!="function"&&this.state===Je||typeof Xt!="function"&&this.state===et)return this;var jt=new this.constructor(Y);if(this.state!==ht){var wr=this.state===Je?mt:Xt;pr(jt,wr,this.outcome)}else this.queue.push(new Ft(jt,mt,Xt));return jt};function Ft(mt,Xt,jt){this.promise=mt,typeof Xt=="function"&&(this.onFulfilled=Xt,this.callFulfilled=this.otherCallFulfilled),typeof jt=="function"&&(this.onRejected=jt,this.callRejected=this.otherCallRejected)}Ft.prototype.callFulfilled=function(mt){je.resolve(this.promise,mt)},Ft.prototype.otherCallFulfilled=function(mt){pr(this.promise,this.onFulfilled,mt)},Ft.prototype.callRejected=function(mt){je.reject(this.promise,mt)},Ft.prototype.otherCallRejected=function(mt){pr(this.promise,this.onRejected,mt)};function pr(mt,Xt,jt){Fe(function(){var wr;try{wr=Xt(jt)}catch(Tr){return je.reject(mt,Tr)}wr===mt?je.reject(mt,new TypeError("Cannot resolve promise with itself")):je.resolve(mt,wr)})}je.resolve=function(mt,Xt){var jt=Gr(Or,Xt);if(jt.status==="error")return je.reject(mt,jt.value);var wr=jt.value;if(wr)xn(mt,wr);else{mt.state=Je,mt.outcome=Xt;for(var Tr=-1,vn=mt.queue.length;++Tr<vn;)mt.queue[Tr].callFulfilled(Xt)}return mt},je.reject=function(mt,Xt){mt.state=et,mt.outcome=Xt;for(var jt=-1,wr=mt.queue.length;++jt<wr;)mt.queue[jt].callRejected(Xt);return mt};function Or(mt){var Xt=mt&&mt.then;if(mt&&(typeof mt=="object"||typeof mt=="function")&&typeof Xt=="function")return function(){Xt.apply(mt,arguments)}}function xn(mt,Xt){var jt=!1;function wr(An){jt||(jt=!0,je.reject(mt,An))}function Tr(An){jt||(jt=!0,je.resolve(mt,An))}function vn(){Xt(Tr,wr)}var En=Gr(vn);En.status==="error"&&wr(En.value)}function Gr(mt,Xt){var jt={};try{jt.value=mt(Xt),jt.status="success"}catch(wr){jt.status="error",jt.value=wr}return jt}Ze.resolve=yi;function yi(mt){return mt instanceof this?mt:je.resolve(new this(Y),mt)}Ze.reject=Yr;function Yr(mt){var Xt=new this(Y);return je.reject(Xt,mt)}Ze.all=qa;function qa(mt){var Xt=this;if(Object.prototype.toString.call(mt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var jt=mt.length,wr=!1;if(!jt)return this.resolve([]);for(var Tr=new Array(jt),vn=0,En=-1,An=new this(Y);++En<jt;)Wn(mt[En],En);return An;function Wn(Gi,No){Xt.resolve(Gi).then(fn,function(fo){wr||(wr=!0,je.reject(An,fo))});function fn(fo){Tr[No]=fo,++vn===jt&&!wr&&(wr=!0,je.resolve(An,Tr))}}}Ze.race=_r;function _r(mt){var Xt=this;if(Object.prototype.toString.call(mt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var jt=mt.length,wr=!1;if(!jt)return this.resolve([]);for(var Tr=-1,vn=new this(Y);++Tr<jt;)En(mt[Tr]);return vn;function En(An){Xt.resolve(An).then(function(Wn){wr||(wr=!0,je.resolve(vn,Wn))},function(Wn){wr||(wr=!0,je.reject(vn,Wn))})}}},{"1":1}],3:[function(Z,xe,Le){(function(Fe){typeof Fe.Promise!="function"&&(Fe.Promise=Z(2))}).call(this,typeof f!="undefined"?f:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(Z,xe,Le){var Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P};function Y(P,ye){if(!(P instanceof ye))throw new TypeError("Cannot call a class as a function")}function je(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch(P){return}}var et=je();function Je(){try{if(!et)return!1;var P=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ye=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!P||ye)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch(W){return!1}}function ht(P,ye){P=P||[],ye=ye||{};try{return new Blob(P,ye)}catch(Ae){if(Ae.name!=="TypeError")throw Ae;for(var W=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,Be=new W,Ce=0;Ce<P.length;Ce+=1)Be.append(P[Ce]);return Be.getBlob(ye.type)}}typeof Promise=="undefined"&&Z(3);var Ze=Promise;function Ft(P,ye){ye&&P.then(function(W){ye(null,W)},function(W){ye(W)})}function pr(P,ye,W){typeof ye=="function"&&P.then(ye),typeof W=="function"&&P.catch(W)}function Or(P){return typeof P!="string"&&(console.warn(P+" used as a key, but it is not a string."),P=String(P)),P}function xn(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var Gr="local-forage-detect-blob-support",yi=void 0,Yr={},qa=Object.prototype.toString,_r="readonly",mt="readwrite";function Xt(P){for(var ye=P.length,W=new ArrayBuffer(ye),Be=new Uint8Array(W),Ce=0;Ce<ye;Ce++)Be[Ce]=P.charCodeAt(Ce);return W}function jt(P){return new Ze(function(ye){var W=P.transaction(Gr,mt),Be=ht([""]);W.objectStore(Gr).put(Be,"key"),W.onabort=function(Ce){Ce.preventDefault(),Ce.stopPropagation(),ye(!1)},W.oncomplete=function(){var Ce=navigator.userAgent.match(/Chrome\/(\d+)/),Ae=navigator.userAgent.match(/Edge\//);ye(Ae||!Ce||parseInt(Ce[1],10)>=43)}}).catch(function(){return!1})}function wr(P){return typeof yi=="boolean"?Ze.resolve(yi):jt(P).then(function(ye){return yi=ye,yi})}function Tr(P){var ye=Yr[P.name],W={};W.promise=new Ze(function(Be,Ce){W.resolve=Be,W.reject=Ce}),ye.deferredOperations.push(W),ye.dbReady?ye.dbReady=ye.dbReady.then(function(){return W.promise}):ye.dbReady=W.promise}function vn(P){var ye=Yr[P.name],W=ye.deferredOperations.pop();if(W)return W.resolve(),W.promise}function En(P,ye){var W=Yr[P.name],Be=W.deferredOperations.pop();if(Be)return Be.reject(ye),Be.promise}function An(P,ye){return new Ze(function(W,Be){if(Yr[P.name]=Yr[P.name]||lo(),P.db)if(ye)Tr(P),P.db.close();else return W(P.db);var Ce=[P.name];ye&&Ce.push(P.version);var Ae=et.open.apply(et,Ce);ye&&(Ae.onupgradeneeded=function(Ye){var rt=Ae.result;try{rt.createObjectStore(P.storeName),Ye.oldVersion<=1&&rt.createObjectStore(Gr)}catch(at){if(at.name==="ConstraintError")console.warn('The database "'+P.name+'" has been upgraded from version '+Ye.oldVersion+" to version "+Ye.newVersion+', but the storage "'+P.storeName+'" already exists.');else throw at}}),Ae.onerror=function(Ye){Ye.preventDefault(),Be(Ae.error)},Ae.onsuccess=function(){W(Ae.result),vn(P)}})}function Wn(P){return An(P,!1)}function Gi(P){return An(P,!0)}function No(P,ye){if(!P.db)return!0;var W=!P.db.objectStoreNames.contains(P.storeName),Be=P.version<P.db.version,Ce=P.version>P.db.version;if(Be&&(P.version!==ye&&console.warn('The database "'+P.name+`" can't be downgraded from version `+P.db.version+" to version "+P.version+"."),P.version=P.db.version),Ce||W){if(W){var Ae=P.db.version+1;Ae>P.version&&(P.version=Ae)}return!0}return!1}function fn(P){return new Ze(function(ye,W){var Be=new FileReader;Be.onerror=W,Be.onloadend=function(Ce){var Ae=btoa(Ce.target.result||"");ye({__local_forage_encoded_blob:!0,data:Ae,type:P.type})},Be.readAsBinaryString(P)})}function fo(P){var ye=Xt(atob(P.data));return ht([ye],{type:P.type})}function Sn(P){return P&&P.__local_forage_encoded_blob}function Hs(P){var ye=this,W=ye._initReady().then(function(){var Be=Yr[ye._dbInfo.name];if(Be&&Be.dbReady)return Be.dbReady});return pr(W,P,P),W}function Vr(P){Tr(P);for(var ye=Yr[P.name],W=ye.forages,Be=0;Be<W.length;Be++){var Ce=W[Be];Ce._dbInfo.db&&(Ce._dbInfo.db.close(),Ce._dbInfo.db=null)}return P.db=null,Wn(P).then(function(Ae){return P.db=Ae,No(P)?Gi(P):Ae}).then(function(Ae){P.db=ye.db=Ae;for(var Ye=0;Ye<W.length;Ye++)W[Ye]._dbInfo.db=Ae}).catch(function(Ae){throw En(P,Ae),Ae})}function xr(P,ye,W,Be){Be===void 0&&(Be=1);try{var Ce=P.db.transaction(P.storeName,ye);W(null,Ce)}catch(Ae){if(Be>0&&(!P.db||Ae.name==="InvalidStateError"||Ae.name==="NotFoundError"))return Ze.resolve().then(function(){if(!P.db||Ae.name==="NotFoundError"&&!P.db.objectStoreNames.contains(P.storeName)&&P.version<=P.db.version)return P.db&&(P.version=P.db.version+1),Gi(P)}).then(function(){return Vr(P).then(function(){xr(P,ye,W,Be-1)})}).catch(W);W(Ae)}}function lo(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function va(P){var ye=this,W={db:null};if(P)for(var Be in P)W[Be]=P[Be];var Ce=Yr[W.name];Ce||(Ce=lo(),Yr[W.name]=Ce),Ce.forages.push(ye),ye._initReady||(ye._initReady=ye.ready,ye.ready=Hs);var Ae=[];function Ye(){return Ze.resolve()}for(var rt=0;rt<Ce.forages.length;rt++){var at=Ce.forages[rt];at!==ye&&Ae.push(at._initReady().catch(Ye))}var ot=Ce.forages.slice(0);return Ze.all(Ae).then(function(){return W.db=Ce.db,Wn(W)}).then(function(ct){return W.db=ct,No(W,ye._defaultConfig.version)?Gi(W):ct}).then(function(ct){W.db=Ce.db=ct,ye._dbInfo=W;for(var It=0;It<ot.length;It++){var er=ot[It];er!==ye&&(er._dbInfo.db=W.db,er._dbInfo.version=W.version)}})}function Lr(P,ye){var W=this;P=Or(P);var Be=new Ze(function(Ce,Ae){W.ready().then(function(){xr(W._dbInfo,_r,function(Ye,rt){if(Ye)return Ae(Ye);try{var at=rt.objectStore(W._dbInfo.storeName),ot=at.get(P);ot.onsuccess=function(){var ct=ot.result;ct===void 0&&(ct=null),Sn(ct)&&(ct=fo(ct)),Ce(ct)},ot.onerror=function(){Ae(ot.error)}}catch(ct){Ae(ct)}})}).catch(Ae)});return Ft(Be,ye),Be}function mi(P,ye){var W=this,Be=new Ze(function(Ce,Ae){W.ready().then(function(){xr(W._dbInfo,_r,function(Ye,rt){if(Ye)return Ae(Ye);try{var at=rt.objectStore(W._dbInfo.storeName),ot=at.openCursor(),ct=1;ot.onsuccess=function(){var It=ot.result;if(It){var er=It.value;Sn(er)&&(er=fo(er));var Ir=P(er,It.key,ct++);Ir!==void 0?Ce(Ir):It.continue()}else Ce()},ot.onerror=function(){Ae(ot.error)}}catch(It){Ae(It)}})}).catch(Ae)});return Ft(Be,ye),Be}function ya(P,ye,W){var Be=this;P=Or(P);var Ce=new Ze(function(Ae,Ye){var rt;Be.ready().then(function(){return rt=Be._dbInfo,qa.call(ye)==="[object Blob]"?wr(rt.db).then(function(at){return at?ye:fn(ye)}):ye}).then(function(at){xr(Be._dbInfo,mt,function(ot,ct){if(ot)return Ye(ot);try{var It=ct.objectStore(Be._dbInfo.storeName);at===null&&(at=void 0);var er=It.put(at,P);ct.oncomplete=function(){at===void 0&&(at=null),Ae(at)},ct.onabort=ct.onerror=function(){var Ir=er.error?er.error:er.transaction.error;Ye(Ir)}}catch(Ir){Ye(Ir)}})}).catch(Ye)});return Ft(Ce,W),Ce}function ho(P,ye){var W=this;P=Or(P);var Be=new Ze(function(Ce,Ae){W.ready().then(function(){xr(W._dbInfo,mt,function(Ye,rt){if(Ye)return Ae(Ye);try{var at=rt.objectStore(W._dbInfo.storeName),ot=at.delete(P);rt.oncomplete=function(){Ce()},rt.onerror=function(){Ae(ot.error)},rt.onabort=function(){var ct=ot.error?ot.error:ot.transaction.error;Ae(ct)}}catch(ct){Ae(ct)}})}).catch(Ae)});return Ft(Be,ye),Be}function Uo(P){var ye=this,W=new Ze(function(Be,Ce){ye.ready().then(function(){xr(ye._dbInfo,mt,function(Ae,Ye){if(Ae)return Ce(Ae);try{var rt=Ye.objectStore(ye._dbInfo.storeName),at=rt.clear();Ye.oncomplete=function(){Be()},Ye.onabort=Ye.onerror=function(){var ot=at.error?at.error:at.transaction.error;Ce(ot)}}catch(ot){Ce(ot)}})}).catch(Ce)});return Ft(W,P),W}function Du(P){var ye=this,W=new Ze(function(Be,Ce){ye.ready().then(function(){xr(ye._dbInfo,_r,function(Ae,Ye){if(Ae)return Ce(Ae);try{var rt=Ye.objectStore(ye._dbInfo.storeName),at=rt.count();at.onsuccess=function(){Be(at.result)},at.onerror=function(){Ce(at.error)}}catch(ot){Ce(ot)}})}).catch(Ce)});return Ft(W,P),W}function Gs(P,ye){var W=this,Be=new Ze(function(Ce,Ae){if(P<0){Ce(null);return}W.ready().then(function(){xr(W._dbInfo,_r,function(Ye,rt){if(Ye)return Ae(Ye);try{var at=rt.objectStore(W._dbInfo.storeName),ot=!1,ct=at.openCursor();ct.onsuccess=function(){var It=ct.result;if(!It){Ce(null);return}P===0||ot?Ce(It.key):(ot=!0,It.advance(P))},ct.onerror=function(){Ae(ct.error)}}catch(It){Ae(It)}})}).catch(Ae)});return Ft(Be,ye),Be}function Ou(P){var ye=this,W=new Ze(function(Be,Ce){ye.ready().then(function(){xr(ye._dbInfo,_r,function(Ae,Ye){if(Ae)return Ce(Ae);try{var rt=Ye.objectStore(ye._dbInfo.storeName),at=rt.openCursor(),ot=[];at.onsuccess=function(){var ct=at.result;if(!ct){Be(ot);return}ot.push(ct.key),ct.continue()},at.onerror=function(){Ce(at.error)}}catch(ct){Ce(ct)}})}).catch(Ce)});return Ft(W,P),W}function Wi(P,ye){ye=xn.apply(this,arguments);var W=this.config();P=typeof P!="function"&&P||{},P.name||(P.name=P.name||W.name,P.storeName=P.storeName||W.storeName);var Be=this,Ce;if(!P.name)Ce=Ze.reject("Invalid arguments");else{var Ae=P.name===W.name&&Be._dbInfo.db,Ye=Ae?Ze.resolve(Be._dbInfo.db):Wn(P).then(function(rt){var at=Yr[P.name],ot=at.forages;at.db=rt;for(var ct=0;ct<ot.length;ct++)ot[ct]._dbInfo.db=rt;return rt});P.storeName?Ce=Ye.then(function(rt){if(!!rt.objectStoreNames.contains(P.storeName)){var at=rt.version+1;Tr(P);var ot=Yr[P.name],ct=ot.forages;rt.close();for(var It=0;It<ct.length;It++){var er=ct[It];er._dbInfo.db=null,er._dbInfo.version=at}var Ir=new Ze(function(Rr,rn){var tr=et.open(P.name,at);tr.onerror=function(kr){var Ja=tr.result;Ja.close(),rn(kr)},tr.onupgradeneeded=function(){var kr=tr.result;kr.deleteObjectStore(P.storeName)},tr.onsuccess=function(){var kr=tr.result;kr.close(),Rr(kr)}});return Ir.then(function(Rr){ot.db=Rr;for(var rn=0;rn<ct.length;rn++){var tr=ct[rn];tr._dbInfo.db=Rr,vn(tr._dbInfo)}}).catch(function(Rr){throw(En(P,Rr)||Ze.resolve()).catch(function(){}),Rr})}}):Ce=Ye.then(function(rt){Tr(P);var at=Yr[P.name],ot=at.forages;rt.close();for(var ct=0;ct<ot.length;ct++){var It=ot[ct];It._dbInfo.db=null}var er=new Ze(function(Ir,Rr){var rn=et.deleteDatabase(P.name);rn.onerror=rn.onblocked=function(tr){var kr=rn.result;kr&&kr.close(),Rr(tr)},rn.onsuccess=function(){var tr=rn.result;tr&&tr.close(),Ir(tr)}});return er.then(function(Ir){at.db=Ir;for(var Rr=0;Rr<ot.length;Rr++){var rn=ot[Rr];vn(rn._dbInfo)}}).catch(function(Ir){throw(En(P,Ir)||Ze.resolve()).catch(function(){}),Ir})})}return Ft(Ce,ye),Ce}var Ci={_driver:"asyncStorage",_initStorage:va,_support:Je(),iterate:mi,getItem:Lr,setItem:ya,removeItem:ho,clear:Uo,length:Du,key:Gs,keys:Ou,dropInstance:Wi};function po(){return typeof openDatabase=="function"}var Ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ma="~~local_forage_type~",Va=/^~~local_forage_type~([^~]+)~/,vo="__lfsc__:",yo=vo.length,ji="arbf",Pn="blob",mo="si08",ga="ui08",gi="uic8",yn="si16",U="si32",b="ur16",w="ui32",j="fl32",Ie="fl64",Me=yo+ji.length,He=Object.prototype.toString;function Kt(P){var ye=P.length*.75,W=P.length,Be,Ce=0,Ae,Ye,rt,at;P[P.length-1]==="="&&(ye--,P[P.length-2]==="="&&ye--);var ot=new ArrayBuffer(ye),ct=new Uint8Array(ot);for(Be=0;Be<W;Be+=4)Ae=Ri.indexOf(P[Be]),Ye=Ri.indexOf(P[Be+1]),rt=Ri.indexOf(P[Be+2]),at=Ri.indexOf(P[Be+3]),ct[Ce++]=Ae<<2|Ye>>4,ct[Ce++]=(Ye&15)<<4|rt>>2,ct[Ce++]=(rt&3)<<6|at&63;return ot}function $r(P){var ye=new Uint8Array(P),W="",Be;for(Be=0;Be<ye.length;Be+=3)W+=Ri[ye[Be]>>2],W+=Ri[(ye[Be]&3)<<4|ye[Be+1]>>4],W+=Ri[(ye[Be+1]&15)<<2|ye[Be+2]>>6],W+=Ri[ye[Be+2]&63];return ye.length%3==2?W=W.substring(0,W.length-1)+"=":ye.length%3==1&&(W=W.substring(0,W.length-2)+"=="),W}function Er(P,ye){var W="";if(P&&(W=He.call(P)),P&&(W==="[object ArrayBuffer]"||P.buffer&&He.call(P.buffer)==="[object ArrayBuffer]")){var Be,Ce=vo;P instanceof ArrayBuffer?(Be=P,Ce+=ji):(Be=P.buffer,W==="[object Int8Array]"?Ce+=mo:W==="[object Uint8Array]"?Ce+=ga:W==="[object Uint8ClampedArray]"?Ce+=gi:W==="[object Int16Array]"?Ce+=yn:W==="[object Uint16Array]"?Ce+=b:W==="[object Int32Array]"?Ce+=U:W==="[object Uint32Array]"?Ce+=w:W==="[object Float32Array]"?Ce+=j:W==="[object Float64Array]"?Ce+=Ie:ye(new Error("Failed to get type for BinaryArray"))),ye(Ce+$r(Be))}else if(W==="[object Blob]"){var Ae=new FileReader;Ae.onload=function(){var Ye=ma+P.type+"~"+$r(this.result);ye(vo+Pn+Ye)},Ae.readAsArrayBuffer(P)}else try{ye(JSON.stringify(P))}catch(Ye){console.error("Couldn't convert value into a JSON string: ",P),ye(null,Ye)}}function Kr(P){if(P.substring(0,yo)!==vo)return JSON.parse(P);var ye=P.substring(Me),W=P.substring(yo,Me),Be;if(W===Pn&&Va.test(ye)){var Ce=ye.match(Va);Be=Ce[1],ye=ye.substring(Ce[0].length)}var Ae=Kt(ye);switch(W){case ji:return Ae;case Pn:return ht([Ae],{type:Be});case mo:return new Int8Array(Ae);case ga:return new Uint8Array(Ae);case gi:return new Uint8ClampedArray(Ae);case yn:return new Int16Array(Ae);case b:return new Uint16Array(Ae);case U:return new Int32Array(Ae);case w:return new Uint32Array(Ae);case j:return new Float32Array(Ae);case Ie:return new Float64Array(Ae);default:throw new Error("Unkown type: "+W)}}var Ar={serialize:Er,deserialize:Kr,stringToBuffer:Kt,bufferToString:$r};function Lu(P,ye,W,Be){P.executeSql("CREATE TABLE IF NOT EXISTS "+ye.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],W,Be)}function Ef(P){var ye=this,W={db:null};if(P)for(var Be in P)W[Be]=typeof P[Be]!="string"?P[Be].toString():P[Be];var Ce=new Ze(function(Ae,Ye){try{W.db=openDatabase(W.name,String(W.version),W.description,W.size)}catch(rt){return Ye(rt)}W.db.transaction(function(rt){Lu(rt,W,function(){ye._dbInfo=W,Ae()},function(at,ot){Ye(ot)})},Ye)});return W.serializer=Ar,Ce}function In(P,ye,W,Be,Ce,Ae){P.executeSql(W,Be,Ce,function(Ye,rt){rt.code===rt.SYNTAX_ERR?Ye.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ye.storeName],function(at,ot){ot.rows.length?Ae(at,rt):Lu(at,ye,function(){at.executeSql(W,Be,Ce,Ae)},Ae)},Ae):Ae(Ye,rt)},Ae)}function Pu(P,ye){var W=this;P=Or(P);var Be=new Ze(function(Ce,Ae){W.ready().then(function(){var Ye=W._dbInfo;Ye.db.transaction(function(rt){In(rt,Ye,"SELECT * FROM "+Ye.storeName+" WHERE key = ? LIMIT 1",[P],function(at,ot){var ct=ot.rows.length?ot.rows.item(0).value:null;ct&&(ct=Ye.serializer.deserialize(ct)),Ce(ct)},function(at,ot){Ae(ot)})})}).catch(Ae)});return Ft(Be,ye),Be}function d0(P,ye){var W=this,Be=new Ze(function(Ce,Ae){W.ready().then(function(){var Ye=W._dbInfo;Ye.db.transaction(function(rt){In(rt,Ye,"SELECT * FROM "+Ye.storeName,[],function(at,ot){for(var ct=ot.rows,It=ct.length,er=0;er<It;er++){var Ir=ct.item(er),Rr=Ir.value;if(Rr&&(Rr=Ye.serializer.deserialize(Rr)),Rr=P(Rr,Ir.key,er+1),Rr!==void 0){Ce(Rr);return}}Ce()},function(at,ot){Ae(ot)})})}).catch(Ae)});return Ft(Be,ye),Be}function Af(P,ye,W,Be){var Ce=this;P=Or(P);var Ae=new Ze(function(Ye,rt){Ce.ready().then(function(){ye===void 0&&(ye=null);var at=ye,ot=Ce._dbInfo;ot.serializer.serialize(ye,function(ct,It){It?rt(It):ot.db.transaction(function(er){In(er,ot,"INSERT OR REPLACE INTO "+ot.storeName+" (key, value) VALUES (?, ?)",[P,ct],function(){Ye(at)},function(Ir,Rr){rt(Rr)})},function(er){if(er.code===er.QUOTA_ERR){if(Be>0){Ye(Af.apply(Ce,[P,at,W,Be-1]));return}rt(er)}})})}).catch(rt)});return Ft(Ae,W),Ae}function p0(P,ye,W){return Af.apply(this,[P,ye,W,1])}function ba(P,ye){var W=this;P=Or(P);var Be=new Ze(function(Ce,Ae){W.ready().then(function(){var Ye=W._dbInfo;Ye.db.transaction(function(rt){In(rt,Ye,"DELETE FROM "+Ye.storeName+" WHERE key = ?",[P],function(){Ce()},function(at,ot){Ae(ot)})})}).catch(Ae)});return Ft(Be,ye),Be}function bi(P){var ye=this,W=new Ze(function(Be,Ce){ye.ready().then(function(){var Ae=ye._dbInfo;Ae.db.transaction(function(Ye){In(Ye,Ae,"DELETE FROM "+Ae.storeName,[],function(){Be()},function(rt,at){Ce(at)})})}).catch(Ce)});return Ft(W,P),W}function v0(P){var ye=this,W=new Ze(function(Be,Ce){ye.ready().then(function(){var Ae=ye._dbInfo;Ae.db.transaction(function(Ye){In(Ye,Ae,"SELECT COUNT(key) as c FROM "+Ae.storeName,[],function(rt,at){var ot=at.rows.item(0).c;Be(ot)},function(rt,at){Ce(at)})})}).catch(Ce)});return Ft(W,P),W}function y0(P,ye){var W=this,Be=new Ze(function(Ce,Ae){W.ready().then(function(){var Ye=W._dbInfo;Ye.db.transaction(function(rt){In(rt,Ye,"SELECT key FROM "+Ye.storeName+" WHERE id = ? LIMIT 1",[P+1],function(at,ot){var ct=ot.rows.length?ot.rows.item(0).key:null;Ce(ct)},function(at,ot){Ae(ot)})})}).catch(Ae)});return Ft(Be,ye),Be}function m0(P){var ye=this,W=new Ze(function(Be,Ce){ye.ready().then(function(){var Ae=ye._dbInfo;Ae.db.transaction(function(Ye){In(Ye,Ae,"SELECT key FROM "+Ae.storeName,[],function(rt,at){for(var ot=[],ct=0;ct<at.rows.length;ct++)ot.push(at.rows.item(ct).key);Be(ot)},function(rt,at){Ce(at)})})}).catch(Ce)});return Ft(W,P),W}function g0(P){return new Ze(function(ye,W){P.transaction(function(Be){Be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Ce,Ae){for(var Ye=[],rt=0;rt<Ae.rows.length;rt++)Ye.push(Ae.rows.item(rt).name);ye({db:P,storeNames:Ye})},function(Ce,Ae){W(Ae)})},function(Be){W(Be)})})}function b0(P,ye){ye=xn.apply(this,arguments);var W=this.config();P=typeof P!="function"&&P||{},P.name||(P.name=P.name||W.name,P.storeName=P.storeName||W.storeName);var Be=this,Ce;return P.name?Ce=new Ze(function(Ae){var Ye;P.name===W.name?Ye=Be._dbInfo.db:Ye=openDatabase(P.name,"","",0),P.storeName?Ae({db:Ye,storeNames:[P.storeName]}):Ae(g0(Ye))}).then(function(Ae){return new Ze(function(Ye,rt){Ae.db.transaction(function(at){function ot(Ir){return new Ze(function(Rr,rn){at.executeSql("DROP TABLE IF EXISTS "+Ir,[],function(){Rr()},function(tr,kr){rn(kr)})})}for(var ct=[],It=0,er=Ae.storeNames.length;It<er;It++)ct.push(ot(Ae.storeNames[It]));Ze.all(ct).then(function(){Ye()}).catch(function(Ir){rt(Ir)})},function(at){rt(at)})})}):Ce=Ze.reject("Invalid arguments"),Ft(Ce,ye),Ce}var _a={_driver:"webSQLStorage",_initStorage:Ef,_support:po(),iterate:d0,getItem:Pu,setItem:p0,removeItem:ba,clear:bi,length:v0,key:y0,keys:m0,dropInstance:b0};function Ne(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(P){return!1}}function ze(P,ye){var W=P.name+"/";return P.storeName!==ye.storeName&&(W+=P.storeName+"/"),W}function $e(){var P="_localforage_support_test";try{return localStorage.setItem(P,!0),localStorage.removeItem(P),!1}catch(ye){return!0}}function wt(){return!$e()||localStorage.length>0}function $t(P){var ye=this,W={};if(P)for(var Be in P)W[Be]=P[Be];return W.keyPrefix=ze(P,ye._defaultConfig),wt()?(ye._dbInfo=W,W.serializer=Ar,Ze.resolve()):Ze.reject()}function Sr(P){var ye=this,W=ye.ready().then(function(){for(var Be=ye._dbInfo.keyPrefix,Ce=localStorage.length-1;Ce>=0;Ce--){var Ae=localStorage.key(Ce);Ae.indexOf(Be)===0&&localStorage.removeItem(Ae)}});return Ft(W,P),W}function tn(P,ye){var W=this;P=Or(P);var Be=W.ready().then(function(){var Ce=W._dbInfo,Ae=localStorage.getItem(Ce.keyPrefix+P);return Ae&&(Ae=Ce.serializer.deserialize(Ae)),Ae});return Ft(Be,ye),Be}function Pr(P,ye){var W=this,Be=W.ready().then(function(){for(var Ce=W._dbInfo,Ae=Ce.keyPrefix,Ye=Ae.length,rt=localStorage.length,at=1,ot=0;ot<rt;ot++){var ct=localStorage.key(ot);if(ct.indexOf(Ae)===0){var It=localStorage.getItem(ct);if(It&&(It=Ce.serializer.deserialize(It)),It=P(It,ct.substring(Ye),at++),It!==void 0)return It}}});return Ft(Be,ye),Be}function Ws(P,ye){var W=this,Be=W.ready().then(function(){var Ce=W._dbInfo,Ae;try{Ae=localStorage.key(P)}catch(Ye){Ae=null}return Ae&&(Ae=Ae.substring(Ce.keyPrefix.length)),Ae});return Ft(Be,ye),Be}function _0(P){var ye=this,W=ye.ready().then(function(){for(var Be=ye._dbInfo,Ce=localStorage.length,Ae=[],Ye=0;Ye<Ce;Ye++){var rt=localStorage.key(Ye);rt.indexOf(Be.keyPrefix)===0&&Ae.push(rt.substring(Be.keyPrefix.length))}return Ae});return Ft(W,P),W}function ri(P){var ye=this,W=ye.keys().then(function(Be){return Be.length});return Ft(W,P),W}function Mu(P,ye){var W=this;P=Or(P);var Be=W.ready().then(function(){var Ce=W._dbInfo;localStorage.removeItem(Ce.keyPrefix+P)});return Ft(Be,ye),Be}function w0(P,ye,W){var Be=this;P=Or(P);var Ce=Be.ready().then(function(){ye===void 0&&(ye=null);var Ae=ye;return new Ze(function(Ye,rt){var at=Be._dbInfo;at.serializer.serialize(ye,function(ot,ct){if(ct)rt(ct);else try{localStorage.setItem(at.keyPrefix+P,ot),Ye(Ae)}catch(It){(It.name==="QuotaExceededError"||It.name==="NS_ERROR_DOM_QUOTA_REACHED")&&rt(It),rt(It)}})})});return Ft(Ce,W),Ce}function wa(P,ye){if(ye=xn.apply(this,arguments),P=typeof P!="function"&&P||{},!P.name){var W=this.config();P.name=P.name||W.name,P.storeName=P.storeName||W.storeName}var Be=this,Ce;return P.name?Ce=new Ze(function(Ae){P.storeName?Ae(ze(P,Be._defaultConfig)):Ae(P.name+"/")}).then(function(Ae){for(var Ye=localStorage.length-1;Ye>=0;Ye--){var rt=localStorage.key(Ye);rt.indexOf(Ae)===0&&localStorage.removeItem(rt)}}):Ce=Ze.reject("Invalid arguments"),Ft(Ce,ye),Ce}var $u={_driver:"localStorageWrapper",_initStorage:$t,_support:Ne(),iterate:Pr,getItem:tn,setItem:w0,removeItem:Mu,clear:Sr,length:ri,key:Ws,keys:_0,dropInstance:wa},zu=function(ye,W){return ye===W||typeof ye=="number"&&typeof W=="number"&&isNaN(ye)&&isNaN(W)},Cr=function(ye,W){for(var Be=ye.length,Ce=0;Ce<Be;){if(zu(ye[Ce],W))return!0;Ce++}return!1},Sf=Array.isArray||function(P){return Object.prototype.toString.call(P)==="[object Array]"},xa={},Xa={},Ea={INDEXEDDB:Ci,WEBSQL:_a,LOCALSTORAGE:$u},x0=[Ea.INDEXEDDB._driver,Ea.WEBSQL._driver,Ea.LOCALSTORAGE._driver],Ku=["dropInstance"],Aa=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ku),go={description:"",driver:x0.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Hu(P,ye){P[ye]=function(){var W=arguments;return P.ready().then(function(){return P[ye].apply(P,W)})}}function Gu(){for(var P=1;P<arguments.length;P++){var ye=arguments[P];if(ye)for(var W in ye)ye.hasOwnProperty(W)&&(Sf(ye[W])?arguments[0][W]=ye[W].slice():arguments[0][W]=ye[W])}return arguments[0]}var Wu=function(){function P(ye){Y(this,P);for(var W in Ea)if(Ea.hasOwnProperty(W)){var Be=Ea[W],Ce=Be._driver;this[W]=Ce,xa[Ce]||this.defineDriver(Be)}this._defaultConfig=Gu({},go),this._config=Gu({},this._defaultConfig,ye),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return P.prototype.config=function(W){if((typeof W=="undefined"?"undefined":Fe(W))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Be in W){if(Be==="storeName"&&(W[Be]=W[Be].replace(/\W/g,"_")),Be==="version"&&typeof W[Be]!="number")return new Error("Database version must be a number.");this._config[Be]=W[Be]}return"driver"in W&&W.driver?this.setDriver(this._config.driver):!0}else return typeof W=="string"?this._config[W]:this._config},P.prototype.defineDriver=function(W,Be,Ce){var Ae=new Ze(function(Ye,rt){try{var at=W._driver,ot=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!W._driver){rt(ot);return}for(var ct=Aa.concat("_initStorage"),It=0,er=ct.length;It<er;It++){var Ir=ct[It],Rr=!Cr(Ku,Ir);if((Rr||W[Ir])&&typeof W[Ir]!="function"){rt(ot);return}}var rn=function(){for(var Ja=function(Za){return function(){var qs=new Error("Method "+Za+" is not implemented by the current driver"),Do=Ze.reject(qs);return Ft(Do,arguments[arguments.length-1]),Do}},js=0,Bf=Ku.length;js<Bf;js++){var Ys=Ku[js];W[Ys]||(W[Ys]=Ja(Ys))}};rn();var tr=function(Ja){xa[at]&&console.info("Redefining LocalForage driver: "+at),xa[at]=W,Xa[at]=Ja,Ye()};"_support"in W?W._support&&typeof W._support=="function"?W._support().then(tr,rt):tr(!!W._support):tr(!0)}catch(kr){rt(kr)}});return pr(Ae,Be,Ce),Ae},P.prototype.driver=function(){return this._driver||null},P.prototype.getDriver=function(W,Be,Ce){var Ae=xa[W]?Ze.resolve(xa[W]):Ze.reject(new Error("Driver not found."));return pr(Ae,Be,Ce),Ae},P.prototype.getSerializer=function(W){var Be=Ze.resolve(Ar);return pr(Be,W),Be},P.prototype.ready=function(W){var Be=this,Ce=Be._driverSet.then(function(){return Be._ready===null&&(Be._ready=Be._initDriver()),Be._ready});return pr(Ce,W,W),Ce},P.prototype.setDriver=function(W,Be,Ce){var Ae=this;Sf(W)||(W=[W]);var Ye=this._getSupportedDrivers(W);function rt(){Ae._config.driver=Ae.driver()}function at(It){return Ae._extend(It),rt(),Ae._ready=Ae._initStorage(Ae._config),Ae._ready}function ot(It){return function(){var er=0;function Ir(){for(;er<It.length;){var Rr=It[er];return er++,Ae._dbInfo=null,Ae._ready=null,Ae.getDriver(Rr).then(at).catch(Ir)}rt();var rn=new Error("No available storage method found.");return Ae._driverSet=Ze.reject(rn),Ae._driverSet}return Ir()}}var ct=this._driverSet!==null?this._driverSet.catch(function(){return Ze.resolve()}):Ze.resolve();return this._driverSet=ct.then(function(){var It=Ye[0];return Ae._dbInfo=null,Ae._ready=null,Ae.getDriver(It).then(function(er){Ae._driver=er._driver,rt(),Ae._wrapLibraryMethodsWithReady(),Ae._initDriver=ot(Ye)})}).catch(function(){rt();var It=new Error("No available storage method found.");return Ae._driverSet=Ze.reject(It),Ae._driverSet}),pr(this._driverSet,Be,Ce),this._driverSet},P.prototype.supports=function(W){return!!Xa[W]},P.prototype._extend=function(W){Gu(this,W)},P.prototype._getSupportedDrivers=function(W){for(var Be=[],Ce=0,Ae=W.length;Ce<Ae;Ce++){var Ye=W[Ce];this.supports(Ye)&&Be.push(Ye)}return Be},P.prototype._wrapLibraryMethodsWithReady=function(){for(var W=0,Be=Aa.length;W<Be;W++)Hu(this,Aa[W])},P.prototype.createInstance=function(W){return new P(W)},P}(),If=new Wu;xe.exports=If},{"3":3}]},{},[4])(4)})}),_;(function(J){J.ECC="ecc",J.RSA="rsa"})(_||(_={}));var A;(function(J){J.P_256="P-256",J.P_384="P-384",J.P_521="P-521"})(A||(A={}));var F;(function(J){J[J.B1024=1024]="B1024",J[J.B2048=2048]="B2048",J[J.B4096=4096]="B4096"})(F||(F={}));var D;(function(J){J.AES_CTR="AES-CTR",J.AES_CBC="AES-CBC"})(D||(D={}));var k;(function(J){J[J.B128=128]="B128",J[J.B192=192]="B192",J[J.B256=256]="B256"})(k||(k={}));var K;(function(J){J.SHA_1="SHA-1",J.SHA_256="SHA-256",J.SHA_384="SHA-384",J.SHA_512="SHA-512"})(K||(K={}));var he;(function(J){J[J.B8=8]="B8",J[J.B16=16]="B16"})(he||(he={}));var ge;(function(J){J.Read="read",J.Write="write"})(ge||(ge={}));var ke=Object.freeze({__proto__:null,get CryptoSystem(){return _},get EccCurve(){return A},get RsaSize(){return F},get SymmAlg(){return D},get SymmKeyLength(){return k},get HashAlg(){return K},get CharSize(){return he},get KeyUse(){return ge}}),fe=new Error("Key does not exist. Make sure you properly instantiated the keystore."),V=new Error("Retrieved a symmetric key when an asymmetric keypair was expected. Please use a different key name."),ce=new Error("Retrieved an asymmetric keypair when an symmetric key was expected. Please use a different key name."),Se=new Error("ECC is not enabled for this browser. Please use RSA instead."),le=new Error("Cryptosystem not supported. Please use ECC or RSA"),Oe=new Error("Invalid key use. Please use 'read' or 'write");function Pe(J){if(!J||J===null)throw fe;if(J.privateKey===void 0)throw V;return J}function vt(J){if(!J||J===null)throw fe;if(J.privateKey!==void 0||J.algorithm===void 0)throw ce;return J}function dt(J){xt(J,[_.ECC,_.RSA],le)}function pt(J){xt(J,[ge.Read,ge.Write],Oe)}function xt(J,te,Z){var xe=te.some(function(Le){return Le===J});if(!xe)throw Z}function lt(J){return y.createInstance({name:J})}function Dt(J,te,Z){return Z===void 0&&(Z=y),a(this,void 0,void 0,function(){var xe;return u(this,function(Le){switch(Le.label){case 0:return[4,gt(J,Z)];case 1:return Le.sent()?[2]:[4,te()];case 2:return xe=Le.sent(),[4,Rt(J,xe,Z)];case 3:return Le.sent(),[2]}})})}function Rt(J,te,Z){return Z===void 0&&(Z=y),a(this,void 0,void 0,function(){return u(this,function(xe){return[2,Z.setItem(J,te)]})})}function Yt(J,te){return te===void 0&&(te=y),a(this,void 0,void 0,function(){return u(this,function(Z){return[2,yt(J,Pe,te)]})})}function gr(J,te){return te===void 0&&(te=y),a(this,void 0,void 0,function(){return u(this,function(Z){return[2,yt(J,vt,te)]})})}function yt(J,te,Z){return Z===void 0&&(Z=y),a(this,void 0,void 0,function(){var xe;return u(this,function(Le){switch(Le.label){case 0:return[4,Z.getItem(J)];case 1:return xe=Le.sent(),[2,xe===null?null:te(xe)]}})})}function gt(J,te){return te===void 0&&(te=y),a(this,void 0,void 0,function(){var Z;return u(this,function(xe){switch(xe.label){case 0:return[4,te.getItem(J)];case 1:return Z=xe.sent(),[2,Z!==null]}})})}function kt(J,te){return te===void 0&&(te=y),a(this,void 0,void 0,function(){return u(this,function(Z){return[2,te.removeItem(J)]})})}function Xe(J){return a(this,void 0,void 0,function(){return u(this,function(te){return[2,J.dropInstance()]})})}function oe(J){return a(this,void 0,void 0,function(){return u(this,function(te){return J?[2,Xe(J)]:[2,y.clear()]})})}for(var R={createStore:lt,createIfDoesNotExist:Dt,put:Rt,getKeypair:Yt,getKey:gr,exists:gt,rm:kt,dropStore:Xe,clear:oe},ie=Object.freeze({__proto__:null,createStore:lt,createIfDoesNotExist:Dt,put:Rt,getKeypair:Yt,getKey:gr,get:yt,exists:gt,rm:kt,dropStore:Xe,clear:oe,default:R}),M=v,H=N,E=Ke,T=[],C=[],q=typeof Uint8Array!="undefined"?Uint8Array:Array,X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ee=0,S=X.length;ee<S;++ee)T[ee]=X[ee],C[X.charCodeAt(ee)]=ee;C["-".charCodeAt(0)]=62,C["_".charCodeAt(0)]=63;function d(J){var te=J.length;if(te%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Z=J.indexOf("=");Z===-1&&(Z=te);var xe=Z===te?0:4-Z%4;return[Z,xe]}function v(J){var te=d(J),Z=te[0],xe=te[1];return(Z+xe)*3/4-xe}function I(J,te,Z){return(te+Z)*3/4-Z}function N(J){var te,Z=d(J),xe=Z[0],Le=Z[1],Fe=new q(I(J,xe,Le)),Y=0,je=Le>0?xe-4:xe,et;for(et=0;et<je;et+=4)te=C[J.charCodeAt(et)]<<18|C[J.charCodeAt(et+1)]<<12|C[J.charCodeAt(et+2)]<<6|C[J.charCodeAt(et+3)],Fe[Y++]=te>>16&255,Fe[Y++]=te>>8&255,Fe[Y++]=te&255;return Le===2&&(te=C[J.charCodeAt(et)]<<2|C[J.charCodeAt(et+1)]>>4,Fe[Y++]=te&255),Le===1&&(te=C[J.charCodeAt(et)]<<10|C[J.charCodeAt(et+1)]<<4|C[J.charCodeAt(et+2)]>>2,Fe[Y++]=te>>8&255,Fe[Y++]=te&255),Fe}function Q(J){return T[J>>18&63]+T[J>>12&63]+T[J>>6&63]+T[J&63]}function ve(J,te,Z){for(var xe,Le=[],Fe=te;Fe<Z;Fe+=3)xe=(J[Fe]<<16&16711680)+(J[Fe+1]<<8&65280)+(J[Fe+2]&255),Le.push(Q(xe));return Le.join("")}function Ke(J){for(var te,Z=J.length,xe=Z%3,Le=[],Fe=16383,Y=0,je=Z-xe;Y<je;Y+=Fe)Le.push(ve(J,Y,Y+Fe>je?je:Y+Fe));return xe===1?(te=J[Z-1],Le.push(T[te>>2]+T[te<<4&63]+"==")):xe===2&&(te=(J[Z-2]<<8)+J[Z-1],Le.push(T[te>>10]+T[te>>4&63]+T[te<<2&63]+"=")),Le.join("")}var ut={byteLength:M,toByteArray:H,fromByteArray:E};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var se=function(J,te,Z,xe,Le){var Fe,Y,je=Le*8-xe-1,et=(1<<je)-1,Je=et>>1,ht=-7,Ze=Z?Le-1:0,Ft=Z?-1:1,pr=J[te+Ze];for(Ze+=Ft,Fe=pr&(1<<-ht)-1,pr>>=-ht,ht+=je;ht>0;Fe=Fe*256+J[te+Ze],Ze+=Ft,ht-=8);for(Y=Fe&(1<<-ht)-1,Fe>>=-ht,ht+=xe;ht>0;Y=Y*256+J[te+Ze],Ze+=Ft,ht-=8);if(Fe===0)Fe=1-Je;else{if(Fe===et)return Y?NaN:(pr?-1:1)*(1/0);Y=Y+Math.pow(2,xe),Fe=Fe-Je}return(pr?-1:1)*Y*Math.pow(2,Fe-xe)},De=function(J,te,Z,xe,Le,Fe){var Y,je,et,Je=Fe*8-Le-1,ht=(1<<Je)-1,Ze=ht>>1,Ft=Le===23?Math.pow(2,-24)-Math.pow(2,-77):0,pr=xe?0:Fe-1,Or=xe?1:-1,xn=te<0||te===0&&1/te<0?1:0;for(te=Math.abs(te),isNaN(te)||te===1/0?(je=isNaN(te)?1:0,Y=ht):(Y=Math.floor(Math.log(te)/Math.LN2),te*(et=Math.pow(2,-Y))<1&&(Y--,et*=2),Y+Ze>=1?te+=Ft/et:te+=Ft*Math.pow(2,1-Ze),te*et>=2&&(Y++,et/=2),Y+Ze>=ht?(je=0,Y=ht):Y+Ze>=1?(je=(te*et-1)*Math.pow(2,Le),Y=Y+Ze):(je=te*Math.pow(2,Ze-1)*Math.pow(2,Le),Y=0));Le>=8;J[Z+pr]=je&255,pr+=Or,je/=256,Le-=8);for(Y=Y<<Le|je,Je+=Le;Je>0;J[Z+pr]=Y&255,pr+=Or,Y/=256,Je-=8);J[Z+pr-Or]|=xn*128},x={read:se,write:De},p=c(function(J,te){const Z=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;te.Buffer=Y,te.SlowBuffer=yi,te.INSPECT_MAX_BYTES=50;const xe=2147483647;te.kMaxLength=xe,Y.TYPED_ARRAY_SUPPORT=Le(),!Y.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Le(){try{const U=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(U,b),U.foo()===42}catch(U){return!1}}Object.defineProperty(Y.prototype,"parent",{enumerable:!0,get:function(){if(!!Y.isBuffer(this))return this.buffer}}),Object.defineProperty(Y.prototype,"offset",{enumerable:!0,get:function(){if(!!Y.isBuffer(this))return this.byteOffset}});function Fe(U){if(U>xe)throw new RangeError('The value "'+U+'" is invalid for option "size"');const b=new Uint8Array(U);return Object.setPrototypeOf(b,Y.prototype),b}function Y(U,b,w){if(typeof U=="number"){if(typeof b=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ht(U)}return je(U,b,w)}Y.poolSize=8192;function je(U,b,w){if(typeof U=="string")return Ze(U,b);if(ArrayBuffer.isView(U))return pr(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(Pn(U,ArrayBuffer)||U&&Pn(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Pn(U,SharedArrayBuffer)||U&&Pn(U.buffer,SharedArrayBuffer)))return Or(U,b,w);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const j=U.valueOf&&U.valueOf();if(j!=null&&j!==U)return Y.from(j,b,w);const Ie=xn(U);if(Ie)return Ie;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return Y.from(U[Symbol.toPrimitive]("string"),b,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}Y.from=function(U,b,w){return je(U,b,w)},Object.setPrototypeOf(Y.prototype,Uint8Array.prototype),Object.setPrototypeOf(Y,Uint8Array);function et(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function Je(U,b,w){return et(U),U<=0?Fe(U):b!==void 0?typeof w=="string"?Fe(U).fill(b,w):Fe(U).fill(b):Fe(U)}Y.alloc=function(U,b,w){return Je(U,b,w)};function ht(U){return et(U),Fe(U<0?0:Gr(U)|0)}Y.allocUnsafe=function(U){return ht(U)},Y.allocUnsafeSlow=function(U){return ht(U)};function Ze(U,b){if((typeof b!="string"||b==="")&&(b="utf8"),!Y.isEncoding(b))throw new TypeError("Unknown encoding: "+b);const w=Yr(U,b)|0;let j=Fe(w);const Ie=j.write(U,b);return Ie!==w&&(j=j.slice(0,Ie)),j}function Ft(U){const b=U.length<0?0:Gr(U.length)|0,w=Fe(b);for(let j=0;j<b;j+=1)w[j]=U[j]&255;return w}function pr(U){if(Pn(U,Uint8Array)){const b=new Uint8Array(U);return Or(b.buffer,b.byteOffset,b.byteLength)}return Ft(U)}function Or(U,b,w){if(b<0||U.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<b+(w||0))throw new RangeError('"length" is outside of buffer bounds');let j;return b===void 0&&w===void 0?j=new Uint8Array(U):w===void 0?j=new Uint8Array(U,b):j=new Uint8Array(U,b,w),Object.setPrototypeOf(j,Y.prototype),j}function xn(U){if(Y.isBuffer(U)){const b=Gr(U.length)|0,w=Fe(b);return w.length===0||U.copy(w,0,0,b),w}if(U.length!==void 0)return typeof U.length!="number"||mo(U.length)?Fe(0):Ft(U);if(U.type==="Buffer"&&Array.isArray(U.data))return Ft(U.data)}function Gr(U){if(U>=xe)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+xe.toString(16)+" bytes");return U|0}function yi(U){return+U!=U&&(U=0),Y.alloc(+U)}Y.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==Y.prototype},Y.compare=function(b,w){if(Pn(b,Uint8Array)&&(b=Y.from(b,b.offset,b.byteLength)),Pn(w,Uint8Array)&&(w=Y.from(w,w.offset,w.byteLength)),!Y.isBuffer(b)||!Y.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===w)return 0;let j=b.length,Ie=w.length;for(let Me=0,He=Math.min(j,Ie);Me<He;++Me)if(b[Me]!==w[Me]){j=b[Me],Ie=w[Me];break}return j<Ie?-1:Ie<j?1:0},Y.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Y.concat=function(b,w){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return Y.alloc(0);let j;if(w===void 0)for(w=0,j=0;j<b.length;++j)w+=b[j].length;const Ie=Y.allocUnsafe(w);let Me=0;for(j=0;j<b.length;++j){let He=b[j];if(Pn(He,Uint8Array))Me+He.length>Ie.length?(Y.isBuffer(He)||(He=Y.from(He)),He.copy(Ie,Me)):Uint8Array.prototype.set.call(Ie,He,Me);else if(Y.isBuffer(He))He.copy(Ie,Me);else throw new TypeError('"list" argument must be an Array of Buffers');Me+=He.length}return Ie};function Yr(U,b){if(Y.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||Pn(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const w=U.length,j=arguments.length>2&&arguments[2]===!0;if(!j&&w===0)return 0;let Ie=!1;for(;;)switch(b){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return ma(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return yo(U).length;default:if(Ie)return j?-1:ma(U).length;b=(""+b).toLowerCase(),Ie=!0}}Y.byteLength=Yr;function qa(U,b,w){let j=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,b>>>=0,w<=b))return"";for(U||(U="utf8");;)switch(U){case"hex":return Sn(this,b,w);case"utf8":case"utf-8":return Wn(this,b,w);case"ascii":return fn(this,b,w);case"latin1":case"binary":return fo(this,b,w);case"base64":return An(this,b,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Hs(this,b,w);default:if(j)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),j=!0}}Y.prototype._isBuffer=!0;function _r(U,b,w){const j=U[b];U[b]=U[w],U[w]=j}Y.prototype.swap16=function(){const b=this.length;if(b%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<b;w+=2)_r(this,w,w+1);return this},Y.prototype.swap32=function(){const b=this.length;if(b%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<b;w+=4)_r(this,w,w+3),_r(this,w+1,w+2);return this},Y.prototype.swap64=function(){const b=this.length;if(b%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<b;w+=8)_r(this,w,w+7),_r(this,w+1,w+6),_r(this,w+2,w+5),_r(this,w+3,w+4);return this},Y.prototype.toString=function(){const b=this.length;return b===0?"":arguments.length===0?Wn(this,0,b):qa.apply(this,arguments)},Y.prototype.toLocaleString=Y.prototype.toString,Y.prototype.equals=function(b){if(!Y.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:Y.compare(this,b)===0},Y.prototype.inspect=function(){let b="";const w=te.INSPECT_MAX_BYTES;return b=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(b+=" ... "),"<Buffer "+b+">"},Z&&(Y.prototype[Z]=Y.prototype.inspect),Y.prototype.compare=function(b,w,j,Ie,Me){if(Pn(b,Uint8Array)&&(b=Y.from(b,b.offset,b.byteLength)),!Y.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);if(w===void 0&&(w=0),j===void 0&&(j=b?b.length:0),Ie===void 0&&(Ie=0),Me===void 0&&(Me=this.length),w<0||j>b.length||Ie<0||Me>this.length)throw new RangeError("out of range index");if(Ie>=Me&&w>=j)return 0;if(Ie>=Me)return-1;if(w>=j)return 1;if(w>>>=0,j>>>=0,Ie>>>=0,Me>>>=0,this===b)return 0;let He=Me-Ie,Kt=j-w;const $r=Math.min(He,Kt),Er=this.slice(Ie,Me),Kr=b.slice(w,j);for(let Ar=0;Ar<$r;++Ar)if(Er[Ar]!==Kr[Ar]){He=Er[Ar],Kt=Kr[Ar];break}return He<Kt?-1:Kt<He?1:0};function mt(U,b,w,j,Ie){if(U.length===0)return-1;if(typeof w=="string"?(j=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,mo(w)&&(w=Ie?0:U.length-1),w<0&&(w=U.length+w),w>=U.length){if(Ie)return-1;w=U.length-1}else if(w<0)if(Ie)w=0;else return-1;if(typeof b=="string"&&(b=Y.from(b,j)),Y.isBuffer(b))return b.length===0?-1:Xt(U,b,w,j,Ie);if(typeof b=="number")return b=b&255,typeof Uint8Array.prototype.indexOf=="function"?Ie?Uint8Array.prototype.indexOf.call(U,b,w):Uint8Array.prototype.lastIndexOf.call(U,b,w):Xt(U,[b],w,j,Ie);throw new TypeError("val must be string, number or Buffer")}function Xt(U,b,w,j,Ie){let Me=1,He=U.length,Kt=b.length;if(j!==void 0&&(j=String(j).toLowerCase(),j==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(U.length<2||b.length<2)return-1;Me=2,He/=2,Kt/=2,w/=2}function $r(Kr,Ar){return Me===1?Kr[Ar]:Kr.readUInt16BE(Ar*Me)}let Er;if(Ie){let Kr=-1;for(Er=w;Er<He;Er++)if($r(U,Er)===$r(b,Kr===-1?0:Er-Kr)){if(Kr===-1&&(Kr=Er),Er-Kr+1===Kt)return Kr*Me}else Kr!==-1&&(Er-=Er-Kr),Kr=-1}else for(w+Kt>He&&(w=He-Kt),Er=w;Er>=0;Er--){let Kr=!0;for(let Ar=0;Ar<Kt;Ar++)if($r(U,Er+Ar)!==$r(b,Ar)){Kr=!1;break}if(Kr)return Er}return-1}Y.prototype.includes=function(b,w,j){return this.indexOf(b,w,j)!==-1},Y.prototype.indexOf=function(b,w,j){return mt(this,b,w,j,!0)},Y.prototype.lastIndexOf=function(b,w,j){return mt(this,b,w,j,!1)};function jt(U,b,w,j){w=Number(w)||0;const Ie=U.length-w;j?(j=Number(j),j>Ie&&(j=Ie)):j=Ie;const Me=b.length;j>Me/2&&(j=Me/2);let He;for(He=0;He<j;++He){const Kt=parseInt(b.substr(He*2,2),16);if(mo(Kt))return He;U[w+He]=Kt}return He}function wr(U,b,w,j){return ji(ma(b,U.length-w),U,w,j)}function Tr(U,b,w,j){return ji(Va(b),U,w,j)}function vn(U,b,w,j){return ji(yo(b),U,w,j)}function En(U,b,w,j){return ji(vo(b,U.length-w),U,w,j)}Y.prototype.write=function(b,w,j,Ie){if(w===void 0)Ie="utf8",j=this.length,w=0;else if(j===void 0&&typeof w=="string")Ie=w,j=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(j)?(j=j>>>0,Ie===void 0&&(Ie="utf8")):(Ie=j,j=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Me=this.length-w;if((j===void 0||j>Me)&&(j=Me),b.length>0&&(j<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ie||(Ie="utf8");let He=!1;for(;;)switch(Ie){case"hex":return jt(this,b,w,j);case"utf8":case"utf-8":return wr(this,b,w,j);case"ascii":case"latin1":case"binary":return Tr(this,b,w,j);case"base64":return vn(this,b,w,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return En(this,b,w,j);default:if(He)throw new TypeError("Unknown encoding: "+Ie);Ie=(""+Ie).toLowerCase(),He=!0}},Y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function An(U,b,w){return b===0&&w===U.length?ut.fromByteArray(U):ut.fromByteArray(U.slice(b,w))}function Wn(U,b,w){w=Math.min(U.length,w);const j=[];let Ie=b;for(;Ie<w;){const Me=U[Ie];let He=null,Kt=Me>239?4:Me>223?3:Me>191?2:1;if(Ie+Kt<=w){let $r,Er,Kr,Ar;switch(Kt){case 1:Me<128&&(He=Me);break;case 2:$r=U[Ie+1],($r&192)==128&&(Ar=(Me&31)<<6|$r&63,Ar>127&&(He=Ar));break;case 3:$r=U[Ie+1],Er=U[Ie+2],($r&192)==128&&(Er&192)==128&&(Ar=(Me&15)<<12|($r&63)<<6|Er&63,Ar>2047&&(Ar<55296||Ar>57343)&&(He=Ar));break;case 4:$r=U[Ie+1],Er=U[Ie+2],Kr=U[Ie+3],($r&192)==128&&(Er&192)==128&&(Kr&192)==128&&(Ar=(Me&15)<<18|($r&63)<<12|(Er&63)<<6|Kr&63,Ar>65535&&Ar<1114112&&(He=Ar))}}He===null?(He=65533,Kt=1):He>65535&&(He-=65536,j.push(He>>>10&1023|55296),He=56320|He&1023),j.push(He),Ie+=Kt}return No(j)}const Gi=4096;function No(U){const b=U.length;if(b<=Gi)return String.fromCharCode.apply(String,U);let w="",j=0;for(;j<b;)w+=String.fromCharCode.apply(String,U.slice(j,j+=Gi));return w}function fn(U,b,w){let j="";w=Math.min(U.length,w);for(let Ie=b;Ie<w;++Ie)j+=String.fromCharCode(U[Ie]&127);return j}function fo(U,b,w){let j="";w=Math.min(U.length,w);for(let Ie=b;Ie<w;++Ie)j+=String.fromCharCode(U[Ie]);return j}function Sn(U,b,w){const j=U.length;(!b||b<0)&&(b=0),(!w||w<0||w>j)&&(w=j);let Ie="";for(let Me=b;Me<w;++Me)Ie+=ga[U[Me]];return Ie}function Hs(U,b,w){const j=U.slice(b,w);let Ie="";for(let Me=0;Me<j.length-1;Me+=2)Ie+=String.fromCharCode(j[Me]+j[Me+1]*256);return Ie}Y.prototype.slice=function(b,w){const j=this.length;b=~~b,w=w===void 0?j:~~w,b<0?(b+=j,b<0&&(b=0)):b>j&&(b=j),w<0?(w+=j,w<0&&(w=0)):w>j&&(w=j),w<b&&(w=b);const Ie=this.subarray(b,w);return Object.setPrototypeOf(Ie,Y.prototype),Ie};function Vr(U,b,w){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+b>w)throw new RangeError("Trying to access beyond buffer length")}Y.prototype.readUintLE=Y.prototype.readUIntLE=function(b,w,j){b=b>>>0,w=w>>>0,j||Vr(b,w,this.length);let Ie=this[b],Me=1,He=0;for(;++He<w&&(Me*=256);)Ie+=this[b+He]*Me;return Ie},Y.prototype.readUintBE=Y.prototype.readUIntBE=function(b,w,j){b=b>>>0,w=w>>>0,j||Vr(b,w,this.length);let Ie=this[b+--w],Me=1;for(;w>0&&(Me*=256);)Ie+=this[b+--w]*Me;return Ie},Y.prototype.readUint8=Y.prototype.readUInt8=function(b,w){return b=b>>>0,w||Vr(b,1,this.length),this[b]},Y.prototype.readUint16LE=Y.prototype.readUInt16LE=function(b,w){return b=b>>>0,w||Vr(b,2,this.length),this[b]|this[b+1]<<8},Y.prototype.readUint16BE=Y.prototype.readUInt16BE=function(b,w){return b=b>>>0,w||Vr(b,2,this.length),this[b]<<8|this[b+1]},Y.prototype.readUint32LE=Y.prototype.readUInt32LE=function(b,w){return b=b>>>0,w||Vr(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+this[b+3]*16777216},Y.prototype.readUint32BE=Y.prototype.readUInt32BE=function(b,w){return b=b>>>0,w||Vr(b,4,this.length),this[b]*16777216+(this[b+1]<<16|this[b+2]<<8|this[b+3])},Y.prototype.readBigUInt64LE=gi(function(b){b=b>>>0,Wi(b,"offset");const w=this[b],j=this[b+7];(w===void 0||j===void 0)&&Ci(b,this.length-8);const Ie=w+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24,Me=this[++b]+this[++b]*2**8+this[++b]*2**16+j*2**24;return BigInt(Ie)+(BigInt(Me)<<BigInt(32))}),Y.prototype.readBigUInt64BE=gi(function(b){b=b>>>0,Wi(b,"offset");const w=this[b],j=this[b+7];(w===void 0||j===void 0)&&Ci(b,this.length-8);const Ie=w*2**24+this[++b]*2**16+this[++b]*2**8+this[++b],Me=this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+j;return(BigInt(Ie)<<BigInt(32))+BigInt(Me)}),Y.prototype.readIntLE=function(b,w,j){b=b>>>0,w=w>>>0,j||Vr(b,w,this.length);let Ie=this[b],Me=1,He=0;for(;++He<w&&(Me*=256);)Ie+=this[b+He]*Me;return Me*=128,Ie>=Me&&(Ie-=Math.pow(2,8*w)),Ie},Y.prototype.readIntBE=function(b,w,j){b=b>>>0,w=w>>>0,j||Vr(b,w,this.length);let Ie=w,Me=1,He=this[b+--Ie];for(;Ie>0&&(Me*=256);)He+=this[b+--Ie]*Me;return Me*=128,He>=Me&&(He-=Math.pow(2,8*w)),He},Y.prototype.readInt8=function(b,w){return b=b>>>0,w||Vr(b,1,this.length),this[b]&128?(255-this[b]+1)*-1:this[b]},Y.prototype.readInt16LE=function(b,w){b=b>>>0,w||Vr(b,2,this.length);const j=this[b]|this[b+1]<<8;return j&32768?j|4294901760:j},Y.prototype.readInt16BE=function(b,w){b=b>>>0,w||Vr(b,2,this.length);const j=this[b+1]|this[b]<<8;return j&32768?j|4294901760:j},Y.prototype.readInt32LE=function(b,w){return b=b>>>0,w||Vr(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},Y.prototype.readInt32BE=function(b,w){return b=b>>>0,w||Vr(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},Y.prototype.readBigInt64LE=gi(function(b){b=b>>>0,Wi(b,"offset");const w=this[b],j=this[b+7];(w===void 0||j===void 0)&&Ci(b,this.length-8);const Ie=this[b+4]+this[b+5]*2**8+this[b+6]*2**16+(j<<24);return(BigInt(Ie)<<BigInt(32))+BigInt(w+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24)}),Y.prototype.readBigInt64BE=gi(function(b){b=b>>>0,Wi(b,"offset");const w=this[b],j=this[b+7];(w===void 0||j===void 0)&&Ci(b,this.length-8);const Ie=(w<<24)+this[++b]*2**16+this[++b]*2**8+this[++b];return(BigInt(Ie)<<BigInt(32))+BigInt(this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+j)}),Y.prototype.readFloatLE=function(b,w){return b=b>>>0,w||Vr(b,4,this.length),x.read(this,b,!0,23,4)},Y.prototype.readFloatBE=function(b,w){return b=b>>>0,w||Vr(b,4,this.length),x.read(this,b,!1,23,4)},Y.prototype.readDoubleLE=function(b,w){return b=b>>>0,w||Vr(b,8,this.length),x.read(this,b,!0,52,8)},Y.prototype.readDoubleBE=function(b,w){return b=b>>>0,w||Vr(b,8,this.length),x.read(this,b,!1,52,8)};function xr(U,b,w,j,Ie,Me){if(!Y.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>Ie||b<Me)throw new RangeError('"value" argument is out of bounds');if(w+j>U.length)throw new RangeError("Index out of range")}Y.prototype.writeUintLE=Y.prototype.writeUIntLE=function(b,w,j,Ie){if(b=+b,w=w>>>0,j=j>>>0,!Ie){const Kt=Math.pow(2,8*j)-1;xr(this,b,w,j,Kt,0)}let Me=1,He=0;for(this[w]=b&255;++He<j&&(Me*=256);)this[w+He]=b/Me&255;return w+j},Y.prototype.writeUintBE=Y.prototype.writeUIntBE=function(b,w,j,Ie){if(b=+b,w=w>>>0,j=j>>>0,!Ie){const Kt=Math.pow(2,8*j)-1;xr(this,b,w,j,Kt,0)}let Me=j-1,He=1;for(this[w+Me]=b&255;--Me>=0&&(He*=256);)this[w+Me]=b/He&255;return w+j},Y.prototype.writeUint8=Y.prototype.writeUInt8=function(b,w,j){return b=+b,w=w>>>0,j||xr(this,b,w,1,255,0),this[w]=b&255,w+1},Y.prototype.writeUint16LE=Y.prototype.writeUInt16LE=function(b,w,j){return b=+b,w=w>>>0,j||xr(this,b,w,2,65535,0),this[w]=b&255,this[w+1]=b>>>8,w+2},Y.prototype.writeUint16BE=Y.prototype.writeUInt16BE=function(b,w,j){return b=+b,w=w>>>0,j||xr(this,b,w,2,65535,0),this[w]=b>>>8,this[w+1]=b&255,w+2},Y.prototype.writeUint32LE=Y.prototype.writeUInt32LE=function(b,w,j){return b=+b,w=w>>>0,j||xr(this,b,w,4,4294967295,0),this[w+3]=b>>>24,this[w+2]=b>>>16,this[w+1]=b>>>8,this[w]=b&255,w+4},Y.prototype.writeUint32BE=Y.prototype.writeUInt32BE=function(b,w,j){return b=+b,w=w>>>0,j||xr(this,b,w,4,4294967295,0),this[w]=b>>>24,this[w+1]=b>>>16,this[w+2]=b>>>8,this[w+3]=b&255,w+4};function lo(U,b,w,j,Ie){Ou(b,j,Ie,U,w,7);let Me=Number(b&BigInt(4294967295));U[w++]=Me,Me=Me>>8,U[w++]=Me,Me=Me>>8,U[w++]=Me,Me=Me>>8,U[w++]=Me;let He=Number(b>>BigInt(32)&BigInt(4294967295));return U[w++]=He,He=He>>8,U[w++]=He,He=He>>8,U[w++]=He,He=He>>8,U[w++]=He,w}function va(U,b,w,j,Ie){Ou(b,j,Ie,U,w,7);let Me=Number(b&BigInt(4294967295));U[w+7]=Me,Me=Me>>8,U[w+6]=Me,Me=Me>>8,U[w+5]=Me,Me=Me>>8,U[w+4]=Me;let He=Number(b>>BigInt(32)&BigInt(4294967295));return U[w+3]=He,He=He>>8,U[w+2]=He,He=He>>8,U[w+1]=He,He=He>>8,U[w]=He,w+8}Y.prototype.writeBigUInt64LE=gi(function(b,w=0){return lo(this,b,w,BigInt(0),BigInt("0xffffffffffffffff"))}),Y.prototype.writeBigUInt64BE=gi(function(b,w=0){return va(this,b,w,BigInt(0),BigInt("0xffffffffffffffff"))}),Y.prototype.writeIntLE=function(b,w,j,Ie){if(b=+b,w=w>>>0,!Ie){const $r=Math.pow(2,8*j-1);xr(this,b,w,j,$r-1,-$r)}let Me=0,He=1,Kt=0;for(this[w]=b&255;++Me<j&&(He*=256);)b<0&&Kt===0&&this[w+Me-1]!==0&&(Kt=1),this[w+Me]=(b/He>>0)-Kt&255;return w+j},Y.prototype.writeIntBE=function(b,w,j,Ie){if(b=+b,w=w>>>0,!Ie){const $r=Math.pow(2,8*j-1);xr(this,b,w,j,$r-1,-$r)}let Me=j-1,He=1,Kt=0;for(this[w+Me]=b&255;--Me>=0&&(He*=256);)b<0&&Kt===0&&this[w+Me+1]!==0&&(Kt=1),this[w+Me]=(b/He>>0)-Kt&255;return w+j},Y.prototype.writeInt8=function(b,w,j){return b=+b,w=w>>>0,j||xr(this,b,w,1,127,-128),b<0&&(b=255+b+1),this[w]=b&255,w+1},Y.prototype.writeInt16LE=function(b,w,j){return b=+b,w=w>>>0,j||xr(this,b,w,2,32767,-32768),this[w]=b&255,this[w+1]=b>>>8,w+2},Y.prototype.writeInt16BE=function(b,w,j){return b=+b,w=w>>>0,j||xr(this,b,w,2,32767,-32768),this[w]=b>>>8,this[w+1]=b&255,w+2},Y.prototype.writeInt32LE=function(b,w,j){return b=+b,w=w>>>0,j||xr(this,b,w,4,2147483647,-2147483648),this[w]=b&255,this[w+1]=b>>>8,this[w+2]=b>>>16,this[w+3]=b>>>24,w+4},Y.prototype.writeInt32BE=function(b,w,j){return b=+b,w=w>>>0,j||xr(this,b,w,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[w]=b>>>24,this[w+1]=b>>>16,this[w+2]=b>>>8,this[w+3]=b&255,w+4},Y.prototype.writeBigInt64LE=gi(function(b,w=0){return lo(this,b,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Y.prototype.writeBigInt64BE=gi(function(b,w=0){return va(this,b,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Lr(U,b,w,j,Ie,Me){if(w+j>U.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function mi(U,b,w,j,Ie){return b=+b,w=w>>>0,Ie||Lr(U,b,w,4),x.write(U,b,w,j,23,4),w+4}Y.prototype.writeFloatLE=function(b,w,j){return mi(this,b,w,!0,j)},Y.prototype.writeFloatBE=function(b,w,j){return mi(this,b,w,!1,j)};function ya(U,b,w,j,Ie){return b=+b,w=w>>>0,Ie||Lr(U,b,w,8),x.write(U,b,w,j,52,8),w+8}Y.prototype.writeDoubleLE=function(b,w,j){return ya(this,b,w,!0,j)},Y.prototype.writeDoubleBE=function(b,w,j){return ya(this,b,w,!1,j)},Y.prototype.copy=function(b,w,j,Ie){if(!Y.isBuffer(b))throw new TypeError("argument should be a Buffer");if(j||(j=0),!Ie&&Ie!==0&&(Ie=this.length),w>=b.length&&(w=b.length),w||(w=0),Ie>0&&Ie<j&&(Ie=j),Ie===j||b.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("sourceEnd out of bounds");Ie>this.length&&(Ie=this.length),b.length-w<Ie-j&&(Ie=b.length-w+j);const Me=Ie-j;return this===b&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,j,Ie):Uint8Array.prototype.set.call(b,this.subarray(j,Ie),w),Me},Y.prototype.fill=function(b,w,j,Ie){if(typeof b=="string"){if(typeof w=="string"?(Ie=w,w=0,j=this.length):typeof j=="string"&&(Ie=j,j=this.length),Ie!==void 0&&typeof Ie!="string")throw new TypeError("encoding must be a string");if(typeof Ie=="string"&&!Y.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);if(b.length===1){const He=b.charCodeAt(0);(Ie==="utf8"&&He<128||Ie==="latin1")&&(b=He)}}else typeof b=="number"?b=b&255:typeof b=="boolean"&&(b=Number(b));if(w<0||this.length<w||this.length<j)throw new RangeError("Out of range index");if(j<=w)return this;w=w>>>0,j=j===void 0?this.length:j>>>0,b||(b=0);let Me;if(typeof b=="number")for(Me=w;Me<j;++Me)this[Me]=b;else{const He=Y.isBuffer(b)?b:Y.from(b,Ie),Kt=He.length;if(Kt===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(Me=0;Me<j-w;++Me)this[Me+w]=He[Me%Kt]}return this};const ho={};function Uo(U,b,w){ho[U]=class extends w{constructor(){super();Object.defineProperty(this,"message",{value:b.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,this.stack,delete this.name}get code(){return U}set code(Ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ie,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}Uo("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Uo("ERR_INVALID_ARG_TYPE",function(U,b){return`The "${U}" argument must be of type number. Received type ${typeof b}`},TypeError),Uo("ERR_OUT_OF_RANGE",function(U,b,w){let j=`The value of "${U}" is out of range.`,Ie=w;return Number.isInteger(w)&&Math.abs(w)>2**32?Ie=Du(String(w)):typeof w=="bigint"&&(Ie=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(Ie=Du(Ie)),Ie+="n"),j+=` It must be ${b}. Received ${Ie}`,j},RangeError);function Du(U){let b="",w=U.length;const j=U[0]==="-"?1:0;for(;w>=j+4;w-=3)b=`_${U.slice(w-3,w)}${b}`;return`${U.slice(0,w)}${b}`}function Gs(U,b,w){Wi(b,"offset"),(U[b]===void 0||U[b+w]===void 0)&&Ci(b,U.length-(w+1))}function Ou(U,b,w,j,Ie,Me){if(U>w||U<b){const He=typeof b=="bigint"?"n":"";let Kt;throw Me>3?b===0||b===BigInt(0)?Kt=`>= 0${He} and < 2${He} ** ${(Me+1)*8}${He}`:Kt=`>= -(2${He} ** ${(Me+1)*8-1}${He}) and < 2 ** ${(Me+1)*8-1}${He}`:Kt=`>= ${b}${He} and <= ${w}${He}`,new ho.ERR_OUT_OF_RANGE("value",Kt,U)}Gs(j,Ie,Me)}function Wi(U,b){if(typeof U!="number")throw new ho.ERR_INVALID_ARG_TYPE(b,"number",U)}function Ci(U,b,w){throw Math.floor(U)!==U?(Wi(U,w),new ho.ERR_OUT_OF_RANGE(w||"offset","an integer",U)):b<0?new ho.ERR_BUFFER_OUT_OF_BOUNDS:new ho.ERR_OUT_OF_RANGE(w||"offset",`>= ${w?1:0} and <= ${b}`,U)}const po=/[^+/0-9A-Za-z-_]/g;function Ri(U){if(U=U.split("=")[0],U=U.trim().replace(po,""),U.length<2)return"";for(;U.length%4!=0;)U=U+"=";return U}function ma(U,b){b=b||1/0;let w;const j=U.length;let Ie=null;const Me=[];for(let He=0;He<j;++He){if(w=U.charCodeAt(He),w>55295&&w<57344){if(!Ie){if(w>56319){(b-=3)>-1&&Me.push(239,191,189);continue}else if(He+1===j){(b-=3)>-1&&Me.push(239,191,189);continue}Ie=w;continue}if(w<56320){(b-=3)>-1&&Me.push(239,191,189),Ie=w;continue}w=(Ie-55296<<10|w-56320)+65536}else Ie&&(b-=3)>-1&&Me.push(239,191,189);if(Ie=null,w<128){if((b-=1)<0)break;Me.push(w)}else if(w<2048){if((b-=2)<0)break;Me.push(w>>6|192,w&63|128)}else if(w<65536){if((b-=3)<0)break;Me.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((b-=4)<0)break;Me.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return Me}function Va(U){const b=[];for(let w=0;w<U.length;++w)b.push(U.charCodeAt(w)&255);return b}function vo(U,b){let w,j,Ie;const Me=[];for(let He=0;He<U.length&&!((b-=2)<0);++He)w=U.charCodeAt(He),j=w>>8,Ie=w%256,Me.push(Ie),Me.push(j);return Me}function yo(U){return ut.toByteArray(Ri(U))}function ji(U,b,w,j){let Ie;for(Ie=0;Ie<j&&!(Ie+w>=b.length||Ie>=U.length);++Ie)b[Ie+w]=U[Ie];return Ie}function Pn(U,b){return U instanceof b||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===b.name}function mo(U){return U!==U}const ga=function(){const U="0123456789abcdef",b=new Array(256);for(let w=0;w<16;++w){const j=w*16;for(let Ie=0;Ie<16;++Ie)b[j+Ie]=U[w]+U[Ie]}return b}();function gi(U){return typeof BigInt=="undefined"?yn:U}function yn(){throw new Error("BigInt not supported")}}),m=p.Buffer;p.SlowBuffer,p.INSPECT_MAX_BYTES,p.kMaxLength;function z(J,te){var Z=te===8?new Uint8Array(J):new Uint16Array(J);return Array.from(Z).map(function(xe){return String.fromCharCode(xe)}).join("")}function re(J){var te=z(J,8);return m.from(te,"binary").toString("base64")}function we(J,te){for(var Z=te===8?new Uint8Array(J.length):new Uint16Array(J.length),xe=0,Le=J.length;xe<Le;xe++)Z[xe]=J.charCodeAt(xe);return Z.buffer}function Ee(J){var te=m.from(J,"base64").toString("binary");return we(te,8)}function We(){return new Uint8Array([1,0,1])}function ft(J){var te=new Uint8Array(J);return globalThis.crypto.getRandomValues(te),te.buffer}function Et(J,te){var Z=new Uint8Array(J),xe=new Uint8Array(te),Le=new Uint8Array(Z.length+xe.length);return Le.set(Z),Le.set(xe,Z.length),Le.buffer}var At=function(J){return jr(J,function(te){return we(te,he.B8)})},zt=function(J){return jr(J,function(te){return we(te,he.B16)})},hn=function(J){return jr(J,Ee)},qt=function(J,te){switch(te){case 8:return At(J);default:return zt(J)}},jr=function(J,te){if(typeof J=="string")return te(J);if(typeof J=="object"&&J.byteLength!==void 0){var Z=new Uint8Array(J);return Z.buffer}else throw new Error("Improper value. Must be a string, ArrayBuffer, Uint8Array")};function Zn(J){return a(this,void 0,void 0,function(){return u(this,function(te){return[2,new Promise(function(Z){var xe=new MessageChannel,Le=xe.port1,Fe=xe.port2;Fe.onmessage=function(Y){return Z(Y.data)},Le.postMessage(J)})]})})}var fr={arrBufToStr:z,arrBufToBase64:re,strToArrBuf:we,base64ToArrBuf:Ee,publicExponent:We,randomBuf:ft,joinBufs:Et,normalizeUtf8ToBuf:At,normalizeUtf16ToBuf:zt,normalizeBase64ToBuf:hn,normalizeToBuf:jr,structuralClone:Zn},fi=Object.freeze({__proto__:null,arrBufToStr:z,arrBufToBase64:re,strToArrBuf:we,base64ToArrBuf:Ee,publicExponent:We,randomBuf:ft,joinBufs:Et,normalizeUtf8ToBuf:At,normalizeUtf16ToBuf:zt,normalizeBase64ToBuf:hn,normalizeUnicodeToBuf:qt,normalizeToBuf:jr,structuralClone:Zn,default:fr}),Rn="ECDH",Jr="ECDSA",_n="RSA-OAEP",Nn="RSASSA-PKCS1-v1_5",Qn=128,li="ecc",ur=A.P_256,hi=F.B2048,cn=D.AES_CTR,Un=k.B256,Dn=64,dn=K.SHA_256,un=he.B16,ei="keystore",br="read-key",ti="write-key",Bi={ECC_READ_ALG:Rn,ECC_WRITE_ALG:Jr,RSA_READ_ALG:_n,RSA_WRITE_ALG:Nn,SALT_LENGTH:Qn,DEFAULT_CRYPTOSYSTEM:li,DEFAULT_ECC_CURVE:ur,DEFAULT_RSA_SIZE:hi,DEFAULT_SYMM_ALG:cn,DEFAULT_CTR_LEN:Dn,DEFAULT_HASH_ALG:dn,DEFAULT_CHAR_SIZE:un,DEFAULT_STORE_NAME:ei,DEFAULT_READ_KEY_NAME:br,DEFAULT_WRITE_KEY_NAME:ti},di=Object.freeze({__proto__:null,ECC_READ_ALG:Rn,ECC_WRITE_ALG:Jr,RSA_READ_ALG:_n,RSA_WRITE_ALG:Nn,SALT_LENGTH:Qn,DEFAULT_CRYPTOSYSTEM:li,DEFAULT_ECC_CURVE:ur,DEFAULT_RSA_SIZE:hi,DEFAULT_SYMM_ALG:cn,DEFAULT_SYMM_LEN:Un,DEFAULT_CTR_LEN:Dn,DEFAULT_HASH_ALG:dn,DEFAULT_CHAR_SIZE:un,DEFAULT_STORE_NAME:ei,DEFAULT_READ_KEY_NAME:br,DEFAULT_WRITE_KEY_NAME:ti,default:Bi});function pi(J,te){return a(this,void 0,void 0,function(){var Z,xe;return u(this,function(Le){return pt(te),Z=te===ge.Read?Rn:Jr,xe=te===ge.Read?["deriveKey","deriveBits"]:["sign","verify"],[2,globalThis.crypto.subtle.generateKey({name:Z,namedCurve:J},!1,xe)]})})}function vi(J,te,Z){return a(this,void 0,void 0,function(){var xe,Le,Fe;return u(this,function(Y){return pt(Z),xe=Z===ge.Read?Rn:Jr,Le=Z===ge.Read?[]:["verify"],Fe=fr.base64ToArrBuf(J),[2,globalThis.crypto.subtle.importKey("raw",Fe,{name:xe,namedCurve:te},!0,Le)]})})}var pn={makeKeypair:pi,importPublicKey:vi};function Ti(J){return a(this,void 0,void 0,function(){return u(this,function(te){return[2,globalThis.crypto.subtle.generateKey({name:(J==null?void 0:J.alg)||cn,length:(J==null?void 0:J.length)||Un},!0,["encrypt","decrypt"])]})})}function ki(J,te){return a(this,void 0,void 0,function(){var Z;return u(this,function(xe){return Z=fr.base64ToArrBuf(J),[2,globalThis.crypto.subtle.importKey("raw",Z,{name:(te==null?void 0:te.alg)||cn,length:(te==null?void 0:te.length)||Un},!0,["encrypt","decrypt"])]})})}var Qt={makeKey:Ti,importKey:ki};function On(J,te,Z){return a(this,void 0,void 0,function(){var xe,Le,Fe,Y,je,et;return u(this,function(Je){switch(Je.label){case 0:return xe=fr.normalizeUtf16ToBuf(J),typeof te!="string"?[3,2]:[4,Qt.importKey(te,Z)];case 1:return Fe=Je.sent(),[3,3];case 2:Fe=te,Je.label=3;case 3:return Le=Fe,Y=(Z==null?void 0:Z.alg)||cn,je=(Z==null?void 0:Z.iv)||fr.randomBuf(16),[4,globalThis.crypto.subtle.encrypt({name:Y,iv:Y===D.AES_CTR?void 0:je,counter:Y===D.AES_CTR?new Uint8Array(je):void 0,length:Y===D.AES_CTR?Dn:void 0},Le,xe)];case 4:return et=Je.sent(),[2,fr.joinBufs(je,et)]}})})}function la(J,te,Z){return a(this,void 0,void 0,function(){var xe,Le,Fe,Y,je,et,Je;return u(this,function(ht){switch(ht.label){case 0:return xe=fr.normalizeBase64ToBuf(J),typeof te!="string"?[3,2]:[4,Qt.importKey(te,Z)];case 1:return Fe=ht.sent(),[3,3];case 2:Fe=te,ht.label=3;case 3:return Le=Fe,Y=(Z==null?void 0:Z.alg)||cn,je=xe.slice(0,16),et=xe.slice(16),[4,globalThis.crypto.subtle.decrypt({name:Y,iv:Y===D.AES_CTR?void 0:je,counter:Y===D.AES_CTR?new Uint8Array(je):void 0,length:Y===D.AES_CTR?Dn:void 0},Le,et)];case 4:return Je=ht.sent(),[2,Je]}})})}function de(J,te,Z){return a(this,void 0,void 0,function(){var xe;return u(this,function(Le){switch(Le.label){case 0:return[4,On(J,te,Z)];case 1:return xe=Le.sent(),[2,fr.arrBufToBase64(xe)]}})})}function Mt(J,te,Z){return a(this,void 0,void 0,function(){var xe;return u(this,function(Le){switch(Le.label){case 0:return[4,la(J,te,Z)];case 1:return xe=Le.sent(),[2,fr.arrBufToStr(xe,16)]}})})}function Vt(J){return a(this,void 0,void 0,function(){var te;return u(this,function(Z){switch(Z.label){case 0:return[4,globalThis.crypto.subtle.exportKey("raw",J)];case 1:return te=Z.sent(),[2,fr.arrBufToBase64(te)]}})})}var Lt={encryptBytes:On,decryptBytes:la,encrypt:de,decrypt:Mt,exportKey:Vt},wn=o(o({},Qt),Lt);function Ln(J,te,Z,xe){return Z===void 0&&(Z=un),xe===void 0&&(xe=dn),a(this,void 0,void 0,function(){return u(this,function(Le){return[2,globalThis.crypto.subtle.sign({name:Jr,hash:{name:xe}},te,qt(J,Z))]})})}function so(J,te,Z,xe,Le,Fe){return xe===void 0&&(xe=un),Le===void 0&&(Le=ur),Fe===void 0&&(Fe=dn),a(this,void 0,void 0,function(){var Y,je,et,Je;return u(this,function(ht){switch(ht.label){case 0:return je=(Y=globalThis.crypto.subtle).verify,et=[{name:Jr,hash:{name:Fe}}],typeof Z!="string"?[3,2]:[4,pn.importPublicKey(Z,Le,ge.Write)];case 1:return Je=ht.sent(),[3,3];case 2:Je=Z,ht.label=3;case 3:return[2,je.apply(Y,et.concat([Je,hn(te),qt(J,xe)]))]}})})}function Cu(J,te,Z,xe,Le,Fe){return xe===void 0&&(xe=un),Le===void 0&&(Le=ur),a(this,void 0,void 0,function(){var Y,je,et;return u(this,function(Je){switch(Je.label){case 0:return typeof Z!="string"?[3,2]:[4,pn.importPublicKey(Z,Le,ge.Read)];case 1:return je=Je.sent(),[3,3];case 2:je=Z,Je.label=3;case 3:return Y=je,[4,da(te,Y,Fe)];case 4:return et=Je.sent(),[2,wn.encryptBytes(qt(J,xe),et,Fe)]}})})}function Ru(J,te,Z,xe,Le){return xe===void 0&&(xe=ur),a(this,void 0,void 0,function(){var Fe,Y,je;return u(this,function(et){switch(et.label){case 0:return typeof Z!="string"?[3,2]:[4,pn.importPublicKey(Z,xe,ge.Read)];case 1:return Y=et.sent(),[3,3];case 2:Y=Z,et.label=3;case 3:return Fe=Y,[4,da(te,Fe,Le)];case 4:return je=et.sent(),[2,wn.decryptBytes(hn(J),je,Le)]}})})}function ha(J){return a(this,void 0,void 0,function(){var te;return u(this,function(Z){switch(Z.label){case 0:return[4,globalThis.crypto.subtle.exportKey("raw",J.publicKey)];case 1:return te=Z.sent(),[2,fr.arrBufToBase64(te)]}})})}function da(J,te,Z){return a(this,void 0,void 0,function(){return u(this,function(xe){return[2,globalThis.crypto.subtle.deriveKey({name:Rn,public:te},J,{name:(Z==null?void 0:Z.alg)||cn,length:(Z==null?void 0:Z.length)||Un},!1,["encrypt","decrypt"])]})})}var Fi={sign:Ln,verify:so,encrypt:Cu,decrypt:Ru,getPublicKey:ha,getSharedKey:da},L={type:li,curve:ur,rsaSize:hi,symmAlg:cn,symmLen:Un,hashAlg:dn,charSize:un,storeName:ei,readKeyName:br,writeKeyName:ti};function pe(J,te){te===void 0&&(te=!0);var Z;return J?Z=o(o({},L),J):Z=L,(J==null?void 0:J.type)||(Z.type=te?_.ECC:_.RSA),Z}function G(){return a(this,void 0,void 0,function(){var J;return u(this,function(te){switch(te.label){case 0:return[4,pn.makeKeypair(ur,ge.Read)];case 1:J=te.sent(),te.label=2;case 2:return te.trys.push([2,4,,5]),[4,fr.structuralClone(J)];case 3:return te.sent(),[3,5];case 4:return te.sent(),[2,!1];case 5:return[2,!0]}})})}function Te(J,te){return te===void 0&&(te={}),o(o({},J),te)}function Re(J){return{alg:J.symmAlg,length:J.symmLen}}var me={defaultConfig:L,normalize:pe,eccEnabled:G,merge:Te,symmKeyOpts:Re},Ge=Object.freeze({__proto__:null,defaultConfig:L,normalize:pe,eccEnabled:G,merge:Te,symmKeyOpts:Re,default:me}),tt=function(){function J(te,Z){this.cfg=te,this.store=Z}return J.prototype.writeKey=function(){return a(this,void 0,void 0,function(){var te;return u(this,function(Z){switch(Z.label){case 0:return[4,R.getKeypair(this.cfg.writeKeyName,this.store)];case 1:return te=Z.sent(),[2,Pe(te)]}})})},J.prototype.readKey=function(){return a(this,void 0,void 0,function(){var te;return u(this,function(Z){switch(Z.label){case 0:return[4,R.getKeypair(this.cfg.readKeyName,this.store)];case 1:return te=Z.sent(),[2,Pe(te)]}})})},J.prototype.getSymmKey=function(te,Z){return a(this,void 0,void 0,function(){var xe,Le,Fe;return u(this,function(Y){switch(Y.label){case 0:return xe=me.merge(this.cfg,Z),[4,R.getKey(te,this.store)];case 1:return Le=Y.sent(),Le!==null?[2,Le]:[4,wn.makeKey(me.symmKeyOpts(xe))];case 2:return Fe=Y.sent(),[4,R.put(te,Fe,this.store)];case 3:return Y.sent(),[2,Fe]}})})},J.prototype.keyExists=function(te){return a(this,void 0,void 0,function(){var Z;return u(this,function(xe){switch(xe.label){case 0:return[4,R.getKey(te,this.store)];case 1:return Z=xe.sent(),[2,Z!==null]}})})},J.prototype.deleteKey=function(te){return a(this,void 0,void 0,function(){return u(this,function(Z){return[2,R.rm(te,this.store)]})})},J.prototype.destroy=function(){return a(this,void 0,void 0,function(){return u(this,function(te){return[2,R.dropStore(this.store)]})})},J.prototype.importSymmKey=function(te,Z,xe){return a(this,void 0,void 0,function(){var Le,Fe;return u(this,function(Y){switch(Y.label){case 0:return Le=me.merge(this.cfg,xe),[4,wn.importKey(te,me.symmKeyOpts(Le))];case 1:return Fe=Y.sent(),[4,R.put(Z,Fe,this.store)];case 2:return Y.sent(),[2]}})})},J.prototype.exportSymmKey=function(te,Z){return a(this,void 0,void 0,function(){var xe;return u(this,function(Le){switch(Le.label){case 0:return[4,this.getSymmKey(te,Z)];case 1:return xe=Le.sent(),[2,wn.exportKey(xe)]}})})},J.prototype.encryptWithSymmKey=function(te,Z,xe){return a(this,void 0,void 0,function(){var Le,Fe,Y;return u(this,function(je){switch(je.label){case 0:return Le=me.merge(this.cfg,xe),[4,this.getSymmKey(Z,xe)];case 1:return Fe=je.sent(),[4,wn.encryptBytes(fr.strToArrBuf(te,Le.charSize),Fe,me.symmKeyOpts(Le))];case 2:return Y=je.sent(),[2,fr.arrBufToBase64(Y)]}})})},J.prototype.decryptWithSymmKey=function(te,Z,xe){return a(this,void 0,void 0,function(){var Le,Fe,Y;return u(this,function(je){switch(je.label){case 0:return Le=me.merge(this.cfg,xe),[4,this.getSymmKey(Z,xe)];case 1:return Fe=je.sent(),[4,wn.decryptBytes(fr.base64ToArrBuf(te),Fe,me.symmKeyOpts(Le))];case 2:return Y=je.sent(),[2,fr.arrBufToStr(Y,Le.charSize)]}})})},J}(),nt=function(J){n(te,J);function te(){return J!==null&&J.apply(this,arguments)||this}return te.init=function(Z){return a(this,void 0,void 0,function(){var xe,Le,Fe,Y,je,et;return u(this,function(Je){switch(Je.label){case 0:return xe=me.normalize(o(o({},Z||{}),{type:_.ECC})),Le=xe.curve,Fe=xe.storeName,Y=xe.readKeyName,je=xe.writeKeyName,et=R.createStore(Fe),[4,R.createIfDoesNotExist(Y,function(){return pn.makeKeypair(Le,ge.Read)},et)];case 1:return Je.sent(),[4,R.createIfDoesNotExist(je,function(){return pn.makeKeypair(Le,ge.Write)},et)];case 2:return Je.sent(),[2,new te(xe,et)]}})})},te.prototype.sign=function(Z,xe){return a(this,void 0,void 0,function(){var Le,Fe,Y,je;return u(this,function(et){switch(et.label){case 0:return Le=me.merge(this.cfg,xe),[4,this.writeKey()];case 1:return Fe=et.sent(),je=(Y=fr).arrBufToBase64,[4,Fi.sign(Z,Fe.privateKey,Le.charSize,Le.hashAlg)];case 2:return[2,je.apply(Y,[et.sent()])]}})})},te.prototype.verify=function(Z,xe,Le,Fe){return a(this,void 0,void 0,function(){var Y;return u(this,function(je){return Y=me.merge(this.cfg,Fe),[2,Fi.verify(Z,xe,Le,Y.charSize,Y.curve,Y.hashAlg)]})})},te.prototype.encrypt=function(Z,xe,Le){return a(this,void 0,void 0,function(){var Fe,Y,je,et;return u(this,function(Je){switch(Je.label){case 0:return Fe=me.merge(this.cfg,Le),[4,this.readKey()];case 1:return Y=Je.sent(),et=(je=fr).arrBufToBase64,[4,Fi.encrypt(Z,Y.privateKey,xe,Fe.charSize,Fe.curve)];case 2:return[2,et.apply(je,[Je.sent()])]}})})},te.prototype.decrypt=function(Z,xe,Le){return a(this,void 0,void 0,function(){var Fe,Y,je,et;return u(this,function(Je){switch(Je.label){case 0:return Fe=me.merge(this.cfg,Le),[4,this.readKey()];case 1:return Y=Je.sent(),et=(je=fr).arrBufToStr,[4,Fi.decrypt(Z,Y.privateKey,xe,Fe.curve)];case 2:return[2,et.apply(je,[Je.sent(),Fe.charSize])]}})})},te.prototype.publicReadKey=function(){return a(this,void 0,void 0,function(){var Z;return u(this,function(xe){switch(xe.label){case 0:return[4,this.readKey()];case 1:return Z=xe.sent(),[2,Fi.getPublicKey(Z)]}})})},te.prototype.publicWriteKey=function(){return a(this,void 0,void 0,function(){var Z;return u(this,function(xe){switch(xe.label){case 0:return[4,this.writeKey()];case 1:return Z=xe.sent(),[2,Fi.getPublicKey(Z)]}})})},te}(tt);function it(J,te,Z){return a(this,void 0,void 0,function(){var xe,Le;return u(this,function(Fe){return pt(Z),xe=Z===ge.Read?_n:Nn,Le=Z===ge.Read?["encrypt","decrypt"]:["sign","verify"],[2,globalThis.crypto.subtle.generateKey({name:xe,modulusLength:J,publicExponent:fr.publicExponent(),hash:{name:te}},!1,Le)]})})}function st(J){return J.replace(`-----BEGIN PUBLIC KEY-----
`,"").replace(`
-----END PUBLIC KEY-----`,"")}function St(J,te,Z){return a(this,void 0,void 0,function(){var xe,Le,Fe;return u(this,function(Y){return pt(Z),xe=Z===ge.Read?_n:Nn,Le=Z===ge.Read?["encrypt"]:["verify"],Fe=fr.base64ToArrBuf(st(J)),[2,globalThis.crypto.subtle.importKey("spki",Fe,{name:xe,hash:{name:te}},!0,Le)]})})}var Pt={makeKeypair:it,importPublicKey:St};function sr(J,te,Z){return Z===void 0&&(Z=un),a(this,void 0,void 0,function(){return u(this,function(xe){return[2,globalThis.crypto.subtle.sign({name:Nn,saltLength:Qn},te,qt(J,Z))]})})}function lr(J,te,Z,xe,Le){return xe===void 0&&(xe=un),Le===void 0&&(Le=dn),a(this,void 0,void 0,function(){var Fe,Y,je,et;return u(this,function(Je){switch(Je.label){case 0:return Y=(Fe=globalThis.crypto.subtle).verify,je=[{name:Nn,saltLength:Qn}],typeof Z!="string"?[3,2]:[4,Pt.importPublicKey(Z,Le,ge.Write)];case 1:return et=Je.sent(),[3,3];case 2:et=Z,Je.label=3;case 3:return[2,Y.apply(Fe,je.concat([et,hn(te),qt(J,xe)]))]}})})}function Dr(J,te,Z,xe){return Z===void 0&&(Z=un),xe===void 0&&(xe=dn),a(this,void 0,void 0,function(){var Le,Fe,Y,je;return u(this,function(et){switch(et.label){case 0:return Fe=(Le=globalThis.crypto.subtle).encrypt,Y=[{name:_n}],typeof te!="string"?[3,2]:[4,Pt.importPublicKey(te,xe,ge.Read)];case 1:return je=et.sent(),[3,3];case 2:je=te,et.label=3;case 3:return[2,Fe.apply(Le,Y.concat([je,qt(J,Z)]))]}})})}function zr(J,te){return a(this,void 0,void 0,function(){var Z;return u(this,function(xe){return Z=hn(J),[2,globalThis.crypto.subtle.decrypt({name:_n},te,Z)]})})}function en(J){return a(this,void 0,void 0,function(){var te;return u(this,function(Z){switch(Z.label){case 0:return[4,globalThis.crypto.subtle.exportKey("spki",J.publicKey)];case 1:return te=Z.sent(),[2,fr.arrBufToBase64(te)]}})})}var Gn={sign:sr,verify:lr,encrypt:Dr,decrypt:zr,getPublicKey:en},co=function(J){n(te,J);function te(){return J!==null&&J.apply(this,arguments)||this}return te.init=function(Z){return a(this,void 0,void 0,function(){var xe,Le,Fe,Y,je,et,Je;return u(this,function(ht){switch(ht.label){case 0:return xe=me.normalize(o(o({},Z||{}),{type:_.RSA})),Le=xe.rsaSize,Fe=xe.hashAlg,Y=xe.storeName,je=xe.readKeyName,et=xe.writeKeyName,Je=R.createStore(Y),[4,R.createIfDoesNotExist(je,function(){return Pt.makeKeypair(Le,Fe,ge.Read)},Je)];case 1:return ht.sent(),[4,R.createIfDoesNotExist(et,function(){return Pt.makeKeypair(Le,Fe,ge.Write)},Je)];case 2:return ht.sent(),[2,new te(xe,Je)]}})})},te.prototype.sign=function(Z,xe){return a(this,void 0,void 0,function(){var Le,Fe,Y,je;return u(this,function(et){switch(et.label){case 0:return Le=me.merge(this.cfg,xe),[4,this.writeKey()];case 1:return Fe=et.sent(),je=(Y=fr).arrBufToBase64,[4,Gn.sign(Z,Fe.privateKey,Le.charSize)];case 2:return[2,je.apply(Y,[et.sent()])]}})})},te.prototype.verify=function(Z,xe,Le,Fe){return a(this,void 0,void 0,function(){var Y;return u(this,function(je){return Y=me.merge(this.cfg,Fe),[2,Gn.verify(Z,xe,Le,Y.charSize,Y.hashAlg)]})})},te.prototype.encrypt=function(Z,xe,Le){return a(this,void 0,void 0,function(){var Fe,Y,je;return u(this,function(et){switch(et.label){case 0:return Fe=me.merge(this.cfg,Le),je=(Y=fr).arrBufToBase64,[4,Gn.encrypt(Z,xe,Fe.charSize,Fe.hashAlg)];case 1:return[2,je.apply(Y,[et.sent()])]}})})},te.prototype.decrypt=function(Z,xe,Le){return a(this,void 0,void 0,function(){var Fe,Y,je,et;return u(this,function(Je){switch(Je.label){case 0:return[4,this.readKey()];case 1:return Fe=Je.sent(),Y=me.merge(this.cfg,Le),et=(je=fr).arrBufToStr,[4,Gn.decrypt(Z,Fe.privateKey)];case 2:return[2,et.apply(je,[Je.sent(),Y.charSize])]}})})},te.prototype.publicReadKey=function(){return a(this,void 0,void 0,function(){var Z;return u(this,function(xe){switch(xe.label){case 0:return[4,this.readKey()];case 1:return Z=xe.sent(),[2,Gn.getPublicKey(Z)]}})})},te.prototype.publicWriteKey=function(){return a(this,void 0,void 0,function(){var Z;return u(this,function(xe){switch(xe.label){case 0:return[4,this.writeKey()];case 1:return Z=xe.sent(),[2,Gn.getPublicKey(Z)]}})})},te}(tt);function Nu(J){return a(this,void 0,void 0,function(){var te,Z;return u(this,function(xe){switch(xe.label){case 0:return[4,me.eccEnabled()];case 1:if(te=xe.sent(),!te&&(J==null?void 0:J.type)==="ecc")throw Se;return Z=me.normalize(J,te),dt(Z.type),Z.type==="ecc"?[2,nt.init(Z)]:[2,co.init(Z)]}})})}function pa(){return a(this,void 0,void 0,function(){return u(this,function(J){return[2,R.clear()]})})}var $s=o(o(o({},pn),Fi),nt),zs=Object.freeze({__proto__:null,default:$s,makeKeypair:pi,importPublicKey:vi,sign:Ln,verify:so,encrypt:Cu,decrypt:Ru,getPublicKey:ha,getSharedKey:da,ECCKeyStore:nt}),Ks=o(o(o({},Pt),Gn),co),Uu=Object.freeze({__proto__:null,default:Ks,makeKeypair:it,importPublicKey:St,sign:sr,verify:lr,encrypt:Dr,decrypt:zr,getPublicKey:en,RSAKeyStore:co}),xf=o(o(o(o(o({init:Nu,clear:pa},ke),di),Ge),fi),{ecc:zs,rsa:Uu,idb:ie});return xf})}),cp={type:nr.CryptoSystem.RSA},Xo=null,fp=function(){return ae(void 0,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return Xo?[4,Xo.destroy()]:[3,2];case 1:r.sent(),Xo=null,r.label=2;case 2:return[2]}})})},xb=function(){return ae(void 0,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return[4,sp.init(cp)];case 1:return[2,r.sent()]}})})},Eb=function(r){return ae(void 0,void 0,void 0,function(){return ue(this,function(e){return Xo=r,[2]})})},So=function(){return ae(void 0,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return Xo?[2,Xo]:[4,sp.init(cp)];case 1:return Xo=r.sent(),[2,Xo]}})})},Ab=Object.freeze({__proto__:null,clear:fp,create:xb,set:Eb,get:So}),Sb=function(r,e){return ae(void 0,void 0,void 0,function(){var t,n;return ue(this,function(o){switch(o.label){case 0:return an("aes.encrypt"),[4,hu.importKey(e,{length:nr.SymmKeyLength.B256})];case 1:return t=o.sent(),[4,hu.encryptBytes(r.buffer,t)];case 2:return n=o.sent(),[2,new Uint8Array(n)]}})})},Ib=function(r,e){return ae(void 0,void 0,void 0,function(){var t,n;return ue(this,function(o){switch(o.label){case 0:return an("aes.decrypt"),[4,hu.importKey(e,{length:nr.SymmKeyLength.B256})];case 1:return t=o.sent(),[4,hu.decryptBytes(r.buffer,t)];case 2:return n=o.sent(),[2,new Uint8Array(n)]}})})},Bb=function(){return ae(void 0,void 0,void 0,function(){var r;return ue(this,function(e){switch(e.label){case 0:return an("aes.genKeyStr"),[4,hu.makeKey({length:nr.SymmKeyLength.B256})];case 1:return r=e.sent(),[2,hu.exportKey(r)]}})})},Tb=function(r,e,t){return ae(void 0,void 0,void 0,function(){var n,o,a;return ue(this,function(u){switch(u.label){case 0:return an("aes.decryptGCM"),n=Qu.base64ToArrBuf(t),[4,crypto.subtle.importKey("raw",Qu.base64ToArrBuf(e),"AES-GCM",!1,["encrypt","decrypt"])];case 1:return o=u.sent(),[4,crypto.subtle.decrypt({name:"AES-GCM",iv:n},o,Qu.base64ToArrBuf(r))];case 2:return a=u.sent(),[2,Qu.arrBufToStr(a,nr.CharSize.B8)]}})})},kb=function(r){return ae(void 0,void 0,void 0,function(){var e,t;return ue(this,function(n){switch(n.label){case 0:return an("hash.sha256"),e=r.buffer,[4,crypto.subtle.digest("SHA-256",e)];case 1:return t=n.sent(),[2,new Uint8Array(t)]}})})},Fb=function(r,e,t){an("rsa.verify");var n=Qu.arrBufToBase64(t.buffer);return wb.verify(r,e,n)},Cb=function(r,e,t){return Ng.verify(e,r,t)},Rb=function(){return ae(void 0,void 0,void 0,function(){var r;return ue(this,function(e){switch(e.label){case 0:return an("keystore.publicReadKey"),[4,So()];case 1:return r=e.sent(),[2,r.publicReadKey()]}})})},Nb=function(){return ae(void 0,void 0,void 0,function(){var r;return ue(this,function(e){switch(e.label){case 0:return an("keystore.publicWriteKey"),[4,So()];case 1:return r=e.sent(),[2,r.publicWriteKey()]}})})},Ub=function(r){return ae(void 0,void 0,void 0,function(){var e;return ue(this,function(t){switch(t.label){case 0:return an("keystore.decrypt"),[4,So()];case 1:return e=t.sent(),[2,e.decrypt(r)]}})})},Db=function(r,e){return ae(void 0,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return an("keystore.sign"),[4,So()];case 1:return t=n.sent(),[2,t.sign(r,{charSize:e})]}})})},Ob=function(r,e){return ae(void 0,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return an("keystore.importSymmKey"),[4,So()];case 1:return t=n.sent(),[2,t.importSymmKey(r,e)]}})})},Lb=function(r){return ae(void 0,void 0,void 0,function(){var e;return ue(this,function(t){switch(t.label){case 0:return an("keystore.exportSymmKey"),[4,So()];case 1:return e=t.sent(),[2,e.exportSymmKey(r)]}})})},Pb=function(r){return ae(void 0,void 0,void 0,function(){var e;return ue(this,function(t){switch(t.label){case 0:return an("keystore.keyExists"),[4,So()];case 1:return e=t.sent(),[2,e.keyExists(r)]}})})},Mb=function(){return ae(void 0,void 0,void 0,function(){var r;return ue(this,function(e){switch(e.label){case 0:return an("keystore.getAlg"),[4,So()];case 1:return r=e.sent(),[2,r.cfg.type]}})})},$b=function(){return ae(void 0,void 0,void 0,function(){return ue(this,function(r){return an("keystore.clear"),[2,fp()]})})},zb=function(r){return an("storage.getItem"),$n.getItem(r)},Kb=function(r,e){return an("storage.setItem"),$n.setItem(r,e)},Hb=function(r){return an("storage.removeItem"),$n.removeItem(r)},Gb=function(){return an("storage.clear"),$n.clear()},Wb={hash:{sha256:kb},aes:{encrypt:Sb,decrypt:Ib,genKeyStr:Bb,decryptGCM:Tb},rsa:{verify:Fb},ed25519:{verify:Cb},keystore:{publicReadKey:Rb,publicWriteKey:Nb,decrypt:Ub,sign:Db,importSymmKey:Ob,exportSymmKey:Lb,keyExists:Pb,getAlg:Mb,clear:$b},storage:{getItem:zb,setItem:Kb,removeItem:Hb,clear:Gb}},Mr=Wb,jb=function(r){return Mr={hash:du(Mr.hash,r.hash),aes:du(Mr.aes,r.aes),rsa:du(Mr.rsa,r.rsa),ed25519:du(Mr.ed25519,r.ed25519),keystore:du(Mr.keystore,r.keystore),storage:du(Mr.storage,r.storage)},Mr},du=function(r,e){return dr(dr({},r),e||{})},yc=function(r){return Mr.storage.getItem(r)},mc=function(r,e){return Mr.storage.setItem(r,e)},ll=function(r){return Mr.storage.removeItem(r)},lp=function(r){return r!==void 0},hl=function(r){return r!==null},dl=hl,hp=function(r){return lp(r)&&hl(r)},pl=function(r){return typeof r=="boolean"},Io=function(r){return typeof r=="number"},Mi=function(r){return typeof r=="string"},Qr=function(r){return r!==null&&typeof r=="object"},dp=function(r){var e;return typeof Blob=="undefined"?!1:r instanceof Blob||Qr(r)&&((e=r==null?void 0:r.constructor)===null||e===void 0?void 0:e.name)==="Blob"},gc=function(r,e){var t=r,n=e;t[n];var o=dd(t,[typeof n=="symbol"?n:n+""]);return o},Yb=function(r,e,t){var n;return t===null?gc(r,e):dr(dr({},r),(n={},n[e]=t,n))},pp=function(r,e){var t={};return Object.entries(r).forEach(function(n){var o=n[0],a=n[1];t[o]=e(a,o)}),t},qb=function(r,e){return ae(void 0,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return t={},[4,Promise.all(Object.entries(r).map(function(o){var a=o[0],u=o[1];return ae(void 0,void 0,void 0,function(){var f,h;return ue(this,function(c){switch(c.label){case 0:return f=t,h=a,[4,e(u,a)];case 1:return f[h]=c.sent(),[2]}})})}))];case 1:return n.sent(),[2,t]}})})},Vb=function(r,e){return r.indexOf(e)>-1},Xb=function(r,e){return ae(void 0,void 0,void 0,function(){var t,n;return ue(this,function(o){switch(o.label){case 0:t=r,n=0,o.label=1;case 1:return n<e.length?[4,e[n](t)]:[3,4];case 2:t=o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},vl="0.25.2",bc="webnative.auth_ucans",_c="webnative.auth_username";function pu(){return ae(this,void 0,void 0,function(){return ue(this,function(r){return[2,yc(_c).then(function(e){return e||null})]})})}var Jb=Object.freeze({__proto__:null,api:Km,arrbufs:Hm,base64:Ad,blob:ng,UCANS_STORAGE_KEY:bc,USERNAME_STORAGE_KEY:_c,authenticatedUsername:pu,isDefined:lp,notNull:hl,isJust:dl,isValue:hp,isBool:pl,isNum:Io,isString:Mi,isObject:Qr,isBlob:dp,removeKeyFromObj:gc,updateOrRemoveKeyFromObj:Yb,mapObj:pp,mapObjAsync:qb,arrContains:Vb,asyncWaterfall:Xb,VERSION:vl,isBrowser:up,assertBrowser:an}),wc=function(r){return Array.prototype.map.call(r,function(e){return("00"+e.toString(16)).slice(-2)}).join("")},Zb=function(r){for(var e=new Uint8Array(r.length/2),t=0;t<e.length;t++)e[t]=parseInt(r.slice(t*2,t*2+2),16);return e},vp=function(r){return ae(void 0,void 0,void 0,function(){var e,t,n;return ue(this,function(o){switch(o.label){case 0:return e=yr.strToArrBuf(r,8),t=new Uint8Array(e),[4,Mr.hash.sha256(t)];case 1:return n=o.sent(),[2,wc(n)]}})})},Pa={sha256:function(r){return Mr.hash.sha256(r)},sha256Str:vp},Jo={encrypt:function(r,e){return Mr.aes.encrypt(r,e)},decrypt:function(r,e){return Mr.aes.decrypt(r,e)},genKeyStr:function(){return Mr.aes.genKeyStr()},decryptGCM:function(r,e,t){return Mr.aes.decryptGCM(r,e,t)}},yp={verify:function(r,e,t){return Mr.rsa.verify(r,e,t)}},mp={verify:function(r,e,t){return Mr.ed25519.verify(r,e,t)}},si={publicReadKey:function(){return Mr.keystore.publicReadKey()},publicWriteKey:function(){return Mr.keystore.publicWriteKey()},decrypt:function(r){return Mr.keystore.decrypt(r)},sign:function(r,e){return Mr.keystore.sign(r,e)},importSymmKey:function(r,e){return Mr.keystore.importSymmKey(r,e)},exportSymmKey:function(r){return Mr.keystore.exportSymmKey(r)},keyExists:function(r){return Mr.keystore.keyExists(r)},getAlg:function(){return Mr.keystore.getAlg()},clear:function(){return Mr.keystore.clear()}},Qb=Object.freeze({__proto__:null,sha256Str:vp,hash:Pa,aes:Jo,rsa:yp,ed25519:mp,keystore:si}),mr;(function(r){r.Public="public",r.Pretty="p",r.Private="private",r.PrivateLog="privateLog",r.Version="version"})(mr||(mr={}));var is;(function(r){r.Directory="directory",r.File="file"})(is||(is={}));function Zo(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.some(function(t){return t.includes("/")}))throw new Error("Forward slashes `/` are not allowed");return{directory:r}}function gp(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.some(function(t){return t.includes("/")}))throw new Error("Forward slashes `/` are not allowed");return{file:r}}function bp(){return{directory:[]}}function _p(r){var e=r.replace(/^\/+/,"").split("/");return r.endsWith("/")?{directory:e.slice(0,-1)}:r===""?bp():{file:e}}function zn(r,e){var t=e===void 0?{absolute:!1}:e,n=t.absolute,o=n?"/":"",a=Kn(r).join("/");return Tn(r)?o+a+(a.length?"/":""):o+a}function xc(r,e){return gl(function(t){return Kn(r).concat(t)},e)}function yl(r,e){return Kn(e)[0]===r}function Tn(r){return!!r.directory}function Ma(r){return!!r.file}function wp(r){return r.directory.length===0}function xp(r,e){return Kn(r)[0]===Kn(e)[0]}function Ep(r,e){return Tn(r)&&Tn(e)?!0:!!(Ma(r)&&Ma(e))}function ml(r){return Tn(r)?is.Directory:is.File}function gl(r,e){return Tn(e)?{directory:r(e.directory)}:Ma(e)?{file:r(e.file)}:e}function Ap(r){return Tn(r)&&wp(r)?null:Zo.apply(void 0,Kn(r).slice(0,-1))}function e_(r){return gl(function(e){return Tn(r)||e.length>1?e.slice(1):e},r)}function Kn(r){return Tn(r)?r.directory:Ma(r)?r.file:[]}function $a(r){return"[ "+r.join(", ")+" ]"}var bl=Object.freeze({__proto__:null,get Branch(){return mr},get Kind(){return is},directory:Zo,file:gp,root:bp,fromPosix:_p,toPosix:zn,combine:xc,isBranch:yl,isDirectory:Tn,isFile:Ma,isRootDirectory:wp,isSameBranch:xp,isSameKind:Ep,kind:ml,map:gl,parent:Ap,removeBranch:e_,unwrap:Kn,log:$a});function Sp(r){var e=r.path;return ae(this,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return[4,Pa.sha256Str(Ip(e))];case 1:return t=n.sent(),[2,"wnfs__bareNameFilter__"+t]}})})}function Ec(r){var e=r.path;return ae(this,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return[4,Pa.sha256Str(Ip(e))];case 1:return t=n.sent(),[2,"wnfs__readKey__"+t]}})})}function Ip(r){return"/"+Kn(r).join("/")}var t_=r=>{const{name:e,message:t,stack:n,code:o,detail:a}=r;return{name:e,message:t,stack:n,code:o,detail:a}},r_=r=>{if(r instanceof Error)return r;{const{name:e,message:t,stack:n,code:o}=r;return Object.assign(n_(e,t),{name:e,stack:n,code:o})}};const n_=(r,e)=>{switch(r){case"RangeError":return new RangeError(e);case"ReferenceError":return ReferenceError(e);case"SyntaxError":return new SyntaxError(e);case"TypeError":return new TypeError(e);case"URIError":return new URIError(e);default:return new Error(e)}};var _l={encodeError:t_,decodeError:r_},i_=r=>new Set(r),Bp={ensureUniqueBuffers:i_},o_=class extends Error{get name(){return this.constructor.name}},a_=class extends Error{get name(){return this.constructor.name}},u_=class extends Error{get name(){return this.constructor.name}},s_={TimeoutError:o_,AbortError:a_,DisconnectError:u_};const{decodeError:c_}=_l,{ensureUniqueBuffers:f_}=Bp,{DisconnectError:l_,TimeoutError:h_,AbortError:d_}=s_;var Tp=class el{constructor(e){this.port=null,this.id=Math.random().toString(32).slice(2),this.nextID=0,this.queries=Object.create(null),e&&this.connect(e)}execute(e){const t=`${this.id}@${this.nextID++}`;return this.queries[t]=e,e.timeout>0&&e.timeout<1/0&&(e.timerID=setTimeout(el.timeout,e.timeout,this,t)),e.signal&&e.signal.addEventListener("abort",()=>this.abort(t),{once:!0}),this.port&&el.postQuery(this.port,t,e),e.result}connect(e){if(this.port)throw new Error("Transport is already open");this.port=e,this.port.addEventListener("message",this),this.port.start();for(const[t,n]of Object.entries(this.queries))el.postQuery(e,t,n)}disconnect(){const e=new l_;for(const[t,n]of Object.entries(this.queries))n.fail(e),this.abort(t);this.port&&(this.port.removeEventListener("message",this),this.port.close())}static timeout(e,t){const{queries:n}=e,o=n[t];o&&(delete n[t],o.fail(new h_("request timed out")),e.port&&e.port.postMessage({type:"abort",id:t}))}abort(e){const{queries:t}=this,n=t[e];n&&(delete t[e],n.fail(new d_),this.port&&this.port.postMessage({type:"abort",id:e}),n.timerID!=null&&clearTimeout(n.timerID))}static postQuery(e,t,n){e.postMessage({type:"query",namespace:n.namespace,method:n.method,id:t,input:n.toJSON()},f_(n.transfer()||[]))}handleEvent(e){const{id:t,result:n}=e.data,o=this.queries[t];o&&(delete this.queries[t],n.ok?o.succeed(n.value):o.fail(c_(n.error)),o.timerID!=null&&clearTimeout(o.timerID))}},p_=class{constructor(e,t,n){this.result=new Promise((o,a)=>{this.succeed=o,this.fail=a,this.signal=n.signal,this.input=n,this.namespace=e,this.method=t,this.timeout=n.timeout==null?1/0:n.timeout,this.timerID=null})}toJSON(){return this.input}transfer(){return this.input.transfer}},v_=class{constructor(e,t,n){this.transport=n;const o=this;for(const a of t)o[a]=u=>this.transport.execute(new p_(e,a.toString(),u))}},os=class{constructor(e,t,n){this.remote=new v_(e,t,n)}};function y_(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),a=o.charCodeAt(0);if(e[a]!==255)throw new TypeError(o+" is ambiguous");e[a]=n}var u=r.length,f=r.charAt(0),h=Math.log(u)/Math.log(256),c=Math.log(256)/Math.log(u);function y(F){if(F instanceof Uint8Array||(ArrayBuffer.isView(F)?F=new Uint8Array(F.buffer,F.byteOffset,F.byteLength):Array.isArray(F)&&(F=Uint8Array.from(F))),!(F instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(F.length===0)return"";for(var D=0,k=0,K=0,he=F.length;K!==he&&F[K]===0;)K++,D++;for(var ge=(he-K)*c+1>>>0,ke=new Uint8Array(ge);K!==he;){for(var fe=F[K],V=0,ce=ge-1;(fe!==0||V<k)&&ce!==-1;ce--,V++)fe+=256*ke[ce]>>>0,ke[ce]=fe%u>>>0,fe=fe/u>>>0;if(fe!==0)throw new Error("Non-zero carry");k=V,K++}for(var Se=ge-k;Se!==ge&&ke[Se]===0;)Se++;for(var le=f.repeat(D);Se<ge;++Se)le+=r.charAt(ke[Se]);return le}function _(F){if(typeof F!="string")throw new TypeError("Expected String");if(F.length===0)return new Uint8Array;var D=0;if(F[D]!==" "){for(var k=0,K=0;F[D]===f;)k++,D++;for(var he=(F.length-D)*h+1>>>0,ge=new Uint8Array(he);F[D];){var ke=e[F.charCodeAt(D)];if(ke===255)return;for(var fe=0,V=he-1;(ke!==0||fe<K)&&V!==-1;V--,fe++)ke+=u*ge[V]>>>0,ge[V]=ke%256>>>0,ke=ke/256>>>0;if(ke!==0)throw new Error("Non-zero carry");K=fe,D++}if(F[D]!==" "){for(var ce=he-K;ce!==he&&ge[ce]===0;)ce++;for(var Se=new Uint8Array(k+(he-ce)),le=k;ce!==he;)Se[le++]=ge[ce++];return Se}}}function A(F){var D=_(F);if(D)return D;throw new Error("Non-base"+u+" character")}return{encode:y,decodeUnsafe:_,decode:A}}var as=y_,wl;typeof Object.create=="function"?wl=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:wl=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var kp=wl,m_=/%[sdj%]/g;function Ac(r){if(!ss(r)){for(var e=[],t=0;t<arguments.length;t++)e.push(eo(arguments[t]));return e.join(" ")}for(var t=1,n=arguments,o=n.length,a=String(r).replace(m_,function(f){if(f==="%%")return"%";if(t>=o)return f;switch(f){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(h){return"[Circular]"}default:return f}}),u=n[t];t<o;u=n[++t])us(u)||!za(u)?a+=" "+u:a+=" "+eo(u);return a}function xl(r,e){if(to(hc.process))return function(){return xl(r,e).apply(this,arguments)};var t=!1;function n(){return t||(console.error(e),t=!0),r.apply(this,arguments)}return n}var Sc={},El;function Fp(r){if(to(El)&&(El=""),r=r.toUpperCase(),!Sc[r])if(new RegExp("\\b"+r+"\\b","i").test(El)){var e=0;Sc[r]=function(){var t=Ac.apply(null,arguments);console.error("%s %d: %s",r,e,t)}}else Sc[r]=function(){};return Sc[r]}function eo(r,e){var t={seen:[],stylize:b_};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),Bc(e)?t.showHidden=e:e&&Fl(t,e),to(t.showHidden)&&(t.showHidden=!1),to(t.depth)&&(t.depth=2),to(t.colors)&&(t.colors=!1),to(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=g_),Ic(t,r,t.depth)}eo.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},eo.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function g_(r,e){var t=eo.styles[e];return t?"["+eo.colors[t][0]+"m"+r+"["+eo.colors[t][1]+"m":r}function b_(r,e){return r}function __(r){var e={};return r.forEach(function(t,n){e[t]=!0}),e}function Ic(r,e,t){if(r.customInspect&&e&&ls(e.inspect)&&e.inspect!==eo&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(t,r);return ss(n)||(n=Ic(r,n,t)),n}var o=w_(r,e);if(o)return o;var a=Object.keys(e),u=__(a);if(r.showHidden&&(a=Object.getOwnPropertyNames(e)),fs(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return Al(e);if(a.length===0){if(ls(e)){var f=e.name?": "+e.name:"";return r.stylize("[Function"+f+"]","special")}if(cs(e))return r.stylize(RegExp.prototype.toString.call(e),"regexp");if(Tc(e))return r.stylize(Date.prototype.toString.call(e),"date");if(fs(e))return Al(e)}var h="",c=!1,y=["{","}"];if(Il(e)&&(c=!0,y=["[","]"]),ls(e)){var _=e.name?": "+e.name:"";h=" [Function"+_+"]"}if(cs(e)&&(h=" "+RegExp.prototype.toString.call(e)),Tc(e)&&(h=" "+Date.prototype.toUTCString.call(e)),fs(e)&&(h=" "+Al(e)),a.length===0&&(!c||e.length==0))return y[0]+h+y[1];if(t<0)return cs(e)?r.stylize(RegExp.prototype.toString.call(e),"regexp"):r.stylize("[Object]","special");r.seen.push(e);var A;return c?A=x_(r,e,t,u,a):A=a.map(function(F){return Sl(r,e,t,u,F,c)}),r.seen.pop(),E_(A,h,y)}function w_(r,e){if(to(e))return r.stylize("undefined","undefined");if(ss(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return r.stylize(t,"string")}if(Bl(e))return r.stylize(""+e,"number");if(Bc(e))return r.stylize(""+e,"boolean");if(us(e))return r.stylize("null","null")}function Al(r){return"["+Error.prototype.toString.call(r)+"]"}function x_(r,e,t,n,o){for(var a=[],u=0,f=e.length;u<f;++u)Op(e,String(u))?a.push(Sl(r,e,t,n,String(u),!0)):a.push("");return o.forEach(function(h){h.match(/^\d+$/)||a.push(Sl(r,e,t,n,h,!0))}),a}function Sl(r,e,t,n,o,a){var u,f,h;if(h=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},h.get?h.set?f=r.stylize("[Getter/Setter]","special"):f=r.stylize("[Getter]","special"):h.set&&(f=r.stylize("[Setter]","special")),Op(n,o)||(u="["+o+"]"),f||(r.seen.indexOf(h.value)<0?(us(t)?f=Ic(r,h.value,null):f=Ic(r,h.value,t-1),f.indexOf(`
`)>-1&&(a?f=f.split(`
`).map(function(c){return"  "+c}).join(`
`).substr(2):f=`
`+f.split(`
`).map(function(c){return"   "+c}).join(`
`))):f=r.stylize("[Circular]","special")),to(u)){if(a&&o.match(/^\d+$/))return f;u=JSON.stringify(""+o),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=r.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=r.stylize(u,"string"))}return u+": "+f}function E_(r,e,t){var n=r.reduce(function(o,a){return a.indexOf(`
`)>=0,o+a.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?t[0]+(e===""?"":e+`
 `)+" "+r.join(`,
  `)+" "+t[1]:t[0]+e+" "+r.join(", ")+" "+t[1]}function Il(r){return Array.isArray(r)}function Bc(r){return typeof r=="boolean"}function us(r){return r===null}function Cp(r){return r==null}function Bl(r){return typeof r=="number"}function ss(r){return typeof r=="string"}function Rp(r){return typeof r=="symbol"}function to(r){return r===void 0}function cs(r){return za(r)&&Tl(r)==="[object RegExp]"}function za(r){return typeof r=="object"&&r!==null}function Tc(r){return za(r)&&Tl(r)==="[object Date]"}function fs(r){return za(r)&&(Tl(r)==="[object Error]"||r instanceof Error)}function ls(r){return typeof r=="function"}function Np(r){return r===null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="symbol"||typeof r=="undefined"}function Up(r){return Fr.Buffer.isBuffer(r)}function Tl(r){return Object.prototype.toString.call(r)}function kl(r){return r<10?"0"+r.toString(10):r.toString(10)}var A_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S_(){var r=new Date,e=[kl(r.getHours()),kl(r.getMinutes()),kl(r.getSeconds())].join(":");return[r.getDate(),A_[r.getMonth()],e].join(" ")}function Dp(){console.log("%s - %s",S_(),Ac.apply(null,arguments))}function Fl(r,e){if(!e||!za(e))return r;for(var t=Object.keys(e),n=t.length;n--;)r[t[n]]=e[t[n]];return r}function Op(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var I_={inherits:kp,_extend:Fl,log:Dp,isBuffer:Up,isPrimitive:Np,isFunction:ls,isError:fs,isDate:Tc,isObject:za,isRegExp:cs,isUndefined:to,isSymbol:Rp,isString:ss,isNumber:Bl,isNullOrUndefined:Cp,isNull:us,isBoolean:Bc,isArray:Il,inspect:eo,deprecate:xl,format:Ac,debuglog:Fp},B_=Object.freeze({__proto__:null,format:Ac,deprecate:xl,debuglog:Fp,inspect:eo,isArray:Il,isBoolean:Bc,isNull:us,isNullOrUndefined:Cp,isNumber:Bl,isString:ss,isSymbol:Rp,isUndefined:to,isRegExp:cs,isObject:za,isDate:Tc,isError:fs,isFunction:ls,isPrimitive:Np,isBuffer:Up,log:Dp,inherits:kp,_extend:Fl,default:I_}),Lp=tl(B_),T_=typeof TextEncoder!="undefined"?TextEncoder:Lp.TextEncoder,k_=typeof TextDecoder!="undefined"?TextDecoder:Lp.TextDecoder,vu={TextEncoder:T_,TextDecoder:k_};const{TextEncoder:F_,TextDecoder:C_}=vu,R_=new C_,N_=r=>R_.decode(r),U_=new F_,D_=r=>U_.encode(r);function O_(r,e){const t=new Uint8Array(e);let n=0;for(const o of r)t.set(o,n),n+=o.length;return t}var Cl={decodeText:N_,encodeText:D_,concat:O_};const{encodeText:L_}=Cl;class P_{constructor(e,t,n,o){this.name=e,this.code=t,this.codeBuf=L_(this.code),this.alphabet=o,this.codec=n(o)}encode(e){return this.codec.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}}var M_=P_;const $_=(r,e,t)=>{const n={};for(let c=0;c<e.length;++c)n[e[c]]=c;let o=r.length;for(;r[o-1]==="=";)--o;const a=new Uint8Array(o*t/8|0);let u=0,f=0,h=0;for(let c=0;c<o;++c){const y=n[r[c]];if(y===void 0)throw new SyntaxError("Invalid character "+r[c]);f=f<<t|y,u+=t,u>=8&&(u-=8,a[h++]=255&f>>u)}if(u>=t||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return a},z_=(r,e,t)=>{const n=e[e.length-1]==="=",o=(1<<t)-1;let a="",u=0,f=0;for(let h=0;h<r.length;++h)for(f=f<<8|r[h],u+=8;u>t;)u-=t,a+=e[o&f>>u];if(u&&(a+=e[o&f<<t-u]),n)for(;a.length*t&7;)a+="=";return a};var K_={rfc4648:r=>e=>({encode(t){return z_(t,e,r)},decode(t){return $_(t,e,r)}})};const{rfc4648:gn}=K_,{decodeText:H_,encodeText:G_}=Cl,Pp=[["identity","\0",()=>({encode:H_,decode:G_}),""],["base2","0",gn(1),"01"],["base8","7",gn(3),"01234567"],["base10","9",as,"0123456789"],["base16","f",gn(4),"0123456789abcdef"],["base16upper","F",gn(4),"0123456789ABCDEF"],["base32hex","v",gn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",gn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",gn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",gn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",gn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",gn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",gn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",gn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",gn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",as,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",as,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",as,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",as,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",gn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",gn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",gn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",gn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Mp=Pp.reduce((r,e)=>(r[e[0]]=new M_(e[0],e[1],e[2],e[3]),r),{}),W_=Pp.reduce((r,e)=>(r[e[1]]=Mp[e[0]],r),{});var Qo={names:Mp,codes:W_},ea=Zt(function(r,e){const{encodeText:t,decodeText:n,concat:o}=Cl;function a(A,F){if(!F)throw new Error("requires an encoded Uint8Array");const{name:D,codeBuf:k}=y(A);return c(D,F),o([k,F],k.length+F.length)}function u(A,F){const D=y(A),k=t(D.encode(F));return o([D.codeBuf,k],D.codeBuf.length+k.length)}function f(A){A instanceof Uint8Array&&(A=n(A));const F=A[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(F)&&(A=A.toLowerCase()),y(A[0]).decode(A.substring(1))}function h(A){if(A instanceof Uint8Array&&(A=n(A)),Object.prototype.toString.call(A)!=="[object String]")return!1;try{return y(A[0]).name}catch(F){return!1}}function c(A,F){y(A).decode(n(F))}function y(A){if(Qo.names[A])return Qo.names[A];if(Qo.codes[A])return Qo.codes[A];throw new Error(`Unsupported encoding: ${A}`)}function _(A){return A instanceof Uint8Array&&(A=n(A)),y(A[0])}e=r.exports=a,e.encode=u,e.decode=f,e.isEncoded=h,e.encoding=y,e.encodingFromData=_,e.names=Object.freeze(Qo.names),e.codes=Object.freeze(Qo.codes)}),j_=Rl,$p=128,Y_=127,q_=~Y_,V_=Math.pow(2,31);function Rl(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw Rl.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var n=t;r>=V_;)e[t++]=r&255|$p,r/=128;for(;r&q_;)e[t++]=r&255|$p,r>>>=7;return e[t]=r|0,Rl.bytes=t-n+1,e}var X_=Nl,J_=128,zp=127;function Nl(r,e){var t=0,e=e||0,n=0,o=e,a,u=r.length;do{if(o>=u||n>49)throw Nl.bytes=0,new RangeError("Could not decode varint");a=r[o++],t+=n<28?(a&zp)<<n:(a&zp)*Math.pow(2,n),n+=7}while(a>=J_);return Nl.bytes=o-e,t}var Z_=Math.pow(2,7),Q_=Math.pow(2,14),ew=Math.pow(2,21),tw=Math.pow(2,28),rw=Math.pow(2,35),nw=Math.pow(2,42),iw=Math.pow(2,49),ow=Math.pow(2,56),aw=Math.pow(2,63),uw=function(r){return r<Z_?1:r<Q_?2:r<ew?3:r<tw?4:r<rw?5:r<nw?6:r<iw?7:r<ow?8:r<aw?9:10},yu={encode:j_,decode:X_,encodingLength:uw},sw={names:Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082})};const{encoding:cw}=ea,{TextDecoder:fw}=vu,lw=new fw("utf8");function hw(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function dw(r,e="utf8"){return e==="utf8"||e==="utf-8"?lw.decode(r):e==="ascii"?hw(r):cw(e).encode(r)}var kc=dw;const{encoding:pw}=ea,{TextEncoder:vw}=vu,yw=new vw;function mw(r){const e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function gw(r,e="utf8"){return e==="utf8"||e==="utf-8"?yw.encode(r):e==="ascii"?mw(r):pw(e).decode(r)}var bw=gw;function _w(r,e){e||(e=r.reduce((o,a)=>o+a.length,0));const t=new Uint8Array(e);let n=0;for(const o of r)t.set(o,n),n+=o.length;return t}var ww=_w;const{names:hs}=sw,ds={};for(const r in hs){const e=r;ds[hs[e]]=e}function xw(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return kc(r,"base16")}function Ew(r){return bw(r,"base16")}function Aw(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return kc(ea.encode("base58btc",r)).slice(1)}function Sw(r){const e=r instanceof Uint8Array?kc(r):r;return ea.decode("z"+e)}function Kp(r){if(!(r instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(r.length<2)throw new Error("multihash too short. must be > 2 bytes.");const e=yu.decode(r);if(!Gp(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);r=r.slice(yu.decode.bytes);const t=yu.decode(r);if(t<0)throw new Error(`multihash invalid length: ${t}`);if(r=r.slice(yu.decode.bytes),r.length!==t)throw new Error(`multihash length inconsistent: 0x${kc(r,"base16")}`);return{code:e,name:ds[e],length:t,digest:r}}function Iw(r,e,t){if(!r||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");const n=Hp(e);if(!(r instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(t==null&&(t=r.length),t&&r.length!==t)throw new Error("digest length should be equal to specified length.");const o=yu.encode(n),a=yu.encode(t);return ww([o,a,r],o.length+a.length+r.length)}function Hp(r){let e=r;if(typeof r=="string"){if(hs[r]===void 0)throw new Error(`Unrecognized hash function named: ${r}`);e=hs[r]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(ds[e]===void 0&&!Ul(e))throw new Error(`Unrecognized function code: ${e}`);return e}function Ul(r){return r>0&&r<16}function Gp(r){return!!(Ul(r)||ds[r])}function Wp(r){Kp(r)}function Bw(r){return Wp(r),r.subarray(0,2)}var ro={names:hs,codes:Object.freeze(ds),toHexString:xw,fromHexString:Ew,toB58String:Aw,fromB58String:Sw,decode:Kp,encode:Iw,coerceCode:Hp,isAppCode:Ul,validate:Wp,prefix:Bw,isValidCode:Gp},Tw=Dl,jp=128,kw=127,Fw=~kw,Cw=Math.pow(2,31);function Dl(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw Dl.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var n=t;r>=Cw;)e[t++]=r&255|jp,r/=128;for(;r&Fw;)e[t++]=r&255|jp,r>>>=7;return e[t]=r|0,Dl.bytes=t-n+1,e}var Rw=Ol,Nw=128,Yp=127;function Ol(r,e){var t=0,e=e||0,n=0,o=e,a,u=r.length;do{if(o>=u||n>49)throw Ol.bytes=0,new RangeError("Could not decode varint");a=r[o++],t+=n<28?(a&Yp)<<n:(a&Yp)*Math.pow(2,n),n+=7}while(a>=Nw);return Ol.bytes=o-e,t}var Uw=Math.pow(2,7),Dw=Math.pow(2,14),Ow=Math.pow(2,21),Lw=Math.pow(2,28),Pw=Math.pow(2,35),Mw=Math.pow(2,42),$w=Math.pow(2,49),zw=Math.pow(2,56),Kw=Math.pow(2,63),Hw=function(r){return r<Uw?1:r<Dw?2:r<Ow?3:r<Lw?4:r<Pw?5:r<Mw?6:r<$w?7:r<zw?8:r<Kw?9:10},ta={encode:Tw,decode:Rw,encodingLength:Hw},ps={baseTable:Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056})};const{baseTable:qp}=ps,Vp=new Map;for(const r in qp){const e=qp[r];Vp.set(e,r)}var Xp=Object.freeze(Vp);const{names:Gw}=Qo,{TextDecoder:Ww}=vu,jw=new Ww("utf8");function Yw(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function qw(r,e="utf8"){if(e==="utf8"||e==="utf-8")return jw.decode(r);if(e==="ascii")return Yw(r);const t=Gw[e];if(!t)throw new Error("Unknown base");return t.encode(r)}var Ll=qw;const{names:Vw}=Qo,{TextEncoder:Xw}=vu,Jw=new Xw;function Zw(r){const e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function Qw(r,e="utf8"){if(e==="utf8"||e==="utf-8")return Jw.encode(r);if(e==="ascii")return Zw(r);const t=Vw[e];if(!t)throw new Error("Unknown base");return t.decode(r)}var Ka=Qw,Jp={numberToUint8Array:ex,uint8ArrayToNumber:Zp,varintUint8ArrayEncode:tx,varintEncode:rx};function Zp(r){return parseInt(Ll(r,"base16"),16)}function ex(r){let e=r.toString(16);return e.length%2==1&&(e="0"+e),Ka(e,"base16")}function tx(r){return Uint8Array.from(ta.encode(Zp(r)))}function rx(r){return Uint8Array.from(ta.encode(r))}const{baseTable:Qp}=ps,nx=Jp.varintEncode,e1={};for(const r in Qp){const e=Qp[r];e1[r]=nx(e)}var Fc=Object.freeze(e1);function ix(r,e){e||(e=r.reduce((o,a)=>o+a.length,0));const t=new Uint8Array(e);let n=0;for(const o of r)t.set(o,n),n+=o.length;return t}var ox=ix;const{baseTable:ax}=ps,t1={};for(const[r,e]of Object.entries(ax)){const t=r.toUpperCase().replace(/-/g,"_");t1[t]=e}var ux=Object.freeze(t1);const{baseTable:sx}=ps,Pl={};for(const[r,e]of Object.entries(sx))Pl[e]===void 0&&(Pl[e]=r);var cx=Object.freeze(Pl);function fx(r,e){let t;if(r instanceof Uint8Array)t=Jp.varintUint8ArrayEncode(r);else if(Fc[r])t=Fc[r];else throw new Error("multicodec not recognized");return ox([t,e],t.length+e.length)}function lx(r){return ta.decode(r),r.slice(ta.decode.bytes)}function hx(r){const e=ta.decode(r),t=Xp.get(e);if(t===void 0)throw new Error(`Code ${e} not found`);return t}function dx(r){return Xp.get(r)}function px(r){const e=Fc[r];if(e===void 0)throw new Error("Codec `"+r+"` not found");return ta.decode(e)}function vx(r){return ta.decode(r)}function yx(r){const e=Fc[r];if(e===void 0)throw new Error("Codec `"+r+"` not found");return e}function mx(r){return ta.encode(r)}var Bo={addPrefix:fx,rmPrefix:lx,getCodec:hx,getName:dx,getNumber:px,getCode:vx,getCodeVarint:yx,getVarint:mx,print:cx,...ux},gx={checkCIDComponents:function(r){if(r==null)return"null values are not valid CIDs";if(!(r.version===0||r.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof r.codec!="string")return"codec must be string";if(r.version===0){if(r.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(r.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(r.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{ro.validate(r.multihash)}catch(e){let t=e.message;return t||(t="Multihash validation failed"),t}}};function bx(r,e){e||(e=r.reduce((o,a)=>o+a.length,0));const t=new Uint8Array(e);let n=0;for(const o of r)t.set(o,n),n+=o.length;return t}var r1=bx;const{encoding:_x}=ea,{TextDecoder:wx}=vu,xx=new wx("utf8");function Ex(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function Ax(r,e="utf8"){return e==="utf8"||e==="utf-8"?xx.decode(r):e==="ascii"?Ex(r):_x(e).encode(r)}var Sx=Ax;function Ix(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}var Bx=Ix;const{baseTable:Cc}=ps,Tx=Object.keys(Cc).reduce((r,e)=>(r[Cc[e]]=e,r),{}),n1=Symbol.for("@ipld/js-cid/CID");class no{constructor(e,t,n,o){if(this.version,this.codec,this.multihash,Object.defineProperty(this,n1,{value:!0}),no.isCID(e)){const a=e;this.version=a.version,this.codec=a.codec,this.multihash=a.multihash,this.multibaseName=a.multibaseName||(a.version===0?"base58btc":"base32");return}if(typeof e=="string"){const a=ea.isEncoded(e);if(a){const u=ea.decode(e);this.version=parseInt(u[0].toString(),16),this.codec=Bo.getCodec(u.slice(1)),this.multihash=Bo.rmPrefix(u.slice(1)),this.multibaseName=a}else this.version=0,this.codec="dag-pb",this.multihash=ro.fromB58String(e),this.multibaseName="base58btc";no.validateCID(this),Object.defineProperty(this,"string",{value:e});return}if(e instanceof Uint8Array){const a=parseInt(e[0].toString(),16);if(a===1){const u=e;this.version=a,this.codec=Bo.getCodec(u.slice(1)),this.multihash=Bo.rmPrefix(u.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";no.validateCID(this);return}this.version=e,typeof t=="number"&&(t=Tx[t]),this.codec=t,this.multihash=n,this.multibaseName=o||(e===0?"base58btc":"base32"),no.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(this.version===0)e=this.multihash;else if(this.version===1){const t=Bo.getCodeVarint(this.codec);e=r1([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){const e=Bo.getCodeVarint(this.codec),t=ro.prefix(this.multihash);return r1([[this.version],e,t],1+e.byteLength+t.byteLength)}get code(){return Cc[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:e,length:t}=ro.decode(this.multihash);if(e!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(t!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new no(0,this.codec,this.multihash)}toV1(){return new no(1,this.codec,this.multihash)}toBaseEncodedString(e=this.multibaseName){if(this.string&&this.string.length!==0&&e===this.multibaseName)return this.string;let t;if(this.version===0){if(e!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=ro.toB58String(this.multihash)}else if(this.version===1)t=Sx(ea.encode(e,this.bytes));else throw new Error("unsupported version");return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&Bx(this.multihash,e.multihash)}static validateCID(e){const t=gx.checkCIDComponents(e);if(t)throw new Error(t)}static isCID(e){return e instanceof no||Boolean(e&&e[n1])}}no.codecs=Cc;var ra=no,kx=(r,e)=>(e&&e.push(r.multihash.buffer),r),Fx=r=>{const e=r;return Object.setPrototypeOf(e.multihash,Uint8Array.prototype),Object.setPrototypeOf(e,ra.prototype),Object.defineProperty(e,Symbol.for("@ipld/js-cid/CID"),{value:!0}),e},Cx=ra,Ha={encodeCID:kx,decodeCID:Fx,CID:Cx},Rx="ipld-block",Nx="0.11.0",Ux="JavaScript Implementation of IPLD Block",Dx="Volker Mische <volker.mische@gmail.com>",Ox="src/index.js",Lx={lint:"aegir lint",check:"tsc --noEmit --noErrorTruncation",build:"npm run build:js && npm run build:types","build:js":"aegir build","build:types":"tsc --emitDeclarationOnly --declarationDir dist",test:"aegir test","test:node":"aegir test --target node","test:browser":"aegir test --target browser",release:"aegir release --docs","release-minor":"aegir release --type minor --docs","release-major":"aegir release --type major --docs",coverage:"aegir coverage","coverage-publish":"aegir coverage --provider coveralls",docs:"aegir docs",prepare:"npm run build:types"},Px={type:"git",url:"git+https://github.com/ipld/js-ipld-block.git"},Mx=["IPLD"],$x="MIT",zx={url:"https://github.com/ipld/js-ipld-block/issues"},Kx="https://github.com/ipld/js-ipld-block#readme",Hx={aegir:"^27.0.0",uint8arrays:"^1.0.0",typescript:"^4.0.3"},Gx={cids:"^1.0.0"},Wx={node:">=6.0.0",npm:">=3.0.0"},jx={"*":{"*":["dist/*"]}},Yx=["David Dias <daviddias.p@gmail.com>","Volker Mische <volker.mische@gmail.com>","Friedel Ziegelmayer <dignifiedquire@gmail.com>","Irakli Gozalishvili <contact@gozala.io>","achingbrain <alex@achingbrain.net>","\u1D20\u026A\u1D04\u1D1B\u1D0F\u0280 \u0299\u1D0A\u1D07\u029F\u1D0B\u029C\u1D0F\u029F\u1D0D <victorbjelkholm@gmail.com>","Alan Shaw <alan.shaw@protocol.ai>","Charlie <the_charlie_daly@hotmail.co.uk>","Diogo Silva <fsdiogo@gmail.com>","Hugo Dias <hugomrdias@gmail.com>","Mikeal Rogers <mikeal.rogers@gmail.com>","Richard Littauer <richard.littauer@gmail.com>","Richard Schneider <makaretu@gmail.com>","Xmader <xmader@outlook.com>"],qx={name:Rx,version:Nx,description:Ux,leadMaintainer:Dx,main:Ox,scripts:Lx,"pre-push":["lint","test"],repository:Px,keywords:Mx,license:$x,bugs:zx,homepage:Kx,devDependencies:Hx,dependencies:Gx,engines:Wx,typesVersions:jx,contributors:Yx};const{version:Vx}=qx,i1=Symbol.for("@ipld/js-ipld-block/block"),o1={writable:!1,configurable:!1,enumerable:!0};class Xx{constructor(e,t){if(!e||!(e instanceof Uint8Array))throw new Error("first argument  must be a Uint8Array");if(!t||!ra.isCID(t))throw new Error("second argument must be a CID");this.data=e,this.cid=t,Object.defineProperties(this,{data:o1,cid:o1})}get _data(){return Zx(),this.data}get _cid(){return Jx(),this.cid}get[Symbol.toStringTag](){return"Block"}get[i1](){return!0}static isBlock(e){return Boolean(e&&e[i1])}}const a1=(r,e)=>{let t=!1;return()=>{if(r.test(Vx))t||(t=!0,console.warn(e));else throw new Error(e)}},Jx=a1(/^0\.10|^0\.11/,"block._cid is deprecated and will be removed in 0.12 release. Please use block.cid instead"),Zx=a1(/^0\.10|^0.11/,"block._data is deprecated and will be removed in 0.12 release. Please use block.data instead");var u1=Xx;const{encodeCID:Qx,decodeCID:e3}=Ha;var t3=({cid:r,data:e},t)=>(t&&t.push(e.buffer),{cid:Qx(r,t),data:e}),r3=({cid:r,data:e})=>new u1(e,e3(r)),n3=u1,i3={encodeBlock:t3,decodeBlock:r3,Block:n3};const{encodeCID:vs,decodeCID:s1}=Ha,{decodeError:o3}=_l,{encodeBlock:a3,decodeBlock:c1}=i3;class u3 extends os{constructor(e){super("block",["put","get","rm","stat"],e)}async get(e,t={}){const{transfer:n}=t,{block:o}=await this.remote.get({...t,cid:vs(e,n)});return c1(o)}async put(e,t={}){const{transfer:n}=t;delete t.progress;const o=await this.remote.put({...t,cid:t.cid==null?void 0:vs(t.cid,n),block:e instanceof Uint8Array?e:a3(e,n)});return c1(o.block)}async*rm(e,t={}){const{transfer:n}=t;yield*(await this.remote.rm({...t,cids:Array.isArray(e)?e.map(a=>vs(a,n)):[vs(e,n)]})).map(s3)}async stat(e,t={}){const{transfer:n}=t,o=await this.remote.stat({...t,cid:vs(e,n)});return{...o,cid:s1(o.cid)}}}const s3=r=>{const e=s1(r.cid);return r.error?{cid:e,error:o3(r.error)}:{cid:e}};var c3=u3;const{encodeCID:f3,decodeCID:l3,CID:h3}=Ha;var d3=({dagNode:r,cids:e})=>{for(const t of e)l3(t);return r},p3=(r,e)=>{const t=[];return Ml(r,t,e),{dagNode:r,cids:t}};const Ml=(r,e,t)=>{if(r!=null&&typeof r=="object")if(h3.isCID(r))e.push(r),f3(r,t);else if(r instanceof ArrayBuffer)t&&t.push(r);else if(ArrayBuffer.isView(r))t&&t.push(r.buffer);else if(Array.isArray(r))for(const n of r)Ml(n,e,t);else for(const n of Object.values(r))Ml(n,e,t)};var v3={decodeNode:d3,encodeNode:p3};const{encodeCID:Rc,decodeCID:f1}=Ha,{encodeNode:y3,decodeNode:m3}=v3;class g3 extends os{constructor(e){super("dag",["put","get","resolve","tree"],e)}async put(e,t={}){const{cid:n}=t,o=await this.remote.put({...t,cid:n!=null?Rc(n):void 0,dagNode:y3(e,t.transfer)});return f1(o)}async get(e,t={}){const{value:n,remainderPath:o}=await this.remote.get({...t,cid:Rc(e,t.transfer)});return{value:m3(n),remainderPath:o}}async resolve(e,t={}){const{cid:n,remainderPath:o}=await this.remote.resolve({...t,cid:b3(e,t.transfer)});return{cid:f1(n),remainderPath:o}}async*tree(e,t={}){yield*await this.remote.tree({...t,cid:Rc(e,t.transfer)})}}const b3=(r,e)=>typeof r=="string"?r:Rc(r,e);var _3=g3;const{encodeError:w3,decodeError:x3}=_l,{ensureUniqueBuffers:E3}=Bp;var A3=async function*({port:r},e){let t=u=>{};const n=()=>new Promise(u=>t=u),o=()=>(r.postMessage({method:"next"}),n());r.onmessage=u=>t(u.data);let a=!1;try{for(;!a;){const{done:u,value:f,error:h}=await o();if(a=u,h!=null)throw x3(h);f!=null&&(yield e(f))}}finally{a||r.postMessage({method:"return"}),r.close()}},S3=(r,e,t)=>{const{port1:n,port2:o}=new MessageChannel,a=I3(r);return n.onmessage=async({data:{method:u}})=>{switch(u){case"next":{try{const{done:f,value:h}=await a.next();if(f)n.postMessage({type:"next",done:!0}),n.close();else{const c=[],y=e(h,c);n.postMessage({type:"next",done:!1,value:y},E3(c))}}catch(f){n.postMessage({type:"throw",error:w3(f)}),n.close()}break}case"return":{n.close(),a.return&&a.return();break}}},n.start(),t.push(o),{type:"RemoteIterable",port:o}};const I3=r=>{if(r!=null){if(typeof r[Symbol.asyncIterator]=="function")return r[Symbol.asyncIterator]();if(typeof r[Symbol.iterator]=="function")return r[Symbol.iterator]()}throw TypeError("Value must be async or sync iterable")};var B3=(r,e)=>{const{port1:t,port2:n}=new MessageChannel;return t.onmessage=({data:o})=>r.apply(null,o),e.push(n),{type:"RemoteCallback",port:n}},T3=({port:r})=>(t,n=[])=>{r.postMessage(t,new Set(n))},k3={decodeIterable:A3,encodeIterable:S3,encodeCallback:B3,decodeCallback:T3};async function*F3(r,e={}){const t=r.getReader();try{for(;;){const n=await t.read();if(n.done)return;yield n.value}}finally{e.preventCancel!==!0&&t.cancel(),t.releaseLock()}}var $l=F3;const{encodeCID:l1,decodeCID:h1,CID:d1}=Ha,{decodeIterable:zl,encodeIterable:To,encodeCallback:p1}=k3;class C3 extends os{constructor(e){super("core",["add","addAll","cat","ls"],e)}async*addAll(e,t={}){const{timeout:n,signal:o}=t,a=[...t.transfer||[]],u=t.progress?p1(t.progress,a):void 0,f=await this.remote.addAll({...t,input:D3(e,a),progress:u,transfer:a,timeout:n,signal:o});yield*zl(f.data,v1)}async add(e,t={}){const{timeout:n,signal:o}=t,a=[...t.transfer||[]],u=t.progress?p1(t.progress,a):void 0,f=await this.remote.add({...t,input:U3(e,a),progress:u,transfer:a,timeout:n,signal:o});return v1(f.data)}async*cat(e,t={}){const n=d1.isCID(e)?l1(e):e,o=await this.remote.cat({...t,path:n});yield*zl(o.data,N3)}async*ls(e,t={}){const n=d1.isCID(e)?l1(e):e,o=await this.remote.ls({...t,path:n});yield*zl(o.data,R3)}}const v1=({path:r,cid:e,mode:t,mtime:n,size:o})=>({path:r,cid:h1(e),mode:t,mtime:n,size:o}),R3=({depth:r,name:e,path:t,size:n,cid:o,type:a,mode:u,mtime:f})=>({cid:h1(o),type:a,name:e,path:t,mode:u,mtime:f,size:n,depth:r}),N3=r=>r,U3=(r,e)=>{if(r instanceof Blob)return r;if(typeof r=="string")return r;if(r instanceof ArrayBuffer)return r;if(ArrayBuffer.isView(r))return r;{const t=Gl(r);if(t)return To(t,Kl,e);const n=Wl(r);if(n)return To(n,mu,e);const o=jl(r);if(o)return To($l(o),mu,e);const a=Yl(r);if(a)return Hl(a,e);throw TypeError("Unexpected input: "+typeof r)}},D3=(r,e)=>{const t=Gl(r);if(t)return To(t,Kl,e);const n=Wl(r);if(n)return To(n,mu,e);const o=jl(r);if(o)return To($l(o),mu,e);throw TypeError("Unexpected input: "+typeof r)},mu=(r,e)=>{if(r instanceof ArrayBuffer)return r;if(ArrayBuffer.isView(r))return r;if(r instanceof Blob)return{path:"",content:r};if(typeof r=="string")return{path:"",content:r};{const t=Yl(r);if(t)return Hl(t,e);throw TypeError("Unexpected input: "+typeof r)}},Kl=(r,e)=>{if(typeof r=="number")throw TypeError("Iterable of numbers is not supported");if(r instanceof ArrayBuffer)return r;if(ArrayBuffer.isView(r))return r;if(r instanceof Blob)return{path:"",content:r};if(typeof r=="string")return{path:"",content:r};{const t=Yl(r);if(t)return Hl(t,e);throw TypeError("Unexpected input: "+typeof r)}},Hl=({path:r,mode:e,mtime:t,content:n},o)=>({path:r,mode:e,mtime:t,content:n?O3(n,o):void 0}),O3=(r,e)=>{if(r==null)return"";if(r instanceof ArrayBuffer||ArrayBuffer.isView(r))return r;if(r instanceof Blob)return r;if(typeof r=="string")return r;{const t=Gl(r);if(t)return To(t,Kl,e);const n=Wl(r);if(n)return To(n,mu,e);const o=jl(r);if(o)return To($l(o),mu,e);throw TypeError("Unexpected input: "+typeof r)}},Gl=r=>{const e=r;return e&&typeof e[Symbol.iterator]=="function"?e:null},Wl=r=>{const e=r;return e&&typeof e[Symbol.asyncIterator]=="function"?e:null},jl=r=>r&&typeof r.getReader=="function"?r:null,Yl=r=>typeof r=="object"&&(r.path||r.content)?r:null;var L3=C3;const{decodeCID:P3,CID:M3}=Ha;class $3 extends os{constructor(e){super("files",["stat"],e)}async stat(e,t={}){const{size:n,hash:o,withLocal:a,timeout:u,signal:f}=t,{stat:h}=await this.remote.stat({path:K3(e),size:n,hash:o,withLocal:a,timeout:u,signal:f});return H3(h)}}var z3=$3;const K3=r=>M3.isCID(r)?`/ipfs/${r.toString()}`:r,H3=r=>({...r,cid:P3(r.cid)}),{decodeCID:G3,CID:W3}=Ha;class j3 extends os{constructor(e){super("pin",["add"],e)}async add(e,t={}){const{recursive:n,timeout:o,signal:a}=t,{cid:u}=await this.remote.add({path:q3(e),recursive:n,timeout:o,signal:a});return G3(u)}}var Y3=j3;const q3=r=>W3.isCID(r)?`/ipfs/${r.toString()}`:`${r}`;class Nc extends L3{constructor(e){super(e);this.transport=e,this.block=new c3(this.transport),this.dag=new _3(this.transport),this.files=new z3(this.transport),this.pin=new Y3(this.transport)}static attach(e,t){e.transport.connect(t)}static detached(){return new Nc(new Tp(void 0))}static from(e){return new Nc(new Tp(e))}}var V3=Nc,Uc=null,X3=function(r){Uc=r},na=function(){return ae(void 0,void 0,void 0,function(){var r;return ue(this,function(e){switch(e.label){case 0:return Uc?[3,2]:[4,y1()];case 1:r=e.sent(),Uc=V3.from(r),e.label=2;case 2:return[2,Uc]}})})};function y1(){return new Promise(function(r,e){var t=document.createElement("iframe");t.id="webnative-ipfs",t.style.width="0",t.style.height="0",t.style.border="none",t.style.display="none",document.body.appendChild(t),t.onload=function(){var n=new MessageChannel;n.port1.onmessage=function(o){var a=o.ports;return r(a[0])},t.contentWindow?t.contentWindow.postMessage("connect","*",[n.port2]):e(new Error("Don't have access to iframe.contentWindow"))},t.src=qr.endpoints.lobby+"/ipfs.html"})}function J3(r,{className:e,symbolName:t}){const n=Symbol.for(t),o={[e]:class extends r{constructor(...a){super(...a);Object.defineProperty(this,n,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return o[`is${e}`]=a=>!!(a&&a[n]),o}function Z3(r,{className:e,symbolName:t,withoutNew:n}){const o=Symbol.for(t),a={[e]:function(...u){if(n&&!(this instanceof a))return new a(...u);const f=r.call(this,...u)||this;return f&&!f[o]&&Object.defineProperty(f,o,{value:!0}),f}}[e];return a.prototype=Object.create(r.prototype),a.prototype.constructor=a,Object.defineProperty(a.prototype,Symbol.toStringTag,{get(){return e}}),a[`is${e}`]=u=>!!(u&&u[o]),a}var ql=J3,Q3=Z3;ql.proto=Q3;var e4=Zt(function(r,e){//! stable.js 0.1.8, https://github.com/Two-Screen/stable
//!  2018 Angry Bytes and contributors. MIT licensed.
(function(t,n){r.exports=n()})(_e,function(){var t=function(a,u){return n(a.slice(),u)};t.inplace=function(a,u){var f=n(a,u);return f!==a&&o(f,null,a.length,a),a};function n(a,u){typeof u!="function"&&(u=function(_,A){return String(_).localeCompare(A)});var f=a.length;if(f<=1)return a;for(var h=new Array(f),c=1;c<f;c*=2){o(a,u,c,h);var y=a;a=h,h=y}return a}var o=function(a,u,f,h){var c=a.length,y=0,_=f*2,A,F,D,k,K;for(A=0;A<c;A+=_)for(F=A+f,D=F+f,F>c&&(F=c),D>c&&(D=c),k=A,K=F;;)if(k<F&&K<D)u(a[k],a[K])<=0?h[y++]=a[k++]:h[y++]=a[K++];else if(k<F)h[y++]=a[k++];else if(K<D)h[y++]=a[K++];else break};return t})});function t4(r,e){for(let t=0;t<r.byteLength;t++){if(r[t]<e[t])return-1;if(r[t]>e[t])return 1}return r.byteLength>e.byteLength?1:r.byteLength<e.byteLength?-1:0}var r4=t4;const n4=(r,e)=>{const t=r.nameAsBuffer,n=e.nameAsBuffer;return r4(t,n)};var m1=r=>{e4.inplace(r,n4)},ia=Zt(function(r,e){class t{constructor(o,a,u){if(!u)throw new Error("A link requires a cid to point to");Object.defineProperties(this,{Name:{value:o||"",writable:!1,enumerable:!0},Tsize:{value:a,writable:!1,enumerable:!0},Hash:{value:new ra(u),writable:!1,enumerable:!0},_nameBuf:{value:null,writable:!0,enumerable:!1}})}toString(){return`DAGLink <${this.Hash.toBaseEncodedString()} - name: "${this.Name}", size: ${this.Tsize}>`}toJSON(){return this._json||(this._json=Object.freeze({name:this.Name,size:this.Tsize,cid:this.Hash.toBaseEncodedString()})),Object.assign({},this._json)}get nameAsBuffer(){return this._nameBuf!==null?this._nameBuf:(this._nameBuf=Ka(this.Name),this._nameBuf)}}r.exports=ql(t,{className:"DAGLink",symbolName:"@ipld/js-ipld-dag-pb/daglink"})}),i4=function(r){var e=function(f){var h=f.indexOf("//");return h>-1?f.slice(0,h):f},t=function(){var f=!1;return function(h){return h==="/*"?(f=!0,!1):h==="*/"?(f=!1,!1):!f}},n=function(f){return f.trim()},o=function(f){return function(h){var c="$"+f.length+"$";return f.push(h),c}},a=function(f){var h=/^\$(\d+)\$$/;return function(c){var y=c.match(h);return y?f[+y[1]]:c}},u=[];return r.replace(/"(\\"|[^"\n])*?"|'(\\'|[^'\n])*?'/gm,o(u)).replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(n).filter(Boolean).map(e).map(n).filter(Boolean).join(`
`).split(/\s+|\n+/gm).filter(t()).map(a(u))},o4=536870911,a4=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],g1=function(r){var e=r.shift();if(e!=="{")return e;e={};for(var t="";r.length;)switch(r[0]){case"}":return r.shift(),e;case":":r.shift(),e[t]=g1(r);break;default:t=r.shift()}},b1=function(r){for(var e={};r.length;)switch(r[0]){case"[":case",":{r.shift();var t=r.shift();t==="("&&(t=r.shift(),r.shift());var n=[];if(r[0][0]==="."&&(n=r[0].substr(1).split("."),r.shift()),r[0]!=="=")throw new Error("Unexpected token in field options: "+r[0]);if(r.shift(),r[0]==="]")throw new Error("Unexpected ] in field option");var o=[t].concat(n),a=o.pop(),u=o.reduce(function(f,h,c){return f[h]==null&&(f[h]={}),f[h]},e);u[a]=g1(r);break}case"]":return r.shift(),e;default:throw new Error("Unexpected token in field options: "+r[0])}throw new Error("No closing tag for field options")},Vl=function(r){for(var e={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};r.length;)switch(r[0]){case"=":r.shift(),e.tag=Number(r.shift());break;case"map":if(e.type="map",e.map={from:null,to:null},r.shift(),r[0]!=="<")throw new Error("Unexpected token in map type: "+r[0]);if(r.shift(),e.map.from=r.shift(),r[0]!==",")throw new Error("Unexpected token in map type: "+r[0]);if(r.shift(),e.map.to=r.shift(),r[0]!==">")throw new Error("Unexpected token in map type: "+r[0]);r.shift(),e.name=r.shift();break;case"repeated":case"required":case"optional":var t=r.shift();e.required=t==="required",e.repeated=t==="repeated",e.type=r.shift(),e.name=r.shift();break;case"[":e.options=b1(r);break;case";":if(e.name===null)throw new Error("Missing field name");if(e.type===null)throw new Error("Missing type in message field: "+e.name);if(e.tag===-1)throw new Error("Missing tag number in message field: "+e.name);return r.shift(),e;default:throw new Error("Unexpected token in message field: "+r[0])}throw new Error("No ; found for message field")},u4=function(r){for(var e={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};r.length;)switch(r[0]){case"map":case"repeated":case"optional":case"required":e.fields.push(Vl(r));break;case"enum":e.enums.push(w1(r));break;case"message":e.messages.push(Xl(r));break;case"extensions":e.extensions=s4(r);break;case"oneof":r.shift();var t=r.shift();if(r[0]!=="{")throw new Error("Unexpected token in oneof: "+r[0]);for(r.shift();r[0]!=="}";){r.unshift("optional");var n=Vl(r);n.oneof=t,e.fields.push(n)}r.shift();break;case"extend":e.extends.push(_1(r));break;case";":r.shift();break;case"reserved":for(r.shift();r[0]!==";";)r.shift();break;case"option":var o=ys(r);if(e.options[o.name]!==void 0)throw new Error("Duplicate option "+o.name);e.options[o.name]=o.value;break;default:r.unshift("optional"),e.fields.push(Vl(r))}return e},_1=function(r){var e={name:r[1],message:Xl(r)};return e},s4=function(r){r.shift();var e=Number(r.shift());if(isNaN(e))throw new Error("Invalid from in extensions definition");if(r.shift()!=="to")throw new Error("Expected keyword 'to' in extensions definition");var t=r.shift();if(t==="max"&&(t=o4),t=Number(t),isNaN(t))throw new Error("Invalid to in extensions definition");if(r.shift()!==";")throw new Error("Missing ; in extensions definition");return{from:e,to:t}},Xl=function(r){r.shift();var e=1,t=[],n={name:r.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if(r[0]!=="{")throw new Error("Expected { but found "+r[0]);for(r.shift();r.length;){if(r[0]==="{"?e++:r[0]==="}"&&e--,!e)return r.shift(),t=u4(t),n.enums=t.enums,n.messages=t.messages,n.fields=t.fields,n.extends=t.extends,n.extensions=t.extensions,n.options=t.options,n;t.push(r.shift())}if(e)throw new Error("No closing tag for message")},c4=function(r){r.shift();var e=r.shift();if(r[0]!==";")throw new Error("Expected ; but found "+r[0]);return r.shift(),e},f4=function(r){if(r.shift(),r[0]!=="=")throw new Error("Expected = but found "+r[0]);r.shift();var e=r.shift();switch(e){case'"proto2"':e=2;break;case'"proto3"':e=3;break;default:throw new Error("Expected protobuf syntax version but found "+e)}if(r[0]!==";")throw new Error("Expected ; but found "+r[0]);return r.shift(),e},l4=function(r){if(r.length<4)throw new Error("Invalid enum value: "+r.slice(0,3).join(" "));if(r[1]!=="=")throw new Error("Expected = but found "+r[1]);if(r[3]!==";"&&r[3]!=="[")throw new Error("Expected ; or [ but found "+r[1]);var e=r.shift();r.shift();var t={value:null,options:{}};return t.value=Number(r.shift()),r[0]==="["&&(t.options=b1(r)),r.shift(),{name:e,val:t}},w1=function(r){r.shift();var e={},t={name:r.shift(),values:{},options:{}};if(r[0]!=="{")throw new Error("Expected { but found "+r[0]);for(r.shift();r.length;){if(r[0]==="}")return r.shift(),r[0]===";"&&r.shift(),t;if(r[0]==="option"){e=ys(r),t.options[e.name]=e.value;continue}var n=l4(r);t.values[n.name]=n.val}throw new Error("No closing tag for enum")},ys=function(r){for(var e=null,t=null,n=function(a){return a==="true"?!0:a==="false"?!1:a.replace(/^"+|"+$/gm,"")};r.length;){if(r[0]===";")return r.shift(),{name:e,value:t};switch(r[0]){case"option":r.shift();var o=r[0]==="(";if(o&&r.shift(),e=r.shift(),o){if(r[0]!==")")throw new Error("Expected ) but found "+r[0]);r.shift()}r[0][0]==="."&&(e+=r.shift());break;case"=":if(r.shift(),e===null)throw new Error("Expected key for option with value: "+r[0]);if(t=n(r.shift()),e==="optimize_for"&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(t))throw new Error("Unexpected value for option optimize_for: "+t);t==="{"&&(t=Jl(r));break;default:throw new Error("Unexpected token in option: "+r[0])}}},Jl=function(r){for(var e=function(u){return u==="true"?!0:u==="false"?!1:u.replace(/^"+|"+$/gm,"")},t={};r.length;){if(r[0]==="}")return r.shift(),t;var n=r[0]==="(";n&&r.shift();var o=r.shift();if(n){if(r[0]!==")")throw new Error("Expected ) but found "+r[0]);r.shift()}var a=null;switch(r[0]){case":":if(t[o]!==void 0)throw new Error("Duplicate option map key "+o);r.shift(),a=e(r.shift()),a==="{"&&(a=Jl(r)),t[o]=a,r[0]===";"&&r.shift();break;case"{":if(r.shift(),a=Jl(r),t[o]===void 0&&(t[o]=[]),!Array.isArray(t[o]))throw new Error("Duplicate option map key "+o);t[o].push(a);break;default:throw new Error("Unexpected token in option map: "+r[0])}}throw new Error("No closing tag for option map")},h4=function(r){r.shift();var e=r.shift().replace(/^"+|"+$/gm,"");if(r[0]!==";")throw new Error("Unexpected token: "+r[0]+'. Expected ";"');return r.shift(),e},d4=function(r){r.shift();var e={name:r.shift(),methods:[],options:{}};if(r[0]!=="{")throw new Error("Expected { but found "+r[0]);for(r.shift();r.length;){if(r[0]==="}")return r.shift(),r[0]===";"&&r.shift(),e;switch(r[0]){case"option":var t=ys(r);if(e.options[t.name]!==void 0)throw new Error("Duplicate option "+t.name);e.options[t.name]=t.value;break;case"rpc":e.methods.push(p4(r));break;default:throw new Error("Unexpected token in service: "+r[0])}}throw new Error("No closing tag for service")},p4=function(r){r.shift();var e={name:r.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if(r[0]!=="(")throw new Error("Expected ( but found "+r[0]);if(r.shift(),r[0]==="stream"&&(r.shift(),e.client_streaming=!0),e.input_type=r.shift(),r[0]!==")")throw new Error("Expected ) but found "+r[0]);if(r.shift(),r[0]!=="returns")throw new Error("Expected returns but found "+r[0]);if(r.shift(),r[0]!=="(")throw new Error("Expected ( but found "+r[0]);if(r.shift(),r[0]==="stream"&&(r.shift(),e.server_streaming=!0),e.output_type=r.shift(),r[0]!==")")throw new Error("Expected ) but found "+r[0]);if(r.shift(),r[0]===";")return r.shift(),e;if(r[0]!=="{")throw new Error("Expected { but found "+r[0]);for(r.shift();r.length;){if(r[0]==="}")return r.shift(),r[0]===";"&&r.shift(),e;if(r[0]==="option"){var t=ys(r);if(e.options[t.name]!==void 0)throw new Error("Duplicate option "+t.name);e.options[t.name]=t.value}else throw new Error("Unexpected token in rpc options: "+r[0])}throw new Error("No closing tag for rpc")},v4=function(r){for(var e=i4(r.toString()),t=0;t<e.length;t++)if(/^("|')([^'"]*)$/.test(e[t])){var n;for(e[t].length===1?n=t+1:n=t,n;n<e.length;n++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(e[n])){e=e.slice(0,t).concat(e.slice(t,n+1).join("")).concat(e.slice(n+1));break}}for(var o={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},a=!0;e.length;){switch(e[0]){case"package":o.package=c4(e);break;case"syntax":if(!a)throw new Error("Protobuf syntax version should be first thing in file");o.syntax=f4(e);break;case"message":o.messages.push(Xl(e));break;case"enum":o.enums.push(w1(e));break;case"option":var u=ys(e);if(o.options[u.name])throw new Error("Duplicate option "+u.name);o.options[u.name]=u.value;break;case"import":o.imports.push(h4(e));break;case"extend":o.extends.push(_1(e));break;case"service":o.services||(o.services=[]),o.services.push(d4(e));break;default:throw new Error("Unexpected token: "+e[0])}a=!1}return o.extends.forEach(function(f){o.messages.forEach(function(h){h.name===f.name&&f.message.fields.forEach(function(c){if(!h.extensions||c.tag<h.extensions.from||c.tag>h.extensions.to)throw new Error(h.name+" does not declare "+c.tag+" as an extension number");h.fields.push(c)})})}),o.messages.forEach(function(f){f.fields.forEach(function(h){var c,y,_,A;function F(k){return k.name===h.type}function D(k){return k.name===_}if(h.options&&h.options.packed==="true"&&a4.indexOf(h.type)===-1){if(h.type.indexOf(".")===-1){if(f.enums&&f.enums.some(F))return}else{if(c=h.type.split("."),c.length>2)throw new Error("what is this?");if(y=c[0],_=c[1],o.messages.some(function(k){if(k.name===y)return A=k,k}),A&&A.enums&&A.enums.some(D))return}throw new Error("Fields of type "+h.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),o},x1=v4,E1=function(r,e){var t=r.repeated?"repeated":r.required?"required":"optional";r.type==="map"&&(t="map<"+r.map.from+","+r.map.to+">"),r.oneof&&(t="");var n=Object.keys(r.options||{}).map(function(o){return o+" = "+r.options[o]}).join(",");return n&&(n=" ["+n+"]"),e.push((t?t+" ":"")+(r.map==="map"?"":r.type+" ")+r.name+" = "+r.tag+n+";"),e},A1=function(r,e){e.push("message "+r.name+" {"),r.options||(r.options={}),ms(r.options,e),r.enums||(r.enums=[]),r.enums.forEach(function(n){e.push(S1(n,[]))}),r.messages||(r.messages=[]),r.messages.forEach(function(n){e.push(A1(n,[]))});var t={};return r.fields||(r.fields=[]),r.fields.forEach(function(n){n.oneof?(t[n.oneof]||(t[n.oneof]=[]),t[n.oneof].push(E1(n,[]))):e.push(E1(n,[]))}),Object.keys(t).forEach(function(n){t[n].unshift("oneof "+n+" {"),t[n].push("}"),e.push(t[n])}),e.push("}",""),e},S1=function(r,e){e.push("enum "+r.name+" {"),r.options||(r.options={});var t=ms(r.options,[]);return t.length>1&&e.push(t.slice(0,-1)),Object.keys(r.values).map(function(n){var o=y4(r.values[n]);e.push([n+" = "+o+";"])}),e.push("}",""),e},y4=function(r,e){var t=Object.keys(r.options||{}).map(function(o){return o+" = "+r.options[o]}).join(",");t&&(t=" ["+t+"]");var n=r.value+t;return n},ms=function(r,e){var t=Object.keys(r);return t.forEach(function(n){var o=r[n];~n.indexOf(".")&&(n="("+n+")");var a=typeof o;a==="object"?(o=Zl(o,[]),o.length&&e.push("option "+n+" = {",o,"};")):(a==="string"&&n!=="optimize_for"&&(o='"'+o+'"'),e.push("option "+n+" = "+o+";"))}),t.length>0&&e.push(""),e},Zl=function(r,e){var t=Object.keys(r);return t.forEach(function(n){var o=r[n],a=typeof o;a==="object"?Array.isArray(o)?o.forEach(function(u){u=Zl(u,[]),u.length&&e.push(n+" {",u,"}")}):(o=Zl(o,[]),o.length&&e.push(n+" {",o,"}")):(a==="string"&&(o='"'+o+'"'),e.push(n+": "+o))}),e},m4=function(r,e){return e.push("service "+r.name+" {"),r.options||(r.options={}),ms(r.options,e),r.methods||(r.methods=[]),r.methods.forEach(function(t){e.push(g4(t,[]))}),e.push("}",""),e},g4=function(r,e){var t="rpc "+r.name+"(";r.client_streaming&&(t+="stream "),t+=r.input_type+") returns (",r.server_streaming&&(t+="stream "),t+=r.output_type+")",r.options||(r.options={});var n=ms(r.options,[]);return n.length>1?e.push(t+" {",n.slice(0,-1),"}"):e.push(t+";"),e},I1=function(r){return function(e){return Array.isArray(e)?e.map(I1(r+"  ")).join(`
`):r+e}},b4=function(r){var e=[];return e.push('syntax = "proto'+r.syntax+'";',""),r.package&&e.push("package "+r.package+";",""),r.options||(r.options={}),ms(r.options,e),r.enums||(r.enums=[]),r.enums.forEach(function(t){S1(t,e)}),r.messages||(r.messages=[]),r.messages.forEach(function(t){A1(t,e)}),r.services&&r.services.forEach(function(t){m4(t,e)}),e.map(I1("")).join(`
`)},Dc=x1,_4=x1,w4=b4;Dc.parse=_4,Dc.stringify=w4;function x4(r,e,t,n){return e.bytes=t.bytes=0,{type:r,encode:e,decode:t,encodingLength:n}}var ci=x4,E4=T1,B1=128,A4=127,S4=~A4,I4=Math.pow(2,31);function T1(r,e,t){e=e||[],t=t||0;for(var n=t;r>=I4;)e[t++]=r&255|B1,r/=128;for(;r&S4;)e[t++]=r&255|B1,r>>>=7;return e[t]=r|0,T1.bytes=t-n+1,e}var B4=Ql,T4=128,k1=127;function Ql(r,e){var t=0,e=e||0,n=0,o=e,a,u=r.length;do{if(o>=u)throw Ql.bytes=0,new RangeError("Could not decode varint");a=r[o++],t+=n<28?(a&k1)<<n:(a&k1)*Math.pow(2,n),n+=7}while(a>=T4);return Ql.bytes=o-e,t}var k4=Math.pow(2,7),F4=Math.pow(2,14),C4=Math.pow(2,21),R4=Math.pow(2,28),N4=Math.pow(2,35),U4=Math.pow(2,42),D4=Math.pow(2,49),O4=Math.pow(2,56),L4=Math.pow(2,63),P4=function(r){return r<k4?1:r<F4?2:r<C4?3:r<R4?4:r<N4?5:r<U4?6:r<D4?7:r<O4?8:r<L4?9:10},Tt={encode:E4,decode:B4,encodingLength:P4};function F1(r){return r.byteLength}function M4(r){const e=F1(r);return Tt.encodingLength(e)+e}function C1(r,e,t,n){const o=n,a=F1(r);Tt.encode(a,e,n),n+=Tt.encode.bytes,e.set(r,n),n+=a,C1.bytes=n-o}function R1(r,e,t){const n=t,o=Tt.decode(r,t);t+=Tt.decode.bytes;const a=r.slice(t,t+o);return t+=a.length,R1.bytes=t-n,a}var $4=ci(2,C1,R1,M4);function z4(r){const e=Ka(r).byteLength;return Tt.encodingLength(e)+e}function N1(r,e,t,n){const o=n,a=Ka(r).byteLength;Tt.encode(a,e,n,"utf-8"),n+=Tt.encode.bytes;const u=Ka(r);e.set(u,n),n+=u.length,N1.bytes=n-o}function U1(r,e,t){const n=t,o=Tt.decode(r,t);t+=Tt.decode.bytes;const a=Ll(r.subarray(t,t+o));return t+=o,U1.bytes=t-n,a}var K4=ci(2,N1,U1,z4);function H4(){return 1}function D1(r,e,t,n){e[n]=r?1:0,D1.bytes=1}function O1(r,e,t){const n=r[t]>0;return O1.bytes=1,n}var G4=ci(0,D1,O1,H4);function L1(r,e,t,n){Tt.encode(r<0?r+4294967296:r,e,n),L1.bytes=Tt.encode.bytes}function P1(r,e,t){const n=Tt.decode(r,t);return P1.bytes=Tt.decode.bytes,n>2147483647?n-4294967296:n}function W4(r){return Tt.encodingLength(r<0?r+4294967296:r)}var j4=ci(0,L1,P1,W4);function eh(r,e,t,n){if(r<0){const o=n+9;for(Tt.encode(r*-1,e,n),n+=Tt.encode.bytes-1,e[n]=e[n]|128;n<o-1;)n++,e[n]=255;e[o]=1,eh.bytes=10}else Tt.encode(r,e,n),eh.bytes=Tt.encode.bytes}function th(r,e,t){let n=Tt.decode(r,t);if(n>=Math.pow(2,63)){let o=9;for(;r[t+o-1]===255;)o--;o=o||9;const a=r.subarray(t,t+o);a[o-1]=a[o-1]&127,n=-1*Tt.decode(a,0),th.bytes=10}else th.bytes=Tt.decode.bytes;return n}function Y4(r){return r<0?10:Tt.encodingLength(r)}var q4=ci(0,eh,th,Y4),V4=function r(e,t,n){e=e>=0?e*2:e*-2-1;var o=Tt.encode(e,t,n);return r.bytes=Tt.encode.bytes,o},X4=function r(e,t){var n=Tt.decode(e,t);return r.bytes=Tt.decode.bytes,n&1?(n+1)/-2:n/2},J4=function(r){return Tt.encodingLength(r>=0?r*2:r*-2-1)},gs={encode:V4,decode:X4,encodingLength:J4};function M1(r,e,t,n){gs.encode(r,e,n),M1.bytes=gs.encode.bytes}function $1(r,e,t){const n=gs.decode(r,t);return $1.bytes=gs.decode.bytes,n}var Z4=ci(0,M1,$1,gs.encodingLength);function z1(r,e,t,n){Tt.encode(r,e,n),z1.bytes=Tt.encode.bytes}function K1(r,e,t){const n=Tt.decode(r,t);return K1.bytes=Tt.decode.bytes,n}var Q4=ci(0,z1,K1,Tt.encodingLength);function eE(){return 8}function H1(r,e,t,n){for(const o of r)e[n]=o,n++;H1.bytes=8}function G1(r,e,t){const n=r.slice(t,t+8);return G1.bytes=8,n}var tE=ci(1,H1,G1,eE);function rE(){return 8}function W1(r,e,t,n){t.setFloat64(n,r,!0),W1.bytes=8}function j1(r,e,t){const n=e.getFloat64(t,!0);return j1.bytes=8,n}var nE=ci(1,W1,j1,rE);function iE(r){return 4}function Y1(r,e,t,n){t.setUint32(n,r,!0),Y1.bytes=4}function q1(r,e,t){const n=e.getUint32(t,!0);return q1.bytes=4,n}var oE=ci(5,Y1,q1,iE);function aE(r){return 4}function V1(r,e,t,n){t.setInt32(n,r,!0),V1.bytes=4}function X1(r,e,t){const n=e.getInt32(t,!0);return X1.bytes=4,n}var uE=ci(5,V1,X1,aE);function sE(){return 4}function J1(r,e,t,n){t.setFloat32(n,r,!0),J1.bytes=4}function Z1(r,e,t){const n=e.getFloat32(t,!0);return Z1.bytes=4,n}var cE=ci(5,J1,Z1,sE),rh=Zt(function(r,e){e.make=ci,e.bytes=$4,e.string=K4,e.bool=G4,e.int32=j4,e.int64=q4,e.sint32=e.sint64=Z4,e.uint32=e.uint64=e.enum=e.varint=Q4,e.fixed64=e.sfixed64=tE,e.double=nE,e.fixed32=oE,e.sfixed32=uE,e.float=cE}),fE=function(r){return r!=null&&(typeof r!="number"||!isNaN(r))},nh={defined:fE};const lE=nh.defined;function Q1(r){return`${r.substring(0,1).toUpperCase()}${r.substring(1)}`}function ev(r,e,t,n){if(Object.prototype.hasOwnProperty.call(r,e))return;const o=Q1(e);Object.defineProperties(r,{[e]:{enumerable:!0,configurable:!0,set:a=>{t=a},get:()=>t===void 0?n:t},[`has${o}`]:{configurable:!0,value:()=>t!==void 0},[`set${o}`]:{configurable:!0,value:a=>{t=a}},[`get${o}`]:{configurable:!0,value:()=>t},[`clear${o}`]:{configurable:!0,value:()=>{t=void 0,r[e]=void 0}}})}function hE(r,e,t){const n=[],o={},a=[],u=[];for(var f=0;f<t.length;f++){const c=r.fields[f];o[c.tag]=f;const y=c.options&&c.options.default,_=e(c.type,r.id,!1);u[f]=[y,_&&_.values],r.fields[f].packed=c.repeated&&c.options&&c.options.packed&&c.options.packed!=="false",c.required&&n.push(c.name),c.oneof&&a.push(c.name)}function h(c,y,_,A,F,D,k){const K=y.name;if(y.oneof){const ke=Object.keys(_);for(var he=0;he<ke.length;he++)if(a.indexOf(ke[he])>-1){const fe=Q1(ke[he]);delete _[`has${fe}`],delete _[`get${fe}`],delete _[`set${fe}`],delete _[`clear${fe}`],delete _[ke[he]]}}let ge;if(c.message){const ke=Tt.decode(A,D);D+=Tt.decode.bytes;const fe=c.decode(A,F,D,D+ke);y.map?(ge=_[K]||{},ge[fe.key]=fe.value):y.repeated?(ge=_[K]||[],ge.push(fe)):ge=fe}else y.repeated?(ge=_[K]||[],ge.push(c.decode(A,F,D))):ge=c.decode(A,F,D);return ev(_,K,ge),D+=c.decode.bytes,D}return function c(y,_,A,F){if(A==null&&(A=0),F==null&&(F=y.length),!(F<=y.length&&A<=y.length))throw new Error("Decoded message is not valid");_||(_=new DataView(y.buffer,y.byteOffset,y.byteLength));for(var D=A,k={},K;;){if(F<=A){var he="",ge=0;for(ge=0;ge<n.length;ge++)if(he=n[ge],!lE(k[he]))throw new Error("Decoded message is not valid, missing required field: "+he);var ke,fe;for(ge=0;ge<t.length;ge++){K=r.fields[ge],fe=u[ge][0],ke=u[ge][1],he=K.name;let pt;if(!Object.prototype.hasOwnProperty.call(k,he)){var V=!1;if(K.oneof){for(var ce=Object.keys(k),Se=0;Se<ce.length;Se++)if(a.indexOf(ce[Se])>-1){V=!0;break}}V||(ke?K.repeated?fe=[]:(fe=fe&&ke[fe]?ke[fe].value:ke[Object.keys(ke)[0]].value,fe=parseInt(fe||0,10)):(pt=pE(K),fe=vE(K,fe)),ev(k,he,fe,pt))}}return c.bytes=A-D,k}var le=Tt.decode(y,A);A+=Tt.decode.bytes;var Oe=le>>3,Pe=o[Oe];if(Pe==null){A=dE(le&7,y,_,A);continue}var vt=t[Pe];if(K=r.fields[Pe],K.packed){var dt=Tt.decode(y,A);for(A+=Tt.decode.bytes,dt+=A;A<dt;)A=h(vt,K,k,y,_,A)}else A=h(vt,K,k,y,_,A)}}}var dE=function(r,e,t,n){switch(r){case 0:return Tt.decode(e,n),n+Tt.decode.bytes;case 1:return n+8;case 2:var o=Tt.decode(e,n);return n+Tt.decode.bytes+o;case 3:case 4:throw new Error("Groups are not supported");case 5:return n+4;default:throw new Error("Unknown wire type: "+r)}},pE=function(r){if(r.map)return{};if(r.repeated)return[];switch(r.type){case"string":return"";case"bool":return!1;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return 0;default:return null}},vE=function(r,e){if(e===void 0)return e;switch(r.type){case"bool":return e==="true";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(e,10);default:return e}},yE=hE,tv=nh.defined;function mE(r,e,t,n,o){const a=Object.keys(n),u=t.length,f={};for(let c=0;c<u;c++){f[c]={p:Tt.encode(r.fields[c].tag<<3|2),h:Tt.encode(r.fields[c].tag<<3|t[c].type)};const y=r.fields[c];r.fields[c].packed=y.repeated&&y.options&&y.options.packed&&y.options.packed!=="false"}function h(c,y,_,A,F,D,k){let K=0;if(!D)for(K=0;K<A.length;K++)c[_++]=A[K];return F.message&&(Tt.encode(F.encodingLength(k),c,_),_+=Tt.encode.bytes),F.encode(k,c,y,_),_+F.encode.bytes}return function c(y,_,A,F=0){_==null&&(_=new Uint8Array(o(y))),A==null&&(A=new DataView(_.buffer,_.byteOffset,_.byteLength));const D=F,k=Object.keys(y);let K=0,he=!1;for(K=0;K<a.length;K++){const ge=a[K],ke=n[K];if(k.indexOf(ke)>-1){if(he)throw new Error("only one of the properties defined in oneof "+ge+" can be set");he=!0}}for(K=0;K<u;K++){const ge=t[K],ke=r.fields[K];let fe=y[ke.name],V=0;if(!tv(fe)){if(ke.required)throw new Error(ke.name+" is required");continue}const ce=f[K].p,Se=f[K].h,le=ke.packed;if(ke.map){const Oe=Object.keys(fe);for(V=0;V<Oe.length;V++)Oe[V]={key:Oe[V],value:fe[Oe[V]]};fe=Oe}if(le){let Oe=0;for(V=0;V<fe.length;V++)!Object.prototype.hasOwnProperty.call(fe,V)||(Oe+=ge.encodingLength(fe[V]));if(Oe){for(V=0;V<Se.length;V++)_[F++]=ce[V];Tt.encode(Oe,_,F),F+=Tt.encode.bytes}}if(ke.repeated){let Oe;for(V=0;V<fe.length;V++)Oe=fe[V],!!tv(Oe)&&(F=h(_,A,F,Se,ge,le,Oe))}else F=h(_,A,F,Se,ge,le,fe)}return c.bytes=F-D,_}}var gE=mE,Oc=nh.defined;function bE(r,e,t){const n=Object.keys(t),o=e.length,a=new Array(o);for(let u=0;u<r.fields.length;u++){a[u]=Tt.encodingLength(r.fields[u].tag<<3|e[u].type);const f=r.fields[u];r.fields[u].packed=f.repeated&&f.options&&f.options.packed&&f.options.packed!=="false"}return function(f){let h=0,c=0,y=0;for(c=0;c<n.length;c++){const _=n[c],A=t[_];let F=!1;for(y=0;y<A.length;y++)if(Oc(f[A[y]])){if(F)throw new Error("only one of the properties defined in oneof "+_+" can be set");F=!0}}for(c=0;c<o;c++){const _=e[c],A=r.fields[c];let F=f[A.name];const D=a[c];let k;if(!Oc(F)){if(A.required)throw new Error(A.name+" is required");continue}if(A.map){const K=Object.keys(F);for(y=0;y<K.length;y++)K[y]={key:K[y],value:F[K[y]]};F=K}if(A.packed){let K=0;for(y=0;y<F.length;y++)!Oc(F[y])||(k=_.encodingLength(F[y]),K+=k,_.message&&(K+=Tt.encodingLength(k)));K&&(h+=D+K+Tt.encodingLength(K))}else if(A.repeated)for(y=0;y<F.length;y++)!Oc(F[y])||(k=_.encodingLength(F[y]),h+=D+k+(_.message?Tt.encodingLength(k):0));else k=_.encodingLength(F),h+=D+k+(_.message?Tt.encodingLength(k):0)}return h}}var _E=bE;const wE=function(r){if(!r)return null;const e={};return Object.keys(r).forEach(function(t){e[t]=r[t].value}),e};var xE=function(r,e){const t={},n={},o={},a=function(c,y){c.enums&&c.enums.forEach(function(_){_.id=y+(y?".":"")+_.name,n[_.id]=_,a(_,_.id)}),c.messages&&c.messages.forEach(function(_){_.id=y+(y?".":"")+_.name,t[_.id]=_,_.fields.forEach(function(A){if(!A.map)return;const F="Map_"+A.map.from+"_"+A.map.to,D={name:F,enums:[],messages:[],fields:[{name:"key",type:A.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:A.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:y+(y?".":"")+F};t[D.id]||(t[D.id]=D,c.messages.push(D)),A.type=F,A.repeated=!0}),a(_,_.id)})};a(r,"");const u=function(c){const y=Object.keys(c.values||[]).map(function(F){return parseInt(c.values[F].value,10)}),_=function F(D,k,K,he){if(!y.length||y.indexOf(D)===-1)throw new Error("Invalid enum value: "+D);return Tt.encode(D,k,he),F.bytes=Tt.encode.bytes,k},A=function F(D,k,K){var he=Tt.decode(D,K);if(!y.length||y.indexOf(he)===-1)throw new Error("Invalid enum value: "+he);return F.bytes=Tt.decode.bytes,he};return rh.make(0,_,A,Tt.encodingLength)},f=function(c,y){c.messages.forEach(function(K){y[K.name]=h(K.name,c.id)}),c.enums.forEach(function(K){y[K.name]=wE(K.values)}),y.type=2,y.message=!0,y.name=c.name;const _={};c.fields.forEach(function(K){!K.oneof||(_[K.oneof]||(_[K.oneof]=[]),_[K.oneof].push(K.name))});const A=c.fields.map(function(K){return h(K.type,c.id)}),F=_E(c,A,_),D=gE(c,h,A,_,F),k=yE(c,h,A);return D.bytes=k.bytes=0,y.buffer=!0,y.encode=D,y.decode=k,y.encodingLength=F,y},h=function(c,y,_){if(e&&e[c])return e[c];if(rh[c])return rh[c];const A=(y?y+"."+c:c).split(".").map(function(D,k,K){return K.slice(0,k).concat(c).join(".")}).reverse().reduce(function(D,k){return D||t[k]||n[k]},null);if(_===!1)return A;if(!A)throw new Error("Could not resolve "+c);return A.values?u(A):o[A.id]||f(A,o[A.id]={})};return(r.enums||[]).concat((r.messages||[]).map(function(c){return h(c.id)}))},EE=function(r){if(!r)return null;var e={};return Object.keys(r).forEach(function(t){e[t]=r[t].value}),e},rv=function(r,e){if(e||(e={}),!r)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var t=typeof r=="object"&&!(r instanceof Uint8Array)?r:Dc.parse(r),n=function(){var o=this;xE(t,e.encodings||{}).forEach(function(a){o[a.name]=EE(a.values)||a})};return n.prototype.toString=function(){return Dc.stringify(t)},n.prototype.toJSON=function(){return t},new n},nv=`// An IPFS MerkleDAG Link
message PBLink {

  // multihash of the target object
  optional bytes Hash = 1;

  // utf string name. should be unique per object
  optional string Name = 2;

  // cumulative size of target object
  optional uint64 Tsize = 3;
}

// An IPFS MerkleDAG Node
message PBNode {

  // refs to other objects
  repeated PBLink Links = 2;

  // opaque user data
  optional bytes Data = 1;
}`,iv=Zt(function(r,e){const t=rv(nv);e=r.exports;const n=u=>{const f={};return u.Data&&u.Data.byteLength>0?f.Data=u.Data:f.Data=null,u.Links&&u.Links.length>0?f.Links=u.Links.map(h=>({Hash:h.Hash.bytes,Name:h.Name,Tsize:h.Tsize})):f.Links=null,f},o=u=>{const f=u.Data,h=u.Links||[];return t.PBNode.encode(n({Data:f,Links:h}))},a=(u,f=[])=>{const h={Data:u};return h.Links=f.map(c=>ia.isDAGLink(c)?c:ia.util.createDagLinkFromB58EncodedHash(c)),o(h)};e.serializeDAGNode=o,e.serializeDAGNodeLike=a});function ov(r,e){for(const t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function AE(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=void 0),e!=null&&(t.code=e);try{return ov(r,t)}catch(n){t.message=r.message,t.stack=r.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(r)),ov(new o,t)}}var av=AE,io=Zt(function(r){(function(){var e="input is invalid type",t="finalize already called",n=typeof window=="object",o=n?window:{};o.JS_SHA3_NO_WINDOW&&(n=!1);var a=!n&&typeof self=="object",u=!o.JS_SHA3_NO_NODE_JS&&typeof Ji=="object"&&Ji.versions&&Ji.versions.node;u?o=_e:a&&(o=self);var f=!o.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,h=!o.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",c="0123456789abcdef".split(""),y=[31,7936,2031616,520093696],_=[4,1024,262144,67108864],A=[1,256,65536,16777216],F=[6,1536,393216,100663296],D=[0,8,16,24],k=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],K=[224,256,384,512],he=[128,256],ge=["hex","buffer","arrayBuffer","array","digest"],ke={"128":168,"256":136};(o.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(R){return Object.prototype.toString.call(R)==="[object Array]"}),h&&(o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(R){return typeof R=="object"&&R.buffer&&R.buffer.constructor===ArrayBuffer});for(var fe=function(R,ie,M){return function(H){return new kt(R,ie,R).update(H)[M]()}},V=function(R,ie,M){return function(H,E){return new kt(R,ie,E).update(H)[M]()}},ce=function(R,ie,M){return function(H,E,T,C){return xt["cshake"+R].update(H,E,T,C)[M]()}},Se=function(R,ie,M){return function(H,E,T,C){return xt["kmac"+R].update(H,E,T,C)[M]()}},le=function(R,ie,M,H){for(var E=0;E<ge.length;++E){var T=ge[E];R[T]=ie(M,H,T)}return R},Oe=function(R,ie){var M=fe(R,ie,"hex");return M.create=function(){return new kt(R,ie,R)},M.update=function(H){return M.create().update(H)},le(M,fe,R,ie)},Pe=function(R,ie){var M=V(R,ie,"hex");return M.create=function(H){return new kt(R,ie,H)},M.update=function(H,E){return M.create(E).update(H)},le(M,V,R,ie)},vt=function(R,ie){var M=ke[R],H=ce(R,ie,"hex");return H.create=function(E,T,C){return!T&&!C?xt["shake"+R].create(E):new kt(R,ie,E).bytepad([T,C],M)},H.update=function(E,T,C,q){return H.create(T,C,q).update(E)},le(H,ce,R,ie)},dt=function(R,ie){var M=ke[R],H=Se(R,ie,"hex");return H.create=function(E,T,C){return new Xe(R,ie,T).bytepad(["KMAC",C],M).bytepad([E],M)},H.update=function(E,T,C,q){return H.create(E,C,q).update(T)},le(H,Se,R,ie)},pt=[{name:"keccak",padding:A,bits:K,createMethod:Oe},{name:"sha3",padding:F,bits:K,createMethod:Oe},{name:"shake",padding:y,bits:he,createMethod:Pe},{name:"cshake",padding:_,bits:he,createMethod:vt},{name:"kmac",padding:_,bits:he,createMethod:dt}],xt={},lt=[],Dt=0;Dt<pt.length;++Dt)for(var Rt=pt[Dt],Yt=Rt.bits,gr=0;gr<Yt.length;++gr){var yt=Rt.name+"_"+Yt[gr];if(lt.push(yt),xt[yt]=Rt.createMethod(Yt[gr],Rt.padding),Rt.name!=="sha3"){var gt=Rt.name+Yt[gr];lt.push(gt),xt[gt]=xt[yt]}}function kt(R,ie,M){this.blocks=[],this.s=[],this.padding=ie,this.outputBits=M,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(R<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=M>>5,this.extraBytes=(M&31)>>3;for(var H=0;H<50;++H)this.s[H]=0}kt.prototype.update=function(R){if(this.finalized)throw new Error(t);var ie,M=typeof R;if(M!=="string"){if(M==="object"){if(R===null)throw new Error(e);if(h&&R.constructor===ArrayBuffer)R=new Uint8Array(R);else if(!Array.isArray(R)&&(!h||!ArrayBuffer.isView(R)))throw new Error(e)}else throw new Error(e);ie=!0}for(var H=this.blocks,E=this.byteCount,T=R.length,C=this.blockCount,q=0,X=this.s,ee,S;q<T;){if(this.reset)for(this.reset=!1,H[0]=this.block,ee=1;ee<C+1;++ee)H[ee]=0;if(ie)for(ee=this.start;q<T&&ee<E;++q)H[ee>>2]|=R[q]<<D[ee++&3];else for(ee=this.start;q<T&&ee<E;++q)S=R.charCodeAt(q),S<128?H[ee>>2]|=S<<D[ee++&3]:S<2048?(H[ee>>2]|=(192|S>>6)<<D[ee++&3],H[ee>>2]|=(128|S&63)<<D[ee++&3]):S<55296||S>=57344?(H[ee>>2]|=(224|S>>12)<<D[ee++&3],H[ee>>2]|=(128|S>>6&63)<<D[ee++&3],H[ee>>2]|=(128|S&63)<<D[ee++&3]):(S=65536+((S&1023)<<10|R.charCodeAt(++q)&1023),H[ee>>2]|=(240|S>>18)<<D[ee++&3],H[ee>>2]|=(128|S>>12&63)<<D[ee++&3],H[ee>>2]|=(128|S>>6&63)<<D[ee++&3],H[ee>>2]|=(128|S&63)<<D[ee++&3]);if(this.lastByteIndex=ee,ee>=E){for(this.start=ee-E,this.block=H[C],ee=0;ee<C;++ee)X[ee]^=H[ee];oe(X),this.reset=!0}else this.start=ee}return this},kt.prototype.encode=function(R,ie){var M=R&255,H=1,E=[M];for(R=R>>8,M=R&255;M>0;)E.unshift(M),R=R>>8,M=R&255,++H;return ie?E.push(H):E.unshift(H),this.update(E),E.length},kt.prototype.encodeString=function(R){var ie,M=typeof R;if(M!=="string"){if(M==="object"){if(R===null)throw new Error(e);if(h&&R.constructor===ArrayBuffer)R=new Uint8Array(R);else if(!Array.isArray(R)&&(!h||!ArrayBuffer.isView(R)))throw new Error(e)}else throw new Error(e);ie=!0}var H=0,E=R.length;if(ie)H=E;else for(var T=0;T<R.length;++T){var C=R.charCodeAt(T);C<128?H+=1:C<2048?H+=2:C<55296||C>=57344?H+=3:(C=65536+((C&1023)<<10|R.charCodeAt(++T)&1023),H+=4)}return H+=this.encode(H*8),this.update(R),H},kt.prototype.bytepad=function(R,ie){for(var M=this.encode(ie),H=0;H<R.length;++H)M+=this.encodeString(R[H]);var E=ie-M%ie,T=[];return T.length=E,this.update(T),this},kt.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var R=this.blocks,ie=this.lastByteIndex,M=this.blockCount,H=this.s;if(R[ie>>2]|=this.padding[ie&3],this.lastByteIndex===this.byteCount)for(R[0]=R[M],ie=1;ie<M+1;++ie)R[ie]=0;for(R[M-1]|=2147483648,ie=0;ie<M;++ie)H[ie]^=R[ie];oe(H)}},kt.prototype.toString=kt.prototype.hex=function(){this.finalize();for(var R=this.blockCount,ie=this.s,M=this.outputBlocks,H=this.extraBytes,E=0,T=0,C="",q;T<M;){for(E=0;E<R&&T<M;++E,++T)q=ie[E],C+=c[q>>4&15]+c[q&15]+c[q>>12&15]+c[q>>8&15]+c[q>>20&15]+c[q>>16&15]+c[q>>28&15]+c[q>>24&15];T%R==0&&(oe(ie),E=0)}return H&&(q=ie[E],C+=c[q>>4&15]+c[q&15],H>1&&(C+=c[q>>12&15]+c[q>>8&15]),H>2&&(C+=c[q>>20&15]+c[q>>16&15])),C},kt.prototype.arrayBuffer=function(){this.finalize();var R=this.blockCount,ie=this.s,M=this.outputBlocks,H=this.extraBytes,E=0,T=0,C=this.outputBits>>3,q;H?q=new ArrayBuffer(M+1<<2):q=new ArrayBuffer(C);for(var X=new Uint32Array(q);T<M;){for(E=0;E<R&&T<M;++E,++T)X[T]=ie[E];T%R==0&&oe(ie)}return H&&(X[E]=ie[E],q=q.slice(0,C)),q},kt.prototype.buffer=kt.prototype.arrayBuffer,kt.prototype.digest=kt.prototype.array=function(){this.finalize();for(var R=this.blockCount,ie=this.s,M=this.outputBlocks,H=this.extraBytes,E=0,T=0,C=[],q,X;T<M;){for(E=0;E<R&&T<M;++E,++T)q=T<<2,X=ie[E],C[q]=X&255,C[q+1]=X>>8&255,C[q+2]=X>>16&255,C[q+3]=X>>24&255;T%R==0&&oe(ie)}return H&&(q=T<<2,X=ie[E],C[q]=X&255,H>1&&(C[q+1]=X>>8&255),H>2&&(C[q+2]=X>>16&255)),C};function Xe(R,ie,M){kt.call(this,R,ie,M)}Xe.prototype=new kt,Xe.prototype.finalize=function(){return this.encode(this.outputBits,!0),kt.prototype.finalize.call(this)};var oe=function(R){var ie,M,H,E,T,C,q,X,ee,S,d,v,I,N,Q,ve,Ke,ut,se,De,x,p,m,z,re,we,Ee,We,ft,Et,At,zt,hn,qt,jr,Zn,fr,fi,Rn,Jr,_n,Nn,Qn,li,ur,hi,cn,Un,Dn,dn,un,ei,br,ti,Bi,di,pi,vi,pn,Ti,ki,Qt,On;for(H=0;H<48;H+=2)E=R[0]^R[10]^R[20]^R[30]^R[40],T=R[1]^R[11]^R[21]^R[31]^R[41],C=R[2]^R[12]^R[22]^R[32]^R[42],q=R[3]^R[13]^R[23]^R[33]^R[43],X=R[4]^R[14]^R[24]^R[34]^R[44],ee=R[5]^R[15]^R[25]^R[35]^R[45],S=R[6]^R[16]^R[26]^R[36]^R[46],d=R[7]^R[17]^R[27]^R[37]^R[47],v=R[8]^R[18]^R[28]^R[38]^R[48],I=R[9]^R[19]^R[29]^R[39]^R[49],ie=v^(C<<1|q>>>31),M=I^(q<<1|C>>>31),R[0]^=ie,R[1]^=M,R[10]^=ie,R[11]^=M,R[20]^=ie,R[21]^=M,R[30]^=ie,R[31]^=M,R[40]^=ie,R[41]^=M,ie=E^(X<<1|ee>>>31),M=T^(ee<<1|X>>>31),R[2]^=ie,R[3]^=M,R[12]^=ie,R[13]^=M,R[22]^=ie,R[23]^=M,R[32]^=ie,R[33]^=M,R[42]^=ie,R[43]^=M,ie=C^(S<<1|d>>>31),M=q^(d<<1|S>>>31),R[4]^=ie,R[5]^=M,R[14]^=ie,R[15]^=M,R[24]^=ie,R[25]^=M,R[34]^=ie,R[35]^=M,R[44]^=ie,R[45]^=M,ie=X^(v<<1|I>>>31),M=ee^(I<<1|v>>>31),R[6]^=ie,R[7]^=M,R[16]^=ie,R[17]^=M,R[26]^=ie,R[27]^=M,R[36]^=ie,R[37]^=M,R[46]^=ie,R[47]^=M,ie=S^(E<<1|T>>>31),M=d^(T<<1|E>>>31),R[8]^=ie,R[9]^=M,R[18]^=ie,R[19]^=M,R[28]^=ie,R[29]^=M,R[38]^=ie,R[39]^=M,R[48]^=ie,R[49]^=M,N=R[0],Q=R[1],hi=R[11]<<4|R[10]>>>28,cn=R[10]<<4|R[11]>>>28,We=R[20]<<3|R[21]>>>29,ft=R[21]<<3|R[20]>>>29,Ti=R[31]<<9|R[30]>>>23,ki=R[30]<<9|R[31]>>>23,Nn=R[40]<<18|R[41]>>>14,Qn=R[41]<<18|R[40]>>>14,qt=R[2]<<1|R[3]>>>31,jr=R[3]<<1|R[2]>>>31,ve=R[13]<<12|R[12]>>>20,Ke=R[12]<<12|R[13]>>>20,Un=R[22]<<10|R[23]>>>22,Dn=R[23]<<10|R[22]>>>22,Et=R[33]<<13|R[32]>>>19,At=R[32]<<13|R[33]>>>19,Qt=R[42]<<2|R[43]>>>30,On=R[43]<<2|R[42]>>>30,ti=R[5]<<30|R[4]>>>2,Bi=R[4]<<30|R[5]>>>2,Zn=R[14]<<6|R[15]>>>26,fr=R[15]<<6|R[14]>>>26,ut=R[25]<<11|R[24]>>>21,se=R[24]<<11|R[25]>>>21,dn=R[34]<<15|R[35]>>>17,un=R[35]<<15|R[34]>>>17,zt=R[45]<<29|R[44]>>>3,hn=R[44]<<29|R[45]>>>3,z=R[6]<<28|R[7]>>>4,re=R[7]<<28|R[6]>>>4,di=R[17]<<23|R[16]>>>9,pi=R[16]<<23|R[17]>>>9,fi=R[26]<<25|R[27]>>>7,Rn=R[27]<<25|R[26]>>>7,De=R[36]<<21|R[37]>>>11,x=R[37]<<21|R[36]>>>11,ei=R[47]<<24|R[46]>>>8,br=R[46]<<24|R[47]>>>8,li=R[8]<<27|R[9]>>>5,ur=R[9]<<27|R[8]>>>5,we=R[18]<<20|R[19]>>>12,Ee=R[19]<<20|R[18]>>>12,vi=R[29]<<7|R[28]>>>25,pn=R[28]<<7|R[29]>>>25,Jr=R[38]<<8|R[39]>>>24,_n=R[39]<<8|R[38]>>>24,p=R[48]<<14|R[49]>>>18,m=R[49]<<14|R[48]>>>18,R[0]=N^~ve&ut,R[1]=Q^~Ke&se,R[10]=z^~we&We,R[11]=re^~Ee&ft,R[20]=qt^~Zn&fi,R[21]=jr^~fr&Rn,R[30]=li^~hi&Un,R[31]=ur^~cn&Dn,R[40]=ti^~di&vi,R[41]=Bi^~pi&pn,R[2]=ve^~ut&De,R[3]=Ke^~se&x,R[12]=we^~We&Et,R[13]=Ee^~ft&At,R[22]=Zn^~fi&Jr,R[23]=fr^~Rn&_n,R[32]=hi^~Un&dn,R[33]=cn^~Dn&un,R[42]=di^~vi&Ti,R[43]=pi^~pn&ki,R[4]=ut^~De&p,R[5]=se^~x&m,R[14]=We^~Et&zt,R[15]=ft^~At&hn,R[24]=fi^~Jr&Nn,R[25]=Rn^~_n&Qn,R[34]=Un^~dn&ei,R[35]=Dn^~un&br,R[44]=vi^~Ti&Qt,R[45]=pn^~ki&On,R[6]=De^~p&N,R[7]=x^~m&Q,R[16]=Et^~zt&z,R[17]=At^~hn&re,R[26]=Jr^~Nn&qt,R[27]=_n^~Qn&jr,R[36]=dn^~ei&li,R[37]=un^~br&ur,R[46]=Ti^~Qt&ti,R[47]=ki^~On&Bi,R[8]=p^~N&ve,R[9]=m^~Q&Ke,R[18]=zt^~z&we,R[19]=hn^~re&Ee,R[28]=Nn^~qt&Zn,R[29]=Qn^~jr&fr,R[38]=ei^~li&hi,R[39]=br^~ur&cn,R[48]=Qt^~ti&di,R[49]=On^~Bi&pi,R[0]^=k[H],R[1]^=k[H+1]};if(f)r.exports=xt;else for(Dt=0;Dt<lt.length;++Dt)o[lt[Dt]]=xt[lt[Dt]]})()}),SE=Zt(function(r,e){(function(t,n){var o={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function a(k){if(!Array.isArray(k)&&!ArrayBuffer.isView(k))return!1;for(var K=0;K<k.length;K++)if(!Number.isInteger(k[K])||k[K]<0||k[K]>255)return!1;return!0}function u(k,K){return(k&65535)*K+(((k>>>16)*K&65535)<<16)}function f(k,K){return k<<K|k>>>32-K}function h(k){return k^=k>>>16,k=u(k,2246822507),k^=k>>>13,k=u(k,3266489909),k^=k>>>16,k}function c(k,K){k=[k[0]>>>16,k[0]&65535,k[1]>>>16,k[1]&65535],K=[K[0]>>>16,K[0]&65535,K[1]>>>16,K[1]&65535];var he=[0,0,0,0];return he[3]+=k[3]+K[3],he[2]+=he[3]>>>16,he[3]&=65535,he[2]+=k[2]+K[2],he[1]+=he[2]>>>16,he[2]&=65535,he[1]+=k[1]+K[1],he[0]+=he[1]>>>16,he[1]&=65535,he[0]+=k[0]+K[0],he[0]&=65535,[he[0]<<16|he[1],he[2]<<16|he[3]]}function y(k,K){k=[k[0]>>>16,k[0]&65535,k[1]>>>16,k[1]&65535],K=[K[0]>>>16,K[0]&65535,K[1]>>>16,K[1]&65535];var he=[0,0,0,0];return he[3]+=k[3]*K[3],he[2]+=he[3]>>>16,he[3]&=65535,he[2]+=k[2]*K[3],he[1]+=he[2]>>>16,he[2]&=65535,he[2]+=k[3]*K[2],he[1]+=he[2]>>>16,he[2]&=65535,he[1]+=k[1]*K[3],he[0]+=he[1]>>>16,he[1]&=65535,he[1]+=k[2]*K[2],he[0]+=he[1]>>>16,he[1]&=65535,he[1]+=k[3]*K[1],he[0]+=he[1]>>>16,he[1]&=65535,he[0]+=k[0]*K[3]+k[1]*K[2]+k[2]*K[1]+k[3]*K[0],he[0]&=65535,[he[0]<<16|he[1],he[2]<<16|he[3]]}function _(k,K){return K%=64,K===32?[k[1],k[0]]:K<32?[k[0]<<K|k[1]>>>32-K,k[1]<<K|k[0]>>>32-K]:(K-=32,[k[1]<<K|k[0]>>>32-K,k[0]<<K|k[1]>>>32-K])}function A(k,K){return K%=64,K===0?k:K<32?[k[0]<<K|k[1]>>>32-K,k[1]<<K]:[k[1]<<K-32,0]}function F(k,K){return[k[0]^K[0],k[1]^K[1]]}function D(k){return k=F(k,[0,k[0]>>>1]),k=y(k,[4283543511,3981806797]),k=F(k,[0,k[0]>>>1]),k=y(k,[3301882366,444984403]),k=F(k,[0,k[0]>>>1]),k}o.x86.hash32=function(k,K){if(o.inputValidation&&!a(k))return n;K=K||0;for(var he=k.length%4,ge=k.length-he,ke=K,fe=0,V=3432918353,ce=461845907,Se=0;Se<ge;Se=Se+4)fe=k[Se]|k[Se+1]<<8|k[Se+2]<<16|k[Se+3]<<24,fe=u(fe,V),fe=f(fe,15),fe=u(fe,ce),ke^=fe,ke=f(ke,13),ke=u(ke,5)+3864292196;switch(fe=0,he){case 3:fe^=k[Se+2]<<16;case 2:fe^=k[Se+1]<<8;case 1:fe^=k[Se],fe=u(fe,V),fe=f(fe,15),fe=u(fe,ce),ke^=fe}return ke^=k.length,ke=h(ke),ke>>>0},o.x86.hash128=function(k,K){if(o.inputValidation&&!a(k))return n;K=K||0;for(var he=k.length%16,ge=k.length-he,ke=K,fe=K,V=K,ce=K,Se=0,le=0,Oe=0,Pe=0,vt=597399067,dt=2869860233,pt=951274213,xt=2716044179,lt=0;lt<ge;lt=lt+16)Se=k[lt]|k[lt+1]<<8|k[lt+2]<<16|k[lt+3]<<24,le=k[lt+4]|k[lt+5]<<8|k[lt+6]<<16|k[lt+7]<<24,Oe=k[lt+8]|k[lt+9]<<8|k[lt+10]<<16|k[lt+11]<<24,Pe=k[lt+12]|k[lt+13]<<8|k[lt+14]<<16|k[lt+15]<<24,Se=u(Se,vt),Se=f(Se,15),Se=u(Se,dt),ke^=Se,ke=f(ke,19),ke+=fe,ke=u(ke,5)+1444728091,le=u(le,dt),le=f(le,16),le=u(le,pt),fe^=le,fe=f(fe,17),fe+=V,fe=u(fe,5)+197830471,Oe=u(Oe,pt),Oe=f(Oe,17),Oe=u(Oe,xt),V^=Oe,V=f(V,15),V+=ce,V=u(V,5)+2530024501,Pe=u(Pe,xt),Pe=f(Pe,18),Pe=u(Pe,vt),ce^=Pe,ce=f(ce,13),ce+=ke,ce=u(ce,5)+850148119;switch(Se=0,le=0,Oe=0,Pe=0,he){case 15:Pe^=k[lt+14]<<16;case 14:Pe^=k[lt+13]<<8;case 13:Pe^=k[lt+12],Pe=u(Pe,xt),Pe=f(Pe,18),Pe=u(Pe,vt),ce^=Pe;case 12:Oe^=k[lt+11]<<24;case 11:Oe^=k[lt+10]<<16;case 10:Oe^=k[lt+9]<<8;case 9:Oe^=k[lt+8],Oe=u(Oe,pt),Oe=f(Oe,17),Oe=u(Oe,xt),V^=Oe;case 8:le^=k[lt+7]<<24;case 7:le^=k[lt+6]<<16;case 6:le^=k[lt+5]<<8;case 5:le^=k[lt+4],le=u(le,dt),le=f(le,16),le=u(le,pt),fe^=le;case 4:Se^=k[lt+3]<<24;case 3:Se^=k[lt+2]<<16;case 2:Se^=k[lt+1]<<8;case 1:Se^=k[lt],Se=u(Se,vt),Se=f(Se,15),Se=u(Se,dt),ke^=Se}return ke^=k.length,fe^=k.length,V^=k.length,ce^=k.length,ke+=fe,ke+=V,ke+=ce,fe+=ke,V+=ke,ce+=ke,ke=h(ke),fe=h(fe),V=h(V),ce=h(ce),ke+=fe,ke+=V,ke+=ce,fe+=ke,V+=ke,ce+=ke,("00000000"+(ke>>>0).toString(16)).slice(-8)+("00000000"+(fe>>>0).toString(16)).slice(-8)+("00000000"+(V>>>0).toString(16)).slice(-8)+("00000000"+(ce>>>0).toString(16)).slice(-8)},o.x64.hash128=function(k,K){if(o.inputValidation&&!a(k))return n;K=K||0;for(var he=k.length%16,ge=k.length-he,ke=[0,K],fe=[0,K],V=[0,0],ce=[0,0],Se=[2277735313,289559509],le=[1291169091,658871167],Oe=0;Oe<ge;Oe=Oe+16)V=[k[Oe+4]|k[Oe+5]<<8|k[Oe+6]<<16|k[Oe+7]<<24,k[Oe]|k[Oe+1]<<8|k[Oe+2]<<16|k[Oe+3]<<24],ce=[k[Oe+12]|k[Oe+13]<<8|k[Oe+14]<<16|k[Oe+15]<<24,k[Oe+8]|k[Oe+9]<<8|k[Oe+10]<<16|k[Oe+11]<<24],V=y(V,Se),V=_(V,31),V=y(V,le),ke=F(ke,V),ke=_(ke,27),ke=c(ke,fe),ke=c(y(ke,[0,5]),[0,1390208809]),ce=y(ce,le),ce=_(ce,33),ce=y(ce,Se),fe=F(fe,ce),fe=_(fe,31),fe=c(fe,ke),fe=c(y(fe,[0,5]),[0,944331445]);switch(V=[0,0],ce=[0,0],he){case 15:ce=F(ce,A([0,k[Oe+14]],48));case 14:ce=F(ce,A([0,k[Oe+13]],40));case 13:ce=F(ce,A([0,k[Oe+12]],32));case 12:ce=F(ce,A([0,k[Oe+11]],24));case 11:ce=F(ce,A([0,k[Oe+10]],16));case 10:ce=F(ce,A([0,k[Oe+9]],8));case 9:ce=F(ce,[0,k[Oe+8]]),ce=y(ce,le),ce=_(ce,33),ce=y(ce,Se),fe=F(fe,ce);case 8:V=F(V,A([0,k[Oe+7]],56));case 7:V=F(V,A([0,k[Oe+6]],48));case 6:V=F(V,A([0,k[Oe+5]],40));case 5:V=F(V,A([0,k[Oe+4]],32));case 4:V=F(V,A([0,k[Oe+3]],24));case 3:V=F(V,A([0,k[Oe+2]],16));case 2:V=F(V,A([0,k[Oe+1]],8));case 1:V=F(V,[0,k[Oe]]),V=y(V,Se),V=_(V,31),V=y(V,le),ke=F(ke,V)}return ke=F(ke,[0,k.length]),fe=F(fe,[0,k.length]),ke=c(ke,fe),fe=c(fe,ke),ke=D(ke),fe=D(fe),ke=c(ke,fe),fe=c(fe,ke),("00000000"+(ke[0]>>>0).toString(16)).slice(-8)+("00000000"+(ke[1]>>>0).toString(16)).slice(-8)+("00000000"+(fe[0]>>>0).toString(16)).slice(-8)+("00000000"+(fe[1]>>>0).toString(16)).slice(-8)},r.exports&&(e=r.exports=o),e.murmurHash3=o})()}),uv=SE;const bs=self.crypto||self.msCrypto,ih=async(r,e)=>{if(typeof self=="undefined"||!self.crypto&&!self.msCrypto)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(e){case"sha1":return new Uint8Array(await bs.subtle.digest({name:"SHA-1"},r));case"sha2-256":return new Uint8Array(await bs.subtle.digest({name:"SHA-256"},r));case"sha2-512":return new Uint8Array(await bs.subtle.digest({name:"SHA-512"},r));case"dbl-sha2-256":{const t=await bs.subtle.digest({name:"SHA-256"},r);return new Uint8Array(await bs.subtle.digest({name:"SHA-256"},t))}default:throw new Error(`${e} is not a supported algorithm`)}};var IE={factory:r=>async e=>ih(e,r),digest:ih,multihashing:async(r,e,t)=>{const n=await ih(r,e);return ro.encode(n,e,t)}},BE={fromNumberTo32BitBuf:r=>{const e=new Uint8Array(4);for(let t=0;t<4;t++)e[t]=r&255,r=r>>8;return e}},TE="Input must be an string, Buffer or Uint8Array";function kE(r){var e;if(r instanceof Uint8Array)e=r;else if(r instanceof Fr.Buffer)e=new Uint8Array(r);else if(typeof r=="string")e=new Uint8Array(Fr.Buffer.from(r,"utf8"));else throw new Error(TE);return e}function FE(r){return Array.prototype.map.call(r,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function Lc(r){return(4294967296+r).toString(16).substring(1)}function CE(r,e,t){for(var n=`
`+r+" = ",o=0;o<e.length;o+=2){if(t===32)n+=Lc(e[o]).toUpperCase(),n+=" ",n+=Lc(e[o+1]).toUpperCase();else if(t===64)n+=Lc(e[o+1]).toUpperCase(),n+=Lc(e[o]).toUpperCase();else throw new Error("Invalid size "+t);o%6==4?n+=`
`+new Array(r.length+4).join(" "):o<e.length-2&&(n+=" ")}console.log(n)}function RE(r,e,t){for(var n=new Date().getTime(),o=new Uint8Array(e),a=0;a<e;a++)o[a]=a%256;var u=new Date().getTime();for(console.log("Generated random input in "+(u-n)+"ms"),n=u,a=0;a<t;a++){var f=r(o),h=new Date().getTime(),c=h-n;n=h,console.log("Hashed in "+c+"ms: "+f.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}var Pc={normalizeInput:kE,toHex:FE,debugPrint:CE,testSpeed:RE};function Mc(r,e,t){var n=r[e]+r[t],o=r[e+1]+r[t+1];n>=4294967296&&o++,r[e]=n,r[e+1]=o}function sv(r,e,t,n){var o=r[e]+t;t<0&&(o+=4294967296);var a=r[e+1]+n;o>=4294967296&&a++,r[e]=o,r[e+1]=a}function NE(r,e){return r[e]^r[e+1]<<8^r[e+2]<<16^r[e+3]<<24}function oa(r,e,t,n,o,a){var u=_s[o],f=_s[o+1],h=_s[a],c=_s[a+1];Mc(Gt,r,e),sv(Gt,r,u,f);var y=Gt[n]^Gt[r],_=Gt[n+1]^Gt[r+1];Gt[n]=_,Gt[n+1]=y,Mc(Gt,t,n),y=Gt[e]^Gt[t],_=Gt[e+1]^Gt[t+1],Gt[e]=y>>>24^_<<8,Gt[e+1]=_>>>24^y<<8,Mc(Gt,r,e),sv(Gt,r,h,c),y=Gt[n]^Gt[r],_=Gt[n+1]^Gt[r+1],Gt[n]=y>>>16^_<<16,Gt[n+1]=_>>>16^y<<16,Mc(Gt,t,n),y=Gt[e]^Gt[t],_=Gt[e+1]^Gt[t+1],Gt[e]=_>>>31^y<<1,Gt[e+1]=y>>>31^_<<1}var cv=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),UE=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],kn=new Uint8Array(UE.map(function(r){return r*2})),Gt=new Uint32Array(32),_s=new Uint32Array(32);function fv(r,e){var t=0;for(t=0;t<16;t++)Gt[t]=r.h[t],Gt[t+16]=cv[t];for(Gt[24]=Gt[24]^r.t,Gt[25]=Gt[25]^r.t/4294967296,e&&(Gt[28]=~Gt[28],Gt[29]=~Gt[29]),t=0;t<32;t++)_s[t]=NE(r.b,4*t);for(t=0;t<12;t++)oa(0,8,16,24,kn[t*16+0],kn[t*16+1]),oa(2,10,18,26,kn[t*16+2],kn[t*16+3]),oa(4,12,20,28,kn[t*16+4],kn[t*16+5]),oa(6,14,22,30,kn[t*16+6],kn[t*16+7]),oa(0,10,20,30,kn[t*16+8],kn[t*16+9]),oa(2,12,22,24,kn[t*16+10],kn[t*16+11]),oa(4,14,16,26,kn[t*16+12],kn[t*16+13]),oa(6,8,18,28,kn[t*16+14],kn[t*16+15]);for(t=0;t<16;t++)r.h[t]=r.h[t]^Gt[t]^Gt[t+16]}function lv(r,e){if(r===0||r>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var t={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:r},n=0;n<16;n++)t.h[n]=cv[n];var o=e?e.length:0;return t.h[0]^=16842752^o<<8^r,e&&(oh(t,e),t.c=128),t}function oh(r,e){for(var t=0;t<e.length;t++)r.c===128&&(r.t+=r.c,fv(r,!1),r.c=0),r.b[r.c++]=e[t]}function hv(r){for(r.t+=r.c;r.c<128;)r.b[r.c++]=0;fv(r,!0);for(var e=new Uint8Array(r.outlen),t=0;t<r.outlen;t++)e[t]=r.h[t>>2]>>8*(t&3);return e}function dv(r,e,t){t=t||64,r=Pc.normalizeInput(r);var n=lv(t,e);return oh(n,r),hv(n)}function DE(r,e,t){var n=dv(r,e,t);return Pc.toHex(n)}var ws={blake2b:dv,blake2bHex:DE,blake2bInit:lv,blake2bUpdate:oh,blake2bFinal:hv};function OE(r,e){return r[e]^r[e+1]<<8^r[e+2]<<16^r[e+3]<<24}function aa(r,e,t,n,o,a){Br[r]=Br[r]+Br[e]+o,Br[n]=$c(Br[n]^Br[r],16),Br[t]=Br[t]+Br[n],Br[e]=$c(Br[e]^Br[t],12),Br[r]=Br[r]+Br[e]+a,Br[n]=$c(Br[n]^Br[r],8),Br[t]=Br[t]+Br[n],Br[e]=$c(Br[e]^Br[t],7)}function $c(r,e){return r>>>e^r<<32-e}var pv=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fn=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),Br=new Uint32Array(16),bn=new Uint32Array(16);function vv(r,e){var t=0;for(t=0;t<8;t++)Br[t]=r.h[t],Br[t+8]=pv[t];for(Br[12]^=r.t,Br[13]^=r.t/4294967296,e&&(Br[14]=~Br[14]),t=0;t<16;t++)bn[t]=OE(r.b,4*t);for(t=0;t<10;t++)aa(0,4,8,12,bn[Fn[t*16+0]],bn[Fn[t*16+1]]),aa(1,5,9,13,bn[Fn[t*16+2]],bn[Fn[t*16+3]]),aa(2,6,10,14,bn[Fn[t*16+4]],bn[Fn[t*16+5]]),aa(3,7,11,15,bn[Fn[t*16+6]],bn[Fn[t*16+7]]),aa(0,5,10,15,bn[Fn[t*16+8]],bn[Fn[t*16+9]]),aa(1,6,11,12,bn[Fn[t*16+10]],bn[Fn[t*16+11]]),aa(2,7,8,13,bn[Fn[t*16+12]],bn[Fn[t*16+13]]),aa(3,4,9,14,bn[Fn[t*16+14]],bn[Fn[t*16+15]]);for(t=0;t<8;t++)r.h[t]^=Br[t]^Br[t+8]}function yv(r,e){if(!(r>0&&r<=32))throw new Error("Incorrect output length, should be in [1, 32]");var t=e?e.length:0;if(e&&!(t>0&&t<=32))throw new Error("Incorrect key length, should be in [1, 32]");var n={h:new Uint32Array(pv),b:new Uint32Array(64),c:0,t:0,outlen:r};return n.h[0]^=16842752^t<<8^r,t>0&&(ah(n,e),n.c=64),n}function ah(r,e){for(var t=0;t<e.length;t++)r.c===64&&(r.t+=r.c,vv(r,!1),r.c=0),r.b[r.c++]=e[t]}function mv(r){for(r.t+=r.c;r.c<64;)r.b[r.c++]=0;vv(r,!0);for(var e=new Uint8Array(r.outlen),t=0;t<r.outlen;t++)e[t]=r.h[t>>2]>>8*(t&3)&255;return e}function gv(r,e,t){t=t||32,r=Pc.normalizeInput(r);var n=yv(t,e);return ah(n,r),mv(n)}function LE(r,e,t){var n=gv(r,e,t);return Pc.toHex(n)}var xs={blake2s:gv,blake2sHex:LE,blake2sInit:yv,blake2sUpdate:ah,blake2sFinal:mv},gu={blake2b:ws.blake2b,blake2bHex:ws.blake2bHex,blake2bInit:ws.blake2bInit,blake2bUpdate:ws.blake2bUpdate,blake2bFinal:ws.blake2bFinal,blake2s:xs.blake2s,blake2sHex:xs.blake2sHex,blake2sInit:xs.blake2sInit,blake2sUpdate:xs.blake2sUpdate,blake2sFinal:xs.blake2sFinal};const PE=45569,ME=45633,$E={init:gu.blake2bInit,update:gu.blake2bUpdate,digest:gu.blake2bFinal},zE={init:gu.blake2sInit,update:gu.blake2sUpdate,digest:gu.blake2sFinal},bv=(r,e)=>async t=>{const n=e.init(r,null);return e.update(n,t),e.digest(n)};var KE=r=>{for(let e=0;e<64;e++)r[PE+e]=bv(e+1,$E);for(let e=0;e<32;e++)r[ME+e]=bv(e+1,zE)};const{factory:zc}=IE,{fromNumberTo32BitBuf:HE}=BE,Si=r=>async e=>{switch(r){case"sha3-224":return new Uint8Array(io.sha3_224.arrayBuffer(e));case"sha3-256":return new Uint8Array(io.sha3_256.arrayBuffer(e));case"sha3-384":return new Uint8Array(io.sha3_384.arrayBuffer(e));case"sha3-512":return new Uint8Array(io.sha3_512.arrayBuffer(e));case"shake-128":return new Uint8Array(io.shake128.create(128).update(e).arrayBuffer());case"shake-256":return new Uint8Array(io.shake256.create(256).update(e).arrayBuffer());case"keccak-224":return new Uint8Array(io.keccak224.arrayBuffer(e));case"keccak-256":return new Uint8Array(io.keccak256.arrayBuffer(e));case"keccak-384":return new Uint8Array(io.keccak384.arrayBuffer(e));case"keccak-512":return new Uint8Array(io.keccak512.arrayBuffer(e));case"murmur3-128":return Ka(uv.x64.hash128(e),"base16");case"murmur3-32":return HE(uv.x86.hash32(e));default:throw new TypeError(`${r} is not a supported algorithm`)}};var ln={identity:r=>r,sha1:zc("sha1"),sha2256:zc("sha2-256"),sha2512:zc("sha2-512"),dblSha2256:zc("dbl-sha2-256"),sha3224:Si("sha3-224"),sha3256:Si("sha3-256"),sha3384:Si("sha3-384"),sha3512:Si("sha3-512"),shake128:Si("shake-128"),shake256:Si("shake-256"),keccak224:Si("keccak-224"),keccak256:Si("keccak-256"),keccak384:Si("keccak-384"),keccak512:Si("keccak-512"),murmur3128:Si("murmur3-128"),murmur332:Si("murmur3-32"),addBlake:KE};function GE(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}var _v=GE;async function Ii(r,e,t){const n=await Ii.digest(r,e,t);return ro.encode(n,e,t)}Ii.multihash=ro,Ii.digest=async(r,e,t)=>{const o=await Ii.createHash(e)(r);return t?o.slice(0,t):o},Ii.createHash=function(r){if(!r)throw av(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");if(r=ro.coerceCode(r),!Ii.functions[r])throw av(new Error(`multihash function '${r}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return Ii.functions[r]},Ii.functions={0:ln.identity,17:ln.sha1,18:ln.sha2256,19:ln.sha2512,20:ln.sha3512,21:ln.sha3384,22:ln.sha3256,23:ln.sha3224,24:ln.shake128,25:ln.shake256,26:ln.keccak224,27:ln.keccak256,28:ln.keccak384,29:ln.keccak512,34:ln.murmur3128,35:ln.murmur332,86:ln.dblSha2256},ln.addBlake(Ii.functions),Ii.validate=async(r,e)=>{const t=await Ii(r,ro.decode(e).name);return _v(e,t)};var WE=Ii,Kc=Zt(function(r,e){e=r.exports,e.codec=Bo.DAG_PB,e.defaultHashAlg=Bo.SHA2_256;const t=async(n,o)=>{const a={cidVersion:1,hashAlg:e.defaultHashAlg},u=Object.assign(a,o),f=await WE(n,u.hashAlg),h=Bo.print[e.codec];return new ra(u.cidVersion,h,f)};e.cid=t}),jE=async(r,e={})=>{const t=await Kc.cid(r.serialize(),e);return new ia(e.name||"",r.size,t)},YE=Zt(function(r,e){function t(n){return new ia(n.Name||n.name||"",n.Tsize||n.Size||n.size||0,n.Hash||n.hash||n.multihash||n.cid)}e=r.exports,e.createDagLinkFromB58EncodedHash=t}),uh=Zt(function(r,e){e=r.exports=ia,e.util=YE});const qE=r=>{if(uh.isDAGLink(r))return r;if(!("cid"in r||"hash"in r||"Hash"in r||"multihash"in r))throw new Error("Link must be a DAGLink or DAGLink-like. Convert the DAGNode into a DAGLink via `node.toDAGLink()`.");return new uh(r.Name||r.name,r.Tsize||r.size,r.Hash||r.multihash||r.hash||r.cid)};var VE=(r,e)=>{const t=qE(e);r.Links.push(t),m1(r.Links)},XE=(r,e)=>{let t=null;if(typeof e=="string"?t=n=>n.Name===e:(e instanceof Uint8Array||ra.isCID(e))&&(t=n=>_v(n.Hash,e)),t){const n=r.Links;let o=0;for(;o<n.length;){const a=n[o];t(a)?n.splice(o,1):o++}}else throw new Error("second arg needs to be a name or CID")},sh=Zt(function(r,e){const{serializeDAGNode:t}=iv;class n{constructor(a,u=[],f=null){if(a||(a=new Uint8Array(0)),typeof a=="string"&&(a=Ka(a)),!(a instanceof Uint8Array))throw new Error("Passed 'data' is not a Uint8Array or a String!");if(f!==null&&typeof f!="number")throw new Error("Passed 'serializedSize' must be a number!");u=u.map(h=>ia.isDAGLink(h)?h:ia.util.createDagLinkFromB58EncodedHash(h)),m1(u),Object.defineProperties(this,{Data:{value:a,writable:!1,enumerable:!0},Links:{value:u,writable:!1,enumerable:!0},_serializedSize:{value:f,writable:!0,enumerable:!1},_size:{value:null,writable:!0,enumerable:!1}})}toJSON(){return this._json||(this._json=Object.freeze({data:this.Data,links:this.Links.map(a=>a.toJSON()),size:this.size})),Object.assign({},this._json)}toString(){return`DAGNode <data: "${Ll(this.Data,"base64urlpad")}", links: ${this.Links.length}, size: ${this.size}>`}_invalidateCached(){this._serializedSize=null,this._size=null}addLink(a){return this._invalidateCached(),VE(this,a)}rmLink(a){return this._invalidateCached(),XE(this,a)}toDAGLink(a){return jE(this,a)}serialize(){return t(this)}get size(){return this._size===null&&(this._serializedSize===null&&(this._serializedSize=this.serialize().length),this._size=this.Links.reduce((a,u)=>a+u.Tsize,this._serializedSize)),this._size}set size(a){throw new Error("Can't set property: 'size' is immutable")}}r.exports=ql(n,{className:"DAGNode",symbolName:"@ipld/js-ipld-dag-pb/dagnode"})}),JE=Zt(function(r,e){r.exports=sh}),ch=Zt(function(r,e){const t=rv(nv),{serializeDAGNodeLike:n}=iv;e=r.exports,e.codec=Kc.codec,e.defaultHashAlg=Kc.defaultHashAlg;const o=(f,h)=>Kc.cid(f,h),a=f=>sh.isDAGNode(f)?f.serialize():n(f.Data,f.Links),u=f=>{const h=t.PBNode.decode(f),c=h.Links.map(_=>new ia(_.Name,_.Tsize,_.Hash)),y=h.Data==null?new Uint8Array(0):h.Data;return new sh(y,c,f.byteLength)};e.serialize=a,e.deserialize=u,e.cid=o}),ZE=(r,e)=>{let t=ch.deserialize(r);const n=e.split("/").filter(Boolean);for(;n.length;){const o=n.shift();if(t[o]===void 0){for(const a of t.Links)if(a.Name===o)return{value:a.Hash,remainderPath:n.join("/")};throw new Error(`Object has no property '${o}'`)}if(t=t[o],ra.isCID(t))return{value:t,remainderPath:n.join("/")}}return{value:t,remainderPath:""}},QE=function*(r){const e=ch.deserialize(r);yield"Data",yield"Links";for(let t=0;t<e.Links.length;t++)yield`Links/${t}`,yield`Links/${t}/Name`,yield`Links/${t}/Tsize`,yield`Links/${t}/Hash`},eA={resolve:ZE,tree:QE},Hc=Zt(function(r,e){e.DAGNode=JE,e.DAGLink=uh,e.resolver=eA,e.util=ch,e.codec=e.util.codec,e.defaultHashAlg=e.util.defaultHashAlg}),wv=function(r){return new Hc.DAGLink(r.Name,r.Tsize,r.Hash)},tA=function(r){var e,t,n,o=(e=r==null?void 0:r.value)===null||e===void 0?void 0:e.Data,a=(n=(t=r==null?void 0:r.value)===null||t===void 0?void 0:t.Links)===null||n===void 0?void 0:n.map(wv);return new Hc.DAGNode(o,a)},rA={rawToDAGLink:wv,rawToDAGNode:tA},xv=Fr.Buffer.from([8,1]),fh=function(r){return ae(void 0,void 0,void 0,function(){var e,t;return ue(this,function(n){switch(n.label){case 0:return[4,na()];case 1:return e=n.sent(),[4,e.add(r,{cidVersion:1,pin:!0})];case 2:return t=n.sent(),[2,{cid:t.cid.toString(),size:t.size,isFile:!0}]}})})},Ev=function(r){return ae(void 0,void 0,void 0,function(){var e,t,n,o,a,u,f,h;return ue(this,function(c){switch(c.label){case 0:return[4,na()];case 1:return e=c.sent(),t=[],[4,jc(r)];case 2:c.sent(),c.label=3;case 3:c.trys.push([3,8,9,14]),n=vd(e.cat(r)),c.label=4;case 4:return[4,n.next()];case 5:if(o=c.sent(),!!o.done)return[3,7];a=o.value,t.push(a),c.label=6;case 6:return[3,4];case 7:return[3,14];case 8:return u=c.sent(),f={error:u},[3,14];case 9:return c.trys.push([9,,12,13]),o&&!o.done&&(h=n.return)?[4,h.call(n)]:[3,11];case 10:c.sent(),c.label=11;case 11:return[3,13];case 12:if(f)throw f.error;return[7];case 13:return[7];case 14:return[2,t]}})})},Gc=function(r){return ae(void 0,void 0,void 0,function(){var e;return ue(this,function(t){switch(t.label){case 0:return[4,Ev(r)];case 1:return e=t.sent(),[2,Fr.Buffer.concat(e)]}})})},lh=function(r){return ae(void 0,void 0,void 0,function(){var e;return ue(this,function(t){switch(t.label){case 0:return[4,Gc(r)];case 1:return e=t.sent(),[2,e.toString()]}})})},Av=function(r){return ae(void 0,void 0,void 0,function(){var e,t,n,o,a,u,f,h;return ue(this,function(c){switch(c.label){case 0:return[4,na()];case 1:e=c.sent(),t=[],c.label=2;case 2:c.trys.push([2,7,8,13]),n=vd(e.ls(r)),c.label=3;case 3:return[4,n.next()];case 4:if(o=c.sent(),!!o.done)return[3,6];a=o.value,t.push(a),c.label=5;case 5:return[3,3];case 6:return[3,13];case 7:return u=c.sent(),f={error:u},[3,13];case 8:return c.trys.push([8,,11,12]),o&&!o.done&&(h=n.return)?[4,h.call(n)]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,12];case 11:if(f)throw f.error;return[7];case 12:return[7];case 13:return[2,t]}})})},Wc=function(r){return ae(void 0,void 0,void 0,function(){var e,t,n;return ue(this,function(o){switch(o.label){case 0:return[4,na()];case 1:return e=o.sent(),[4,jc(r)];case 2:return o.sent(),[4,e.dag.get(new ra(r))];case 3:return t=o.sent(),n=rA.rawToDAGNode(t),[2,n]}})})},Sv=function(r){return ae(void 0,void 0,void 0,function(){var e,t,n,o;return ue(this,function(a){switch(a.label){case 0:return[4,na()];case 1:return e=a.sent(),[4,e.dag.put(r,{format:"dag-pb",hashAlg:"sha2-256"})];case 2:return t=a.sent(),n=t.toV1().toString(),[4,jc(n)];case 3:return a.sent(),[4,Es(n)];case 4:return o=a.sent(),[2,{cid:n,size:o,isFile:!1}]}})})},hh=function(r){return ae(void 0,void 0,void 0,function(){var e;return ue(this,function(t){return e=new Hc.DAGNode(xv,r),[2,Sv(e)]})})},Es=function(r){return ae(void 0,void 0,void 0,function(){var e,t;return ue(this,function(n){switch(n.label){case 0:return[4,na()];case 1:return e=n.sent(),[4,e.files.stat("/ipfs/"+r)];case 2:return t=n.sent(),[2,t.cumulativeSize]}})})},jc=function(r){return ae(void 0,void 0,void 0,function(){var e,t;return ue(this,function(n){switch(n.label){case 0:return[4,na()];case 1:e=n.sent(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,e.pin.add(r,{recursive:!1})];case 3:return n.sent(),[3,5];case 4:if(t=n.sent(),!t.message||!t.message.includes("already pinned recursively"))throw new Error(t);return[3,5];case 5:return[2]}})})};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Yc=Zt(function(r,e){var t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=he,e.INSPECT_MAX_BYTES=50;var n=2147483647;e.kMaxLength=n,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var S=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(S,d),S.foo()===42}catch(v){return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function a(S){if(S>n)throw new RangeError('The value "'+S+'" is invalid for option "size"');var d=new Uint8Array(S);return Object.setPrototypeOf(d,u.prototype),d}function u(S,d,v){if(typeof S=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(S)}return f(S,d,v)}u.poolSize=8192;function f(S,d,v){if(typeof S=="string")return _(S,d);if(ArrayBuffer.isView(S))return F(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(q(S,ArrayBuffer)||S&&q(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(q(S,SharedArrayBuffer)||S&&q(S.buffer,SharedArrayBuffer)))return D(S,d,v);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var I=S.valueOf&&S.valueOf();if(I!=null&&I!==S)return u.from(I,d,v);var N=k(S);if(N)return N;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return u.from(S[Symbol.toPrimitive]("string"),d,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}u.from=function(S,d,v){return f(S,d,v)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function h(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function c(S,d,v){return h(S),S<=0?a(S):d!==void 0?typeof v=="string"?a(S).fill(d,v):a(S).fill(d):a(S)}u.alloc=function(S,d,v){return c(S,d,v)};function y(S){return h(S),a(S<0?0:K(S)|0)}u.allocUnsafe=function(S){return y(S)},u.allocUnsafeSlow=function(S){return y(S)};function _(S,d){if((typeof d!="string"||d==="")&&(d="utf8"),!u.isEncoding(d))throw new TypeError("Unknown encoding: "+d);var v=ge(S,d)|0,I=a(v),N=I.write(S,d);return N!==v&&(I=I.slice(0,N)),I}function A(S){for(var d=S.length<0?0:K(S.length)|0,v=a(d),I=0;I<d;I+=1)v[I]=S[I]&255;return v}function F(S){if(q(S,Uint8Array)){var d=new Uint8Array(S);return D(d.buffer,d.byteOffset,d.byteLength)}return A(S)}function D(S,d,v){if(d<0||S.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<d+(v||0))throw new RangeError('"length" is outside of buffer bounds');var I;return d===void 0&&v===void 0?I=new Uint8Array(S):v===void 0?I=new Uint8Array(S,d):I=new Uint8Array(S,d,v),Object.setPrototypeOf(I,u.prototype),I}function k(S){if(u.isBuffer(S)){var d=K(S.length)|0,v=a(d);return v.length===0||S.copy(v,0,0,d),v}if(S.length!==void 0)return typeof S.length!="number"||X(S.length)?a(0):A(S);if(S.type==="Buffer"&&Array.isArray(S.data))return A(S.data)}function K(S){if(S>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return S|0}function he(S){return+S!=S&&(S=0),u.alloc(+S)}u.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==u.prototype},u.compare=function(d,v){if(q(d,Uint8Array)&&(d=u.from(d,d.offset,d.byteLength)),q(v,Uint8Array)&&(v=u.from(v,v.offset,v.byteLength)),!u.isBuffer(d)||!u.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===v)return 0;for(var I=d.length,N=v.length,Q=0,ve=Math.min(I,N);Q<ve;++Q)if(d[Q]!==v[Q]){I=d[Q],N=v[Q];break}return I<N?-1:N<I?1:0},u.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(d,v){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return u.alloc(0);var I;if(v===void 0)for(v=0,I=0;I<d.length;++I)v+=d[I].length;var N=u.allocUnsafe(v),Q=0;for(I=0;I<d.length;++I){var ve=d[I];if(q(ve,Uint8Array))Q+ve.length>N.length?u.from(ve).copy(N,Q):Uint8Array.prototype.set.call(N,ve,Q);else if(u.isBuffer(ve))ve.copy(N,Q);else throw new TypeError('"list" argument must be an Array of Buffers');Q+=ve.length}return N};function ge(S,d){if(u.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||q(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);var v=S.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&v===0)return 0;for(var N=!1;;)switch(d){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return M(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return T(S).length;default:if(N)return I?-1:M(S).length;d=(""+d).toLowerCase(),N=!0}}u.byteLength=ge;function ke(S,d,v){var I=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,d>>>=0,v<=d))return"";for(S||(S="utf8");;)switch(S){case"hex":return Yt(this,d,v);case"utf8":case"utf-8":return pt(this,d,v);case"ascii":return Dt(this,d,v);case"latin1":case"binary":return Rt(this,d,v);case"base64":return dt(this,d,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gr(this,d,v);default:if(I)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),I=!0}}u.prototype._isBuffer=!0;function fe(S,d,v){var I=S[d];S[d]=S[v],S[v]=I}u.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<d;v+=2)fe(this,v,v+1);return this},u.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<d;v+=4)fe(this,v,v+3),fe(this,v+1,v+2);return this},u.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<d;v+=8)fe(this,v,v+7),fe(this,v+1,v+6),fe(this,v+2,v+5),fe(this,v+3,v+4);return this},u.prototype.toString=function(){var d=this.length;return d===0?"":arguments.length===0?pt(this,0,d):ke.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(d){if(!u.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:u.compare(this,d)===0},u.prototype.inspect=function(){var d="",v=e.INSPECT_MAX_BYTES;return d=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(d+=" ... "),"<Buffer "+d+">"},t&&(u.prototype[t]=u.prototype.inspect),u.prototype.compare=function(d,v,I,N,Q){if(q(d,Uint8Array)&&(d=u.from(d,d.offset,d.byteLength)),!u.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(v===void 0&&(v=0),I===void 0&&(I=d?d.length:0),N===void 0&&(N=0),Q===void 0&&(Q=this.length),v<0||I>d.length||N<0||Q>this.length)throw new RangeError("out of range index");if(N>=Q&&v>=I)return 0;if(N>=Q)return-1;if(v>=I)return 1;if(v>>>=0,I>>>=0,N>>>=0,Q>>>=0,this===d)return 0;for(var ve=Q-N,Ke=I-v,ut=Math.min(ve,Ke),se=this.slice(N,Q),De=d.slice(v,I),x=0;x<ut;++x)if(se[x]!==De[x]){ve=se[x],Ke=De[x];break}return ve<Ke?-1:Ke<ve?1:0};function V(S,d,v,I,N){if(S.length===0)return-1;if(typeof v=="string"?(I=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,X(v)&&(v=N?0:S.length-1),v<0&&(v=S.length+v),v>=S.length){if(N)return-1;v=S.length-1}else if(v<0)if(N)v=0;else return-1;if(typeof d=="string"&&(d=u.from(d,I)),u.isBuffer(d))return d.length===0?-1:ce(S,d,v,I,N);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?N?Uint8Array.prototype.indexOf.call(S,d,v):Uint8Array.prototype.lastIndexOf.call(S,d,v):ce(S,[d],v,I,N);throw new TypeError("val must be string, number or Buffer")}function ce(S,d,v,I,N){var Q=1,ve=S.length,Ke=d.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(S.length<2||d.length<2)return-1;Q=2,ve/=2,Ke/=2,v/=2}function ut(m,z){return Q===1?m[z]:m.readUInt16BE(z*Q)}var se;if(N){var De=-1;for(se=v;se<ve;se++)if(ut(S,se)===ut(d,De===-1?0:se-De)){if(De===-1&&(De=se),se-De+1===Ke)return De*Q}else De!==-1&&(se-=se-De),De=-1}else for(v+Ke>ve&&(v=ve-Ke),se=v;se>=0;se--){for(var x=!0,p=0;p<Ke;p++)if(ut(S,se+p)!==ut(d,p)){x=!1;break}if(x)return se}return-1}u.prototype.includes=function(d,v,I){return this.indexOf(d,v,I)!==-1},u.prototype.indexOf=function(d,v,I){return V(this,d,v,I,!0)},u.prototype.lastIndexOf=function(d,v,I){return V(this,d,v,I,!1)};function Se(S,d,v,I){v=Number(v)||0;var N=S.length-v;I?(I=Number(I),I>N&&(I=N)):I=N;var Q=d.length;I>Q/2&&(I=Q/2);for(var ve=0;ve<I;++ve){var Ke=parseInt(d.substr(ve*2,2),16);if(X(Ke))return ve;S[v+ve]=Ke}return ve}function le(S,d,v,I){return C(M(d,S.length-v),S,v,I)}function Oe(S,d,v,I){return C(H(d),S,v,I)}function Pe(S,d,v,I){return C(T(d),S,v,I)}function vt(S,d,v,I){return C(E(d,S.length-v),S,v,I)}u.prototype.write=function(d,v,I,N){if(v===void 0)N="utf8",I=this.length,v=0;else if(I===void 0&&typeof v=="string")N=v,I=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(I)?(I=I>>>0,N===void 0&&(N="utf8")):(N=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Q=this.length-v;if((I===void 0||I>Q)&&(I=Q),d.length>0&&(I<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");N||(N="utf8");for(var ve=!1;;)switch(N){case"hex":return Se(this,d,v,I);case"utf8":case"utf-8":return le(this,d,v,I);case"ascii":case"latin1":case"binary":return Oe(this,d,v,I);case"base64":return Pe(this,d,v,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vt(this,d,v,I);default:if(ve)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),ve=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function dt(S,d,v){return d===0&&v===S.length?uu.fromByteArray(S):uu.fromByteArray(S.slice(d,v))}function pt(S,d,v){v=Math.min(S.length,v);for(var I=[],N=d;N<v;){var Q=S[N],ve=null,Ke=Q>239?4:Q>223?3:Q>191?2:1;if(N+Ke<=v){var ut,se,De,x;switch(Ke){case 1:Q<128&&(ve=Q);break;case 2:ut=S[N+1],(ut&192)==128&&(x=(Q&31)<<6|ut&63,x>127&&(ve=x));break;case 3:ut=S[N+1],se=S[N+2],(ut&192)==128&&(se&192)==128&&(x=(Q&15)<<12|(ut&63)<<6|se&63,x>2047&&(x<55296||x>57343)&&(ve=x));break;case 4:ut=S[N+1],se=S[N+2],De=S[N+3],(ut&192)==128&&(se&192)==128&&(De&192)==128&&(x=(Q&15)<<18|(ut&63)<<12|(se&63)<<6|De&63,x>65535&&x<1114112&&(ve=x))}}ve===null?(ve=65533,Ke=1):ve>65535&&(ve-=65536,I.push(ve>>>10&1023|55296),ve=56320|ve&1023),I.push(ve),N+=Ke}return lt(I)}var xt=4096;function lt(S){var d=S.length;if(d<=xt)return String.fromCharCode.apply(String,S);for(var v="",I=0;I<d;)v+=String.fromCharCode.apply(String,S.slice(I,I+=xt));return v}function Dt(S,d,v){var I="";v=Math.min(S.length,v);for(var N=d;N<v;++N)I+=String.fromCharCode(S[N]&127);return I}function Rt(S,d,v){var I="";v=Math.min(S.length,v);for(var N=d;N<v;++N)I+=String.fromCharCode(S[N]);return I}function Yt(S,d,v){var I=S.length;(!d||d<0)&&(d=0),(!v||v<0||v>I)&&(v=I);for(var N="",Q=d;Q<v;++Q)N+=ee[S[Q]];return N}function gr(S,d,v){for(var I=S.slice(d,v),N="",Q=0;Q<I.length-1;Q+=2)N+=String.fromCharCode(I[Q]+I[Q+1]*256);return N}u.prototype.slice=function(d,v){var I=this.length;d=~~d,v=v===void 0?I:~~v,d<0?(d+=I,d<0&&(d=0)):d>I&&(d=I),v<0?(v+=I,v<0&&(v=0)):v>I&&(v=I),v<d&&(v=d);var N=this.subarray(d,v);return Object.setPrototypeOf(N,u.prototype),N};function yt(S,d,v){if(S%1!=0||S<0)throw new RangeError("offset is not uint");if(S+d>v)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(d,v,I){d=d>>>0,v=v>>>0,I||yt(d,v,this.length);for(var N=this[d],Q=1,ve=0;++ve<v&&(Q*=256);)N+=this[d+ve]*Q;return N},u.prototype.readUintBE=u.prototype.readUIntBE=function(d,v,I){d=d>>>0,v=v>>>0,I||yt(d,v,this.length);for(var N=this[d+--v],Q=1;v>0&&(Q*=256);)N+=this[d+--v]*Q;return N},u.prototype.readUint8=u.prototype.readUInt8=function(d,v){return d=d>>>0,v||yt(d,1,this.length),this[d]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(d,v){return d=d>>>0,v||yt(d,2,this.length),this[d]|this[d+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(d,v){return d=d>>>0,v||yt(d,2,this.length),this[d]<<8|this[d+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(d,v){return d=d>>>0,v||yt(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(d,v){return d=d>>>0,v||yt(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},u.prototype.readIntLE=function(d,v,I){d=d>>>0,v=v>>>0,I||yt(d,v,this.length);for(var N=this[d],Q=1,ve=0;++ve<v&&(Q*=256);)N+=this[d+ve]*Q;return Q*=128,N>=Q&&(N-=Math.pow(2,8*v)),N},u.prototype.readIntBE=function(d,v,I){d=d>>>0,v=v>>>0,I||yt(d,v,this.length);for(var N=v,Q=1,ve=this[d+--N];N>0&&(Q*=256);)ve+=this[d+--N]*Q;return Q*=128,ve>=Q&&(ve-=Math.pow(2,8*v)),ve},u.prototype.readInt8=function(d,v){return d=d>>>0,v||yt(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},u.prototype.readInt16LE=function(d,v){d=d>>>0,v||yt(d,2,this.length);var I=this[d]|this[d+1]<<8;return I&32768?I|4294901760:I},u.prototype.readInt16BE=function(d,v){d=d>>>0,v||yt(d,2,this.length);var I=this[d+1]|this[d]<<8;return I&32768?I|4294901760:I},u.prototype.readInt32LE=function(d,v){return d=d>>>0,v||yt(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},u.prototype.readInt32BE=function(d,v){return d=d>>>0,v||yt(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},u.prototype.readFloatLE=function(d,v){return d=d>>>0,v||yt(d,4,this.length),Vn.read(this,d,!0,23,4)},u.prototype.readFloatBE=function(d,v){return d=d>>>0,v||yt(d,4,this.length),Vn.read(this,d,!1,23,4)},u.prototype.readDoubleLE=function(d,v){return d=d>>>0,v||yt(d,8,this.length),Vn.read(this,d,!0,52,8)},u.prototype.readDoubleBE=function(d,v){return d=d>>>0,v||yt(d,8,this.length),Vn.read(this,d,!1,52,8)};function gt(S,d,v,I,N,Q){if(!u.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>N||d<Q)throw new RangeError('"value" argument is out of bounds');if(v+I>S.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(d,v,I,N){if(d=+d,v=v>>>0,I=I>>>0,!N){var Q=Math.pow(2,8*I)-1;gt(this,d,v,I,Q,0)}var ve=1,Ke=0;for(this[v]=d&255;++Ke<I&&(ve*=256);)this[v+Ke]=d/ve&255;return v+I},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(d,v,I,N){if(d=+d,v=v>>>0,I=I>>>0,!N){var Q=Math.pow(2,8*I)-1;gt(this,d,v,I,Q,0)}var ve=I-1,Ke=1;for(this[v+ve]=d&255;--ve>=0&&(Ke*=256);)this[v+ve]=d/Ke&255;return v+I},u.prototype.writeUint8=u.prototype.writeUInt8=function(d,v,I){return d=+d,v=v>>>0,I||gt(this,d,v,1,255,0),this[v]=d&255,v+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(d,v,I){return d=+d,v=v>>>0,I||gt(this,d,v,2,65535,0),this[v]=d&255,this[v+1]=d>>>8,v+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(d,v,I){return d=+d,v=v>>>0,I||gt(this,d,v,2,65535,0),this[v]=d>>>8,this[v+1]=d&255,v+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(d,v,I){return d=+d,v=v>>>0,I||gt(this,d,v,4,4294967295,0),this[v+3]=d>>>24,this[v+2]=d>>>16,this[v+1]=d>>>8,this[v]=d&255,v+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(d,v,I){return d=+d,v=v>>>0,I||gt(this,d,v,4,4294967295,0),this[v]=d>>>24,this[v+1]=d>>>16,this[v+2]=d>>>8,this[v+3]=d&255,v+4},u.prototype.writeIntLE=function(d,v,I,N){if(d=+d,v=v>>>0,!N){var Q=Math.pow(2,8*I-1);gt(this,d,v,I,Q-1,-Q)}var ve=0,Ke=1,ut=0;for(this[v]=d&255;++ve<I&&(Ke*=256);)d<0&&ut===0&&this[v+ve-1]!==0&&(ut=1),this[v+ve]=(d/Ke>>0)-ut&255;return v+I},u.prototype.writeIntBE=function(d,v,I,N){if(d=+d,v=v>>>0,!N){var Q=Math.pow(2,8*I-1);gt(this,d,v,I,Q-1,-Q)}var ve=I-1,Ke=1,ut=0;for(this[v+ve]=d&255;--ve>=0&&(Ke*=256);)d<0&&ut===0&&this[v+ve+1]!==0&&(ut=1),this[v+ve]=(d/Ke>>0)-ut&255;return v+I},u.prototype.writeInt8=function(d,v,I){return d=+d,v=v>>>0,I||gt(this,d,v,1,127,-128),d<0&&(d=255+d+1),this[v]=d&255,v+1},u.prototype.writeInt16LE=function(d,v,I){return d=+d,v=v>>>0,I||gt(this,d,v,2,32767,-32768),this[v]=d&255,this[v+1]=d>>>8,v+2},u.prototype.writeInt16BE=function(d,v,I){return d=+d,v=v>>>0,I||gt(this,d,v,2,32767,-32768),this[v]=d>>>8,this[v+1]=d&255,v+2},u.prototype.writeInt32LE=function(d,v,I){return d=+d,v=v>>>0,I||gt(this,d,v,4,2147483647,-2147483648),this[v]=d&255,this[v+1]=d>>>8,this[v+2]=d>>>16,this[v+3]=d>>>24,v+4},u.prototype.writeInt32BE=function(d,v,I){return d=+d,v=v>>>0,I||gt(this,d,v,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[v]=d>>>24,this[v+1]=d>>>16,this[v+2]=d>>>8,this[v+3]=d&255,v+4};function kt(S,d,v,I,N,Q){if(v+I>S.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function Xe(S,d,v,I,N){return d=+d,v=v>>>0,N||kt(S,d,v,4),Vn.write(S,d,v,I,23,4),v+4}u.prototype.writeFloatLE=function(d,v,I){return Xe(this,d,v,!0,I)},u.prototype.writeFloatBE=function(d,v,I){return Xe(this,d,v,!1,I)};function oe(S,d,v,I,N){return d=+d,v=v>>>0,N||kt(S,d,v,8),Vn.write(S,d,v,I,52,8),v+8}u.prototype.writeDoubleLE=function(d,v,I){return oe(this,d,v,!0,I)},u.prototype.writeDoubleBE=function(d,v,I){return oe(this,d,v,!1,I)},u.prototype.copy=function(d,v,I,N){if(!u.isBuffer(d))throw new TypeError("argument should be a Buffer");if(I||(I=0),!N&&N!==0&&(N=this.length),v>=d.length&&(v=d.length),v||(v=0),N>0&&N<I&&(N=I),N===I||d.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length),d.length-v<N-I&&(N=d.length-v+I);var Q=N-I;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,I,N):Uint8Array.prototype.set.call(d,this.subarray(I,N),v),Q},u.prototype.fill=function(d,v,I,N){if(typeof d=="string"){if(typeof v=="string"?(N=v,v=0,I=this.length):typeof I=="string"&&(N=I,I=this.length),N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!u.isEncoding(N))throw new TypeError("Unknown encoding: "+N);if(d.length===1){var Q=d.charCodeAt(0);(N==="utf8"&&Q<128||N==="latin1")&&(d=Q)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(v<0||this.length<v||this.length<I)throw new RangeError("Out of range index");if(I<=v)return this;v=v>>>0,I=I===void 0?this.length:I>>>0,d||(d=0);var ve;if(typeof d=="number")for(ve=v;ve<I;++ve)this[ve]=d;else{var Ke=u.isBuffer(d)?d:u.from(d,N),ut=Ke.length;if(ut===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(ve=0;ve<I-v;++ve)this[ve+v]=Ke[ve%ut]}return this};var R=/[^+/0-9A-Za-z-_]/g;function ie(S){if(S=S.split("=")[0],S=S.trim().replace(R,""),S.length<2)return"";for(;S.length%4!=0;)S=S+"=";return S}function M(S,d){d=d||1/0;for(var v,I=S.length,N=null,Q=[],ve=0;ve<I;++ve){if(v=S.charCodeAt(ve),v>55295&&v<57344){if(!N){if(v>56319){(d-=3)>-1&&Q.push(239,191,189);continue}else if(ve+1===I){(d-=3)>-1&&Q.push(239,191,189);continue}N=v;continue}if(v<56320){(d-=3)>-1&&Q.push(239,191,189),N=v;continue}v=(N-55296<<10|v-56320)+65536}else N&&(d-=3)>-1&&Q.push(239,191,189);if(N=null,v<128){if((d-=1)<0)break;Q.push(v)}else if(v<2048){if((d-=2)<0)break;Q.push(v>>6|192,v&63|128)}else if(v<65536){if((d-=3)<0)break;Q.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((d-=4)<0)break;Q.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return Q}function H(S){for(var d=[],v=0;v<S.length;++v)d.push(S.charCodeAt(v)&255);return d}function E(S,d){for(var v,I,N,Q=[],ve=0;ve<S.length&&!((d-=2)<0);++ve)v=S.charCodeAt(ve),I=v>>8,N=v%256,Q.push(N),Q.push(I);return Q}function T(S){return uu.toByteArray(ie(S))}function C(S,d,v,I){for(var N=0;N<I&&!(N+v>=d.length||N>=S.length);++N)d[N+v]=S[N];return N}function q(S,d){return S instanceof d||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===d.name}function X(S){return S!==S}var ee=function(){for(var S="0123456789abcdef",d=new Array(256),v=0;v<16;++v)for(var I=v*16,N=0;N<16;++N)d[I+N]=S[v]+S[N];return d}()}),qc=Zt(function(r){(function(e){var t,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,a=Math.floor,u="[BigNumber Error] ",f=u+"Number primitive has more than 15 significant digits: ",h=1e14,c=14,y=9007199254740991,_=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],A=1e7,F=1e9;function D(ce){var Se,le,Oe,Pe=Xe.prototype={constructor:Xe,toString:null,valueOf:null},vt=new Xe(1),dt=20,pt=4,xt=-7,lt=21,Dt=-1e7,Rt=1e7,Yt=!1,gr=1,yt=0,gt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},kt="0123456789abcdefghijklmnopqrstuvwxyz";function Xe(E,T){var C,q,X,ee,S,d,v,I,N=this;if(!(N instanceof Xe))return new Xe(E,T);if(T==null){if(E&&E._isBigNumber===!0){N.s=E.s,!E.c||E.e>Rt?N.c=N.e=null:E.e<Dt?N.c=[N.e=0]:(N.e=E.e,N.c=E.c.slice());return}if((d=typeof E=="number")&&E*0==0){if(N.s=1/E<0?(E=-E,-1):1,E===~~E){for(ee=0,S=E;S>=10;S/=10,ee++);ee>Rt?N.c=N.e=null:(N.e=ee,N.c=[E]);return}I=String(E)}else{if(!n.test(I=String(E)))return Oe(N,I,d);N.s=I.charCodeAt(0)==45?(I=I.slice(1),-1):1}(ee=I.indexOf("."))>-1&&(I=I.replace(".","")),(S=I.search(/e/i))>0?(ee<0&&(ee=S),ee+=+I.slice(S+1),I=I.substring(0,S)):ee<0&&(ee=I.length)}else{if(ge(T,2,kt.length,"Base"),T==10)return N=new Xe(E),M(N,dt+N.e+1,pt);if(I=String(E),d=typeof E=="number"){if(E*0!=0)return Oe(N,I,d,T);if(N.s=1/E<0?(I=I.slice(1),-1):1,Xe.DEBUG&&I.replace(/^0\.0*|\./,"").length>15)throw Error(f+E)}else N.s=I.charCodeAt(0)===45?(I=I.slice(1),-1):1;for(C=kt.slice(0,T),ee=S=0,v=I.length;S<v;S++)if(C.indexOf(q=I.charAt(S))<0){if(q=="."){if(S>ee){ee=v;continue}}else if(!X&&(I==I.toUpperCase()&&(I=I.toLowerCase())||I==I.toLowerCase()&&(I=I.toUpperCase()))){X=!0,S=-1,ee=0;continue}return Oe(N,String(E),d,T)}d=!1,I=le(I,T,10,N.s),(ee=I.indexOf("."))>-1?I=I.replace(".",""):ee=I.length}for(S=0;I.charCodeAt(S)===48;S++);for(v=I.length;I.charCodeAt(--v)===48;);if(I=I.slice(S,++v)){if(v-=S,d&&Xe.DEBUG&&v>15&&(E>y||E!==a(E)))throw Error(f+N.s*E);if((ee=ee-S-1)>Rt)N.c=N.e=null;else if(ee<Dt)N.c=[N.e=0];else{if(N.e=ee,N.c=[],S=(ee+1)%c,ee<0&&(S+=c),S<v){for(S&&N.c.push(+I.slice(0,S)),v-=c;S<v;)N.c.push(+I.slice(S,S+=c));S=c-(I=I.slice(S)).length}else S-=v;for(;S--;I+="0");N.c.push(+I)}}else N.c=[N.e=0]}Xe.clone=D,Xe.ROUND_UP=0,Xe.ROUND_DOWN=1,Xe.ROUND_CEIL=2,Xe.ROUND_FLOOR=3,Xe.ROUND_HALF_UP=4,Xe.ROUND_HALF_DOWN=5,Xe.ROUND_HALF_EVEN=6,Xe.ROUND_HALF_CEIL=7,Xe.ROUND_HALF_FLOOR=8,Xe.EUCLID=9,Xe.config=Xe.set=function(E){var T,C;if(E!=null)if(typeof E=="object"){if(E.hasOwnProperty(T="DECIMAL_PLACES")&&(C=E[T],ge(C,0,F,T),dt=C),E.hasOwnProperty(T="ROUNDING_MODE")&&(C=E[T],ge(C,0,8,T),pt=C),E.hasOwnProperty(T="EXPONENTIAL_AT")&&(C=E[T],C&&C.pop?(ge(C[0],-F,0,T),ge(C[1],0,F,T),xt=C[0],lt=C[1]):(ge(C,-F,F,T),xt=-(lt=C<0?-C:C))),E.hasOwnProperty(T="RANGE"))if(C=E[T],C&&C.pop)ge(C[0],-F,-1,T),ge(C[1],1,F,T),Dt=C[0],Rt=C[1];else if(ge(C,-F,F,T),C)Dt=-(Rt=C<0?-C:C);else throw Error(u+T+" cannot be zero: "+C);if(E.hasOwnProperty(T="CRYPTO"))if(C=E[T],C===!!C)if(C)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Yt=C;else throw Yt=!C,Error(u+"crypto unavailable");else Yt=C;else throw Error(u+T+" not true or false: "+C);if(E.hasOwnProperty(T="MODULO_MODE")&&(C=E[T],ge(C,0,9,T),gr=C),E.hasOwnProperty(T="POW_PRECISION")&&(C=E[T],ge(C,0,F,T),yt=C),E.hasOwnProperty(T="FORMAT"))if(C=E[T],typeof C=="object")gt=C;else throw Error(u+T+" not an object: "+C);if(E.hasOwnProperty(T="ALPHABET"))if(C=E[T],typeof C=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(C))kt=C;else throw Error(u+T+" invalid: "+C)}else throw Error(u+"Object expected: "+E);return{DECIMAL_PLACES:dt,ROUNDING_MODE:pt,EXPONENTIAL_AT:[xt,lt],RANGE:[Dt,Rt],CRYPTO:Yt,MODULO_MODE:gr,POW_PRECISION:yt,FORMAT:gt,ALPHABET:kt}},Xe.isBigNumber=function(E){if(!E||E._isBigNumber!==!0)return!1;if(!Xe.DEBUG)return!0;var T,C,q=E.c,X=E.e,ee=E.s;e:if({}.toString.call(q)=="[object Array]"){if((ee===1||ee===-1)&&X>=-F&&X<=F&&X===a(X)){if(q[0]===0){if(X===0&&q.length===1)return!0;break e}if(T=(X+1)%c,T<1&&(T+=c),String(q[0]).length==T){for(T=0;T<q.length;T++)if(C=q[T],C<0||C>=h||C!==a(C))break e;if(C!==0)return!0}}}else if(q===null&&X===null&&(ee===null||ee===1||ee===-1))return!0;throw Error(u+"Invalid BigNumber: "+E)},Xe.maximum=Xe.max=function(){return R(arguments,Pe.lt)},Xe.minimum=Xe.min=function(){return R(arguments,Pe.gt)},Xe.random=function(){var E=9007199254740992,T=Math.random()*E&2097151?function(){return a(Math.random()*E)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(C){var q,X,ee,S,d,v=0,I=[],N=new Xe(vt);if(C==null?C=dt:ge(C,0,F),S=o(C/c),Yt)if(crypto.getRandomValues){for(q=crypto.getRandomValues(new Uint32Array(S*=2));v<S;)d=q[v]*131072+(q[v+1]>>>11),d>=9e15?(X=crypto.getRandomValues(new Uint32Array(2)),q[v]=X[0],q[v+1]=X[1]):(I.push(d%1e14),v+=2);v=S/2}else if(crypto.randomBytes){for(q=crypto.randomBytes(S*=7);v<S;)d=(q[v]&31)*281474976710656+q[v+1]*1099511627776+q[v+2]*4294967296+q[v+3]*16777216+(q[v+4]<<16)+(q[v+5]<<8)+q[v+6],d>=9e15?crypto.randomBytes(7).copy(q,v):(I.push(d%1e14),v+=7);v=S/7}else throw Yt=!1,Error(u+"crypto unavailable");if(!Yt)for(;v<S;)d=T(),d<9e15&&(I[v++]=d%1e14);for(S=I[--v],C%=c,S&&C&&(d=_[c-C],I[v]=a(S/d)*d);I[v]===0;I.pop(),v--);if(v<0)I=[ee=0];else{for(ee=-1;I[0]===0;I.splice(0,1),ee-=c);for(v=1,d=I[0];d>=10;d/=10,v++);v<c&&(ee-=c-v)}return N.e=ee,N.c=I,N}}(),Xe.sum=function(){for(var E=1,T=arguments,C=new Xe(T[0]);E<T.length;)C=C.plus(T[E++]);return C},le=function(){var E="0123456789";function T(C,q,X,ee){for(var S,d=[0],v,I=0,N=C.length;I<N;){for(v=d.length;v--;d[v]*=q);for(d[0]+=ee.indexOf(C.charAt(I++)),S=0;S<d.length;S++)d[S]>X-1&&(d[S+1]==null&&(d[S+1]=0),d[S+1]+=d[S]/X|0,d[S]%=X)}return d.reverse()}return function(C,q,X,ee,S){var d,v,I,N,Q,ve,Ke,ut,se=C.indexOf("."),De=dt,x=pt;for(se>=0&&(N=yt,yt=0,C=C.replace(".",""),ut=new Xe(q),ve=ut.pow(C.length-se),yt=N,ut.c=T(V(K(ve.c),ve.e,"0"),10,X,E),ut.e=ut.c.length),Ke=T(C,q,X,S?(d=kt,E):(d=E,kt)),I=N=Ke.length;Ke[--N]==0;Ke.pop());if(!Ke[0])return d.charAt(0);if(se<0?--I:(ve.c=Ke,ve.e=I,ve.s=ee,ve=Se(ve,ut,De,x,X),Ke=ve.c,Q=ve.r,I=ve.e),v=I+De+1,se=Ke[v],N=X/2,Q=Q||v<0||Ke[v+1]!=null,Q=x<4?(se!=null||Q)&&(x==0||x==(ve.s<0?3:2)):se>N||se==N&&(x==4||Q||x==6&&Ke[v-1]&1||x==(ve.s<0?8:7)),v<1||!Ke[0])C=Q?V(d.charAt(1),-De,d.charAt(0)):d.charAt(0);else{if(Ke.length=v,Q)for(--X;++Ke[--v]>X;)Ke[v]=0,v||(++I,Ke=[1].concat(Ke));for(N=Ke.length;!Ke[--N];);for(se=0,C="";se<=N;C+=d.charAt(Ke[se++]));C=V(C,I,d.charAt(0))}return C}}(),Se=function(){function E(q,X,ee){var S,d,v,I,N=0,Q=q.length,ve=X%A,Ke=X/A|0;for(q=q.slice();Q--;)v=q[Q]%A,I=q[Q]/A|0,S=Ke*v+I*ve,d=ve*v+S%A*A+N,N=(d/ee|0)+(S/A|0)+Ke*I,q[Q]=d%ee;return N&&(q=[N].concat(q)),q}function T(q,X,ee,S){var d,v;if(ee!=S)v=ee>S?1:-1;else for(d=v=0;d<ee;d++)if(q[d]!=X[d]){v=q[d]>X[d]?1:-1;break}return v}function C(q,X,ee,S){for(var d=0;ee--;)q[ee]-=d,d=q[ee]<X[ee]?1:0,q[ee]=d*S+q[ee]-X[ee];for(;!q[0]&&q.length>1;q.splice(0,1));}return function(q,X,ee,S,d){var v,I,N,Q,ve,Ke,ut,se,De,x,p,m,z,re,we,Ee,We,ft=q.s==X.s?1:-1,Et=q.c,At=X.c;if(!Et||!Et[0]||!At||!At[0])return new Xe(!q.s||!X.s||(Et?At&&Et[0]==At[0]:!At)?NaN:Et&&Et[0]==0||!At?ft*0:ft/0);for(se=new Xe(ft),De=se.c=[],I=q.e-X.e,ft=ee+I+1,d||(d=h,I=k(q.e/c)-k(X.e/c),ft=ft/c|0),N=0;At[N]==(Et[N]||0);N++);if(At[N]>(Et[N]||0)&&I--,ft<0)De.push(1),Q=!0;else{for(re=Et.length,Ee=At.length,N=0,ft+=2,ve=a(d/(At[0]+1)),ve>1&&(At=E(At,ve,d),Et=E(Et,ve,d),Ee=At.length,re=Et.length),z=Ee,x=Et.slice(0,Ee),p=x.length;p<Ee;x[p++]=0);We=At.slice(),We=[0].concat(We),we=At[0],At[1]>=d/2&&we++;do{if(ve=0,v=T(At,x,Ee,p),v<0){if(m=x[0],Ee!=p&&(m=m*d+(x[1]||0)),ve=a(m/we),ve>1)for(ve>=d&&(ve=d-1),Ke=E(At,ve,d),ut=Ke.length,p=x.length;T(Ke,x,ut,p)==1;)ve--,C(Ke,Ee<ut?We:At,ut,d),ut=Ke.length,v=1;else ve==0&&(v=ve=1),Ke=At.slice(),ut=Ke.length;if(ut<p&&(Ke=[0].concat(Ke)),C(x,Ke,p,d),p=x.length,v==-1)for(;T(At,x,Ee,p)<1;)ve++,C(x,Ee<p?We:At,p,d),p=x.length}else v===0&&(ve++,x=[0]);De[N++]=ve,x[0]?x[p++]=Et[z]||0:(x=[Et[z]],p=1)}while((z++<re||x[0]!=null)&&ft--);Q=x[0]!=null,De[0]||De.splice(0,1)}if(d==h){for(N=1,ft=De[0];ft>=10;ft/=10,N++);M(se,ee+(se.e=N+I*c-1)+1,S,Q)}else se.e=I,se.r=+Q;return se}}();function oe(E,T,C,q){var X,ee,S,d,v;if(C==null?C=pt:ge(C,0,8),!E.c)return E.toString();if(X=E.c[0],S=E.e,T==null)v=K(E.c),v=q==1||q==2&&(S<=xt||S>=lt)?fe(v,S):V(v,S,"0");else if(E=M(new Xe(E),T,C),ee=E.e,v=K(E.c),d=v.length,q==1||q==2&&(T<=ee||ee<=xt)){for(;d<T;v+="0",d++);v=fe(v,ee)}else if(T-=S,v=V(v,ee,"0"),ee+1>d){if(--T>0)for(v+=".";T--;v+="0");}else if(T+=ee-d,T>0)for(ee+1==d&&(v+=".");T--;v+="0");return E.s<0&&X?"-"+v:v}function R(E,T){for(var C,q=1,X=new Xe(E[0]);q<E.length;q++)if(C=new Xe(E[q]),C.s)T.call(X,C)&&(X=C);else{X=C;break}return X}function ie(E,T,C){for(var q=1,X=T.length;!T[--X];T.pop());for(X=T[0];X>=10;X/=10,q++);return(C=q+C*c-1)>Rt?E.c=E.e=null:C<Dt?E.c=[E.e=0]:(E.e=C,E.c=T),E}Oe=function(){var E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,C=/^\.([^.]+)$/,q=/^-?(Infinity|NaN)$/,X=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(ee,S,d,v){var I,N=d?S:S.replace(X,"");if(q.test(N))ee.s=isNaN(N)?null:N<0?-1:1;else{if(!d&&(N=N.replace(E,function(Q,ve,Ke){return I=(Ke=Ke.toLowerCase())=="x"?16:Ke=="b"?2:8,!v||v==I?ve:Q}),v&&(I=v,N=N.replace(T,"$1").replace(C,"0.$1")),S!=N))return new Xe(N,I);if(Xe.DEBUG)throw Error(u+"Not a"+(v?" base "+v:"")+" number: "+S);ee.s=null}ee.c=ee.e=null}}();function M(E,T,C,q){var X,ee,S,d,v,I,N,Q=E.c,ve=_;if(Q){e:{for(X=1,d=Q[0];d>=10;d/=10,X++);if(ee=T-X,ee<0)ee+=c,S=T,v=Q[I=0],N=v/ve[X-S-1]%10|0;else if(I=o((ee+1)/c),I>=Q.length)if(q){for(;Q.length<=I;Q.push(0));v=N=0,X=1,ee%=c,S=ee-c+1}else break e;else{for(v=d=Q[I],X=1;d>=10;d/=10,X++);ee%=c,S=ee-c+X,N=S<0?0:v/ve[X-S-1]%10|0}if(q=q||T<0||Q[I+1]!=null||(S<0?v:v%ve[X-S-1]),q=C<4?(N||q)&&(C==0||C==(E.s<0?3:2)):N>5||N==5&&(C==4||q||C==6&&(ee>0?S>0?v/ve[X-S]:0:Q[I-1])%10&1||C==(E.s<0?8:7)),T<1||!Q[0])return Q.length=0,q?(T-=E.e+1,Q[0]=ve[(c-T%c)%c],E.e=-T||0):Q[0]=E.e=0,E;if(ee==0?(Q.length=I,d=1,I--):(Q.length=I+1,d=ve[c-ee],Q[I]=S>0?a(v/ve[X-S]%ve[S])*d:0),q)for(;;)if(I==0){for(ee=1,S=Q[0];S>=10;S/=10,ee++);for(S=Q[0]+=d,d=1;S>=10;S/=10,d++);ee!=d&&(E.e++,Q[0]==h&&(Q[0]=1));break}else{if(Q[I]+=d,Q[I]!=h)break;Q[I--]=0,d=1}for(ee=Q.length;Q[--ee]===0;Q.pop());}E.e>Rt?E.c=E.e=null:E.e<Dt&&(E.c=[E.e=0])}return E}function H(E){var T,C=E.e;return C===null?E.toString():(T=K(E.c),T=C<=xt||C>=lt?fe(T,C):V(T,C,"0"),E.s<0?"-"+T:T)}return Pe.absoluteValue=Pe.abs=function(){var E=new Xe(this);return E.s<0&&(E.s=1),E},Pe.comparedTo=function(E,T){return he(this,new Xe(E,T))},Pe.decimalPlaces=Pe.dp=function(E,T){var C,q,X,ee=this;if(E!=null)return ge(E,0,F),T==null?T=pt:ge(T,0,8),M(new Xe(ee),E+ee.e+1,T);if(!(C=ee.c))return null;if(q=((X=C.length-1)-k(this.e/c))*c,X=C[X])for(;X%10==0;X/=10,q--);return q<0&&(q=0),q},Pe.dividedBy=Pe.div=function(E,T){return Se(this,new Xe(E,T),dt,pt)},Pe.dividedToIntegerBy=Pe.idiv=function(E,T){return Se(this,new Xe(E,T),0,1)},Pe.exponentiatedBy=Pe.pow=function(E,T){var C,q,X,ee,S,d,v,I,N,Q=this;if(E=new Xe(E),E.c&&!E.isInteger())throw Error(u+"Exponent not an integer: "+H(E));if(T!=null&&(T=new Xe(T)),d=E.e>14,!Q.c||!Q.c[0]||Q.c[0]==1&&!Q.e&&Q.c.length==1||!E.c||!E.c[0])return N=new Xe(Math.pow(+H(Q),d?2-ke(E):+H(E))),T?N.mod(T):N;if(v=E.s<0,T){if(T.c?!T.c[0]:!T.s)return new Xe(NaN);q=!v&&Q.isInteger()&&T.isInteger(),q&&(Q=Q.mod(T))}else{if(E.e>9&&(Q.e>0||Q.e<-1||(Q.e==0?Q.c[0]>1||d&&Q.c[1]>=24e7:Q.c[0]<8e13||d&&Q.c[0]<=9999975e7)))return ee=Q.s<0&&ke(E)?-0:0,Q.e>-1&&(ee=1/ee),new Xe(v?1/ee:ee);yt&&(ee=o(yt/c+2))}for(d?(C=new Xe(.5),v&&(E.s=1),I=ke(E)):(X=Math.abs(+H(E)),I=X%2),N=new Xe(vt);;){if(I){if(N=N.times(Q),!N.c)break;ee?N.c.length>ee&&(N.c.length=ee):q&&(N=N.mod(T))}if(X){if(X=a(X/2),X===0)break;I=X%2}else if(E=E.times(C),M(E,E.e+1,1),E.e>14)I=ke(E);else{if(X=+H(E),X===0)break;I=X%2}Q=Q.times(Q),ee?Q.c&&Q.c.length>ee&&(Q.c.length=ee):q&&(Q=Q.mod(T))}return q?N:(v&&(N=vt.div(N)),T?N.mod(T):ee?M(N,yt,pt,S):N)},Pe.integerValue=function(E){var T=new Xe(this);return E==null?E=pt:ge(E,0,8),M(T,T.e+1,E)},Pe.isEqualTo=Pe.eq=function(E,T){return he(this,new Xe(E,T))===0},Pe.isFinite=function(){return!!this.c},Pe.isGreaterThan=Pe.gt=function(E,T){return he(this,new Xe(E,T))>0},Pe.isGreaterThanOrEqualTo=Pe.gte=function(E,T){return(T=he(this,new Xe(E,T)))===1||T===0},Pe.isInteger=function(){return!!this.c&&k(this.e/c)>this.c.length-2},Pe.isLessThan=Pe.lt=function(E,T){return he(this,new Xe(E,T))<0},Pe.isLessThanOrEqualTo=Pe.lte=function(E,T){return(T=he(this,new Xe(E,T)))===-1||T===0},Pe.isNaN=function(){return!this.s},Pe.isNegative=function(){return this.s<0},Pe.isPositive=function(){return this.s>0},Pe.isZero=function(){return!!this.c&&this.c[0]==0},Pe.minus=function(E,T){var C,q,X,ee,S=this,d=S.s;if(E=new Xe(E,T),T=E.s,!d||!T)return new Xe(NaN);if(d!=T)return E.s=-T,S.plus(E);var v=S.e/c,I=E.e/c,N=S.c,Q=E.c;if(!v||!I){if(!N||!Q)return N?(E.s=-T,E):new Xe(Q?S:NaN);if(!N[0]||!Q[0])return Q[0]?(E.s=-T,E):new Xe(N[0]?S:pt==3?-0:0)}if(v=k(v),I=k(I),N=N.slice(),d=v-I){for((ee=d<0)?(d=-d,X=N):(I=v,X=Q),X.reverse(),T=d;T--;X.push(0));X.reverse()}else for(q=(ee=(d=N.length)<(T=Q.length))?d:T,d=T=0;T<q;T++)if(N[T]!=Q[T]){ee=N[T]<Q[T];break}if(ee&&(X=N,N=Q,Q=X,E.s=-E.s),T=(q=Q.length)-(C=N.length),T>0)for(;T--;N[C++]=0);for(T=h-1;q>d;){if(N[--q]<Q[q]){for(C=q;C&&!N[--C];N[C]=T);--N[C],N[q]+=h}N[q]-=Q[q]}for(;N[0]==0;N.splice(0,1),--I);return N[0]?ie(E,N,I):(E.s=pt==3?-1:1,E.c=[E.e=0],E)},Pe.modulo=Pe.mod=function(E,T){var C,q,X=this;return E=new Xe(E,T),!X.c||!E.s||E.c&&!E.c[0]?new Xe(NaN):!E.c||X.c&&!X.c[0]?new Xe(X):(gr==9?(q=E.s,E.s=1,C=Se(X,E,0,3),E.s=q,C.s*=q):C=Se(X,E,0,gr),E=X.minus(C.times(E)),!E.c[0]&&gr==1&&(E.s=X.s),E)},Pe.multipliedBy=Pe.times=function(E,T){var C,q,X,ee,S,d,v,I,N,Q,ve,Ke,ut,se,De,x=this,p=x.c,m=(E=new Xe(E,T)).c;if(!p||!m||!p[0]||!m[0])return!x.s||!E.s||p&&!p[0]&&!m||m&&!m[0]&&!p?E.c=E.e=E.s=null:(E.s*=x.s,!p||!m?E.c=E.e=null:(E.c=[0],E.e=0)),E;for(q=k(x.e/c)+k(E.e/c),E.s*=x.s,v=p.length,Q=m.length,v<Q&&(ut=p,p=m,m=ut,X=v,v=Q,Q=X),X=v+Q,ut=[];X--;ut.push(0));for(se=h,De=A,X=Q;--X>=0;){for(C=0,ve=m[X]%De,Ke=m[X]/De|0,S=v,ee=X+S;ee>X;)I=p[--S]%De,N=p[S]/De|0,d=Ke*I+N*ve,I=ve*I+d%De*De+ut[ee]+C,C=(I/se|0)+(d/De|0)+Ke*N,ut[ee--]=I%se;ut[ee]=C}return C?++q:ut.splice(0,1),ie(E,ut,q)},Pe.negated=function(){var E=new Xe(this);return E.s=-E.s||null,E},Pe.plus=function(E,T){var C,q=this,X=q.s;if(E=new Xe(E,T),T=E.s,!X||!T)return new Xe(NaN);if(X!=T)return E.s=-T,q.minus(E);var ee=q.e/c,S=E.e/c,d=q.c,v=E.c;if(!ee||!S){if(!d||!v)return new Xe(X/0);if(!d[0]||!v[0])return v[0]?E:new Xe(d[0]?q:X*0)}if(ee=k(ee),S=k(S),d=d.slice(),X=ee-S){for(X>0?(S=ee,C=v):(X=-X,C=d),C.reverse();X--;C.push(0));C.reverse()}for(X=d.length,T=v.length,X-T<0&&(C=v,v=d,d=C,T=X),X=0;T;)X=(d[--T]=d[T]+v[T]+X)/h|0,d[T]=h===d[T]?0:d[T]%h;return X&&(d=[X].concat(d),++S),ie(E,d,S)},Pe.precision=Pe.sd=function(E,T){var C,q,X,ee=this;if(E!=null&&E!==!!E)return ge(E,1,F),T==null?T=pt:ge(T,0,8),M(new Xe(ee),E,T);if(!(C=ee.c))return null;if(X=C.length-1,q=X*c+1,X=C[X]){for(;X%10==0;X/=10,q--);for(X=C[0];X>=10;X/=10,q++);}return E&&ee.e+1>q&&(q=ee.e+1),q},Pe.shiftedBy=function(E){return ge(E,-y,y),this.times("1e"+E)},Pe.squareRoot=Pe.sqrt=function(){var E,T,C,q,X,ee=this,S=ee.c,d=ee.s,v=ee.e,I=dt+4,N=new Xe("0.5");if(d!==1||!S||!S[0])return new Xe(!d||d<0&&(!S||S[0])?NaN:S?ee:1/0);if(d=Math.sqrt(+H(ee)),d==0||d==1/0?(T=K(S),(T.length+v)%2==0&&(T+="0"),d=Math.sqrt(+T),v=k((v+1)/2)-(v<0||v%2),d==1/0?T="5e"+v:(T=d.toExponential(),T=T.slice(0,T.indexOf("e")+1)+v),C=new Xe(T)):C=new Xe(d+""),C.c[0]){for(v=C.e,d=v+I,d<3&&(d=0);;)if(X=C,C=N.times(X.plus(Se(ee,X,I,1))),K(X.c).slice(0,d)===(T=K(C.c)).slice(0,d))if(C.e<v&&--d,T=T.slice(d-3,d+1),T=="9999"||!q&&T=="4999"){if(!q&&(M(X,X.e+dt+2,0),X.times(X).eq(ee))){C=X;break}I+=4,d+=4,q=1}else{(!+T||!+T.slice(1)&&T.charAt(0)=="5")&&(M(C,C.e+dt+2,1),E=!C.times(C).eq(ee));break}}return M(C,C.e+dt+1,pt,E)},Pe.toExponential=function(E,T){return E!=null&&(ge(E,0,F),E++),oe(this,E,T,1)},Pe.toFixed=function(E,T){return E!=null&&(ge(E,0,F),E=E+this.e+1),oe(this,E,T)},Pe.toFormat=function(E,T,C){var q,X=this;if(C==null)E!=null&&T&&typeof T=="object"?(C=T,T=null):E&&typeof E=="object"?(C=E,E=T=null):C=gt;else if(typeof C!="object")throw Error(u+"Argument not an object: "+C);if(q=X.toFixed(E,T),X.c){var ee,S=q.split("."),d=+C.groupSize,v=+C.secondaryGroupSize,I=C.groupSeparator||"",N=S[0],Q=S[1],ve=X.s<0,Ke=ve?N.slice(1):N,ut=Ke.length;if(v&&(ee=d,d=v,v=ee,ut-=ee),d>0&&ut>0){for(ee=ut%d||d,N=Ke.substr(0,ee);ee<ut;ee+=d)N+=I+Ke.substr(ee,d);v>0&&(N+=I+Ke.slice(ee)),ve&&(N="-"+N)}q=Q?N+(C.decimalSeparator||"")+((v=+C.fractionGroupSize)?Q.replace(new RegExp("\\d{"+v+"}\\B","g"),"$&"+(C.fractionGroupSeparator||"")):Q):N}return(C.prefix||"")+q+(C.suffix||"")},Pe.toFraction=function(E){var T,C,q,X,ee,S,d,v,I,N,Q,ve,Ke=this,ut=Ke.c;if(E!=null&&(d=new Xe(E),!d.isInteger()&&(d.c||d.s!==1)||d.lt(vt)))throw Error(u+"Argument "+(d.isInteger()?"out of range: ":"not an integer: ")+H(d));if(!ut)return new Xe(Ke);for(T=new Xe(vt),I=C=new Xe(vt),q=v=new Xe(vt),ve=K(ut),ee=T.e=ve.length-Ke.e-1,T.c[0]=_[(S=ee%c)<0?c+S:S],E=!E||d.comparedTo(T)>0?ee>0?T:I:d,S=Rt,Rt=1/0,d=new Xe(ve),v.c[0]=0;N=Se(d,T,0,1),X=C.plus(N.times(q)),X.comparedTo(E)!=1;)C=q,q=X,I=v.plus(N.times(X=I)),v=X,T=d.minus(N.times(X=T)),d=X;return X=Se(E.minus(C),q,0,1),v=v.plus(X.times(I)),C=C.plus(X.times(q)),v.s=I.s=Ke.s,ee=ee*2,Q=Se(I,q,ee,pt).minus(Ke).abs().comparedTo(Se(v,C,ee,pt).minus(Ke).abs())<1?[I,q]:[v,C],Rt=S,Q},Pe.toNumber=function(){return+H(this)},Pe.toPrecision=function(E,T){return E!=null&&ge(E,1,F),oe(this,E,T,2)},Pe.toString=function(E){var T,C=this,q=C.s,X=C.e;return X===null?q?(T="Infinity",q<0&&(T="-"+T)):T="NaN":(E==null?T=X<=xt||X>=lt?fe(K(C.c),X):V(K(C.c),X,"0"):E===10?(C=M(new Xe(C),dt+X+1,pt),T=V(K(C.c),C.e,"0")):(ge(E,2,kt.length,"Base"),T=le(V(K(C.c),X,"0"),10,E,q,!0)),q<0&&C.c[0]&&(T="-"+T)),T},Pe.valueOf=Pe.toJSON=function(){return H(this)},Pe._isBigNumber=!0,ce!=null&&Xe.set(ce),Xe}function k(ce){var Se=ce|0;return ce>0||ce===Se?Se:Se-1}function K(ce){for(var Se,le,Oe=1,Pe=ce.length,vt=ce[0]+"";Oe<Pe;){for(Se=ce[Oe++]+"",le=c-Se.length;le--;Se="0"+Se);vt+=Se}for(Pe=vt.length;vt.charCodeAt(--Pe)===48;);return vt.slice(0,Pe+1||1)}function he(ce,Se){var le,Oe,Pe=ce.c,vt=Se.c,dt=ce.s,pt=Se.s,xt=ce.e,lt=Se.e;if(!dt||!pt)return null;if(le=Pe&&!Pe[0],Oe=vt&&!vt[0],le||Oe)return le?Oe?0:-pt:dt;if(dt!=pt)return dt;if(le=dt<0,Oe=xt==lt,!Pe||!vt)return Oe?0:!Pe^le?1:-1;if(!Oe)return xt>lt^le?1:-1;for(pt=(xt=Pe.length)<(lt=vt.length)?xt:lt,dt=0;dt<pt;dt++)if(Pe[dt]!=vt[dt])return Pe[dt]>vt[dt]^le?1:-1;return xt==lt?0:xt>lt^le?1:-1}function ge(ce,Se,le,Oe){if(ce<Se||ce>le||ce!==a(ce))throw Error(u+(Oe||"Argument")+(typeof ce=="number"?ce<Se||ce>le?" out of range: ":" not an integer: ":" not a primitive number: ")+String(ce))}function ke(ce){var Se=ce.c.length-1;return k(ce.e/c)==Se&&ce.c[Se]%2!=0}function fe(ce,Se){return(ce.length>1?ce.charAt(0)+"."+ce.slice(1):ce)+(Se<0?"e":"e+")+Se}function V(ce,Se,le){var Oe,Pe;if(Se<0){for(Pe=le+".";++Se;Pe+=le);ce=Pe+ce}else if(Oe=ce.length,++Se>Oe){for(Pe=le,Se-=Oe;--Se;Pe+=le);ce+=Pe}else Se<Oe&&(ce=ce.slice(0,Se)+"."+ce.slice(Se));return ce}t=D(),t.default=t.BigNumber=t,r.exports?r.exports=t:(e||(e=typeof self!="undefined"&&self?self:window),e.BigNumber=t)})(_e)}),nA=function(e,t,n){var o=new e.Uint8Array(n),a=t.pushInt,u=t.pushInt32,f=t.pushInt32Neg,h=t.pushInt64,c=t.pushInt64Neg,y=t.pushFloat,_=t.pushFloatSingle,A=t.pushFloatDouble,F=t.pushTrue,D=t.pushFalse,k=t.pushUndefined,K=t.pushNull,he=t.pushInfinity,ge=t.pushInfinityNeg,ke=t.pushNaN,fe=t.pushNaNNeg,V=t.pushArrayStart,ce=t.pushArrayStartFixed,Se=t.pushArrayStartFixed32,le=t.pushArrayStartFixed64,Oe=t.pushObjectStart,Pe=t.pushObjectStartFixed,vt=t.pushObjectStartFixed32,dt=t.pushObjectStartFixed64,pt=t.pushByteString,xt=t.pushByteStringStart,lt=t.pushUtf8String,Dt=t.pushUtf8StringStart,Rt=t.pushSimpleUnassigned,Yt=t.pushTagStart,gr=t.pushTagStart4,yt=t.pushTagStart8,gt=t.pushTagUnassigned,kt=t.pushBreak,Xe=e.Math.pow,oe=0,R=0,ie=0;function M(de){for(de=de|0,oe=0,R=de;(oe|0)<(R|0)&&(ie=la[o[oe]&255](o[oe]|0)|0,!((ie|0)>0)););return ie|0}function H(de){return de=de|0,((oe|0)+(de|0)|0)<(R|0)?0:1}function E(de){return de=de|0,o[de|0]<<8|o[de+1|0]|0}function T(de){return de=de|0,o[de|0]<<24|o[de+1|0]<<16|o[de+2|0]<<8|o[de+3|0]|0}function C(de){return de=de|0,a(de|0),oe=oe+1|0,0}function q(de){return de=de|0,H(1)|0?1:(a(o[oe+1|0]|0),oe=oe+2|0,0)}function X(de){return de=de|0,H(2)|0?1:(a(E(oe+1|0)|0),oe=oe+3|0,0)}function ee(de){return de=de|0,H(4)|0?1:(u(E(oe+1|0)|0,E(oe+3|0)|0),oe=oe+5|0,0)}function S(de){return de=de|0,H(8)|0?1:(h(E(oe+1|0)|0,E(oe+3|0)|0,E(oe+5|0)|0,E(oe+7|0)|0),oe=oe+9|0,0)}function d(de){return de=de|0,a(-1-(de-32|0)|0),oe=oe+1|0,0}function v(de){return de=de|0,H(1)|0?1:(a(-1-(o[oe+1|0]|0)|0),oe=oe+2|0,0)}function I(de){de=de|0;var Mt=0;return H(2)|0?1:(Mt=E(oe+1|0)|0,a(-1-(Mt|0)|0),oe=oe+3|0,0)}function N(de){return de=de|0,H(4)|0?1:(f(E(oe+1|0)|0,E(oe+3|0)|0),oe=oe+5|0,0)}function Q(de){return de=de|0,H(8)|0?1:(c(E(oe+1|0)|0,E(oe+3|0)|0,E(oe+5|0)|0,E(oe+7|0)|0),oe=oe+9|0,0)}function ve(de){de=de|0;var Mt=0,Vt=0,Lt=0;return Lt=de-64|0,H(Lt|0)|0?1:(Mt=oe+1|0,Vt=(oe+1|0)+(Lt|0)|0,pt(Mt|0,Vt|0),oe=Vt|0,0)}function Ke(de){de=de|0;var Mt=0,Vt=0,Lt=0;return H(1)|0||(Lt=o[oe+1|0]|0,Mt=oe+2|0,Vt=(oe+2|0)+(Lt|0)|0,H(Lt+1|0)|0)?1:(pt(Mt|0,Vt|0),oe=Vt|0,0)}function ut(de){de=de|0;var Mt=0,Vt=0,Lt=0;return H(2)|0||(Lt=E(oe+1|0)|0,Mt=oe+3|0,Vt=(oe+3|0)+(Lt|0)|0,H(Lt+2|0)|0)?1:(pt(Mt|0,Vt|0),oe=Vt|0,0)}function se(de){de=de|0;var Mt=0,Vt=0,Lt=0;return H(4)|0||(Lt=T(oe+1|0)|0,Mt=oe+5|0,Vt=(oe+5|0)+(Lt|0)|0,H(Lt+4|0)|0)?1:(pt(Mt|0,Vt|0),oe=Vt|0,0)}function De(de){return de=de|0,1}function x(de){return de=de|0,xt(),oe=oe+1|0,0}function p(de){de=de|0;var Mt=0,Vt=0,Lt=0;return Lt=de-96|0,H(Lt|0)|0?1:(Mt=oe+1|0,Vt=(oe+1|0)+(Lt|0)|0,lt(Mt|0,Vt|0),oe=Vt|0,0)}function m(de){de=de|0;var Mt=0,Vt=0,Lt=0;return H(1)|0||(Lt=o[oe+1|0]|0,Mt=oe+2|0,Vt=(oe+2|0)+(Lt|0)|0,H(Lt+1|0)|0)?1:(lt(Mt|0,Vt|0),oe=Vt|0,0)}function z(de){de=de|0;var Mt=0,Vt=0,Lt=0;return H(2)|0||(Lt=E(oe+1|0)|0,Mt=oe+3|0,Vt=(oe+3|0)+(Lt|0)|0,H(Lt+2|0)|0)?1:(lt(Mt|0,Vt|0),oe=Vt|0,0)}function re(de){de=de|0;var Mt=0,Vt=0,Lt=0;return H(4)|0||(Lt=T(oe+1|0)|0,Mt=oe+5|0,Vt=(oe+5|0)+(Lt|0)|0,H(Lt+4|0)|0)?1:(lt(Mt|0,Vt|0),oe=Vt|0,0)}function we(de){return de=de|0,1}function Ee(de){return de=de|0,Dt(),oe=oe+1|0,0}function We(de){return de=de|0,ce(de-128|0),oe=oe+1|0,0}function ft(de){return de=de|0,H(1)|0?1:(ce(o[oe+1|0]|0),oe=oe+2|0,0)}function Et(de){return de=de|0,H(2)|0?1:(ce(E(oe+1|0)|0),oe=oe+3|0,0)}function At(de){return de=de|0,H(4)|0?1:(Se(E(oe+1|0)|0,E(oe+3|0)|0),oe=oe+5|0,0)}function zt(de){return de=de|0,H(8)|0?1:(le(E(oe+1|0)|0,E(oe+3|0)|0,E(oe+5|0)|0,E(oe+7|0)|0),oe=oe+9|0,0)}function hn(de){return de=de|0,V(),oe=oe+1|0,0}function qt(de){de=de|0;var Mt=0;return Mt=de-160|0,H(Mt|0)|0?1:(Pe(Mt|0),oe=oe+1|0,0)}function jr(de){return de=de|0,H(1)|0?1:(Pe(o[oe+1|0]|0),oe=oe+2|0,0)}function Zn(de){return de=de|0,H(2)|0?1:(Pe(E(oe+1|0)|0),oe=oe+3|0,0)}function fr(de){return de=de|0,H(4)|0?1:(vt(E(oe+1|0)|0,E(oe+3|0)|0),oe=oe+5|0,0)}function fi(de){return de=de|0,H(8)|0?1:(dt(E(oe+1|0)|0,E(oe+3|0)|0,E(oe+5|0)|0,E(oe+7|0)|0),oe=oe+9|0,0)}function Rn(de){return de=de|0,Oe(),oe=oe+1|0,0}function Jr(de){return de=de|0,Yt(de-192|0|0),oe=oe+1|0,0}function _n(de){return de=de|0,Yt(de|0),oe=oe+1|0,0}function Nn(de){return de=de|0,Yt(de|0),oe=oe+1|0,0}function Qn(de){return de=de|0,Yt(de|0),oe=oe+1|0,0}function li(de){return de=de|0,Yt(de|0),oe=oe+1|0,0}function ur(de){return de=de|0,Yt(de-192|0|0),oe=oe+1|0,0}function hi(de){return de=de|0,Yt(de|0),oe=oe+1|0,0}function cn(de){return de=de|0,Yt(de|0),oe=oe+1|0,0}function Un(de){return de=de|0,Yt(de|0),oe=oe+1|0,0}function Dn(de){return de=de|0,H(1)|0?1:(Yt(o[oe+1|0]|0),oe=oe+2|0,0)}function dn(de){return de=de|0,H(2)|0?1:(Yt(E(oe+1|0)|0),oe=oe+3|0,0)}function un(de){return de=de|0,H(4)|0?1:(gr(E(oe+1|0)|0,E(oe+3|0)|0),oe=oe+5|0,0)}function ei(de){return de=de|0,H(8)|0?1:(yt(E(oe+1|0)|0,E(oe+3|0)|0,E(oe+5|0)|0,E(oe+7|0)|0),oe=oe+9|0,0)}function br(de){return de=de|0,Rt((de|0)-224|0),oe=oe+1|0,0}function ti(de){return de=de|0,D(),oe=oe+1|0,0}function Bi(de){return de=de|0,F(),oe=oe+1|0,0}function di(de){return de=de|0,K(),oe=oe+1|0,0}function pi(de){return de=de|0,k(),oe=oe+1|0,0}function vi(de){return de=de|0,H(1)|0?1:(Rt(o[oe+1|0]|0),oe=oe+2|0,0)}function pn(de){de=de|0;var Mt=0,Vt=0,Lt=1,wn=0,Ln=0,so=0;return H(2)|0?1:(Mt=o[oe+1|0]|0,Vt=o[oe+2|0]|0,(Mt|0)&128&&(Lt=-1),wn=+(((Mt|0)&124)>>2),Ln=+(((Mt|0)&3)<<8|Vt),+wn==0?y(+(+Lt*5960464477539063e-23*+Ln)):+wn==31?+Lt==1?+Ln>0?ke():he():+Ln>0?fe():ge():y(+(+Lt*Xe(2,+(+wn-25))*+(1024+Ln))),oe=oe+3|0,0)}function Ti(de){return de=de|0,H(4)|0?1:(_(o[oe+1|0]|0,o[oe+2|0]|0,o[oe+3|0]|0,o[oe+4|0]|0),oe=oe+5|0,0)}function ki(de){return de=de|0,H(8)|0?1:(A(o[oe+1|0]|0,o[oe+2|0]|0,o[oe+3|0]|0,o[oe+4|0]|0,o[oe+5|0]|0,o[oe+6|0]|0,o[oe+7|0]|0,o[oe+8|0]|0),oe=oe+9|0,0)}function Qt(de){return de=de|0,1}function On(de){return de=de|0,kt(),oe=oe+1|0,0}var la=[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,q,X,ee,S,Qt,Qt,Qt,Qt,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,v,I,N,Q,Qt,Qt,Qt,Qt,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,ve,Ke,ut,se,De,Qt,Qt,Qt,x,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,m,z,re,we,Qt,Qt,Qt,Ee,We,We,We,We,We,We,We,We,We,We,We,We,We,We,We,We,We,We,We,We,We,We,We,We,ft,Et,At,zt,Qt,Qt,Qt,hn,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,qt,jr,Zn,fr,fi,Qt,Qt,Qt,Rn,Jr,Jr,Jr,Jr,Jr,Jr,ur,ur,ur,ur,ur,ur,ur,ur,ur,ur,ur,ur,ur,ur,ur,ur,ur,ur,Dn,dn,un,ei,Qt,Qt,Qt,Qt,br,br,br,br,br,br,br,br,br,br,br,br,br,br,br,br,br,br,br,br,ti,Bi,di,pi,vi,pn,Ti,ki,Qt,Qt,Qt,On];return{parse:M}};const dh=qc.BigNumber;var iA={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},oA={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},aA={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},uA={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},sA={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},cA=Math.pow(2,32),fA=Math.pow(2,16),lA=2097151,hA=new dh(-1),dA=new dh(10),pA=new dh(2),vA={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5},Ct={MT:iA,TAG:oA,NUMBYTES:aA,SIMPLE:uA,SYMS:sA,SHIFT32:cA,SHIFT16:fA,MAX_SAFE_HIGH:lA,NEG_ONE:hA,TEN:dA,TWO:pA,PARENT:vA},sn=Zt(function(r,e){const{Buffer:t}=Yc,n=qc.BigNumber,o=Ct.SHIFT32,a=Ct.SHIFT16,u=2097151;e.parseHalf=function(c){var y,_,A;return A=c[0]&128?-1:1,y=(c[0]&124)>>2,_=(c[0]&3)<<8|c[1],y?y===31?A*(_?0/0:1/0):A*Math.pow(2,y-25)*(1024+_):A*5960464477539063e-23*_};function f(h){return h<16?"0"+h.toString(16):h.toString(16)}e.arrayBufferToBignumber=function(h){const c=h.byteLength;let y="";for(let _=0;_<c;_++)y+=f(h[_]);return new n(y,16)},e.buildMap=h=>{const c=new Map,y=Object.keys(h),_=y.length;for(let A=0;A<_;A++)c.set(y[A],h[y[A]]);return c},e.buildInt32=(h,c)=>h*a+c,e.buildInt64=(h,c,y,_)=>{const A=e.buildInt32(h,c),F=e.buildInt32(y,_);return A>u?new n(A).times(o).plus(F):A*o+F},e.writeHalf=function(c,y){const _=t.allocUnsafe(4);_.writeFloatBE(y,0);const A=_.readUInt32BE(0);if((A&8191)!=0)return!1;var F=A>>16&32768;const D=A>>23&255,k=A&8388607;if(D>=113&&D<=142)F+=(D-112<<10)+(k>>13);else if(D>=103&&D<113){if(k&(1<<126-D)-1)return!1;F+=k+8388608>>126-D}else return!1;return c.writeUInt16BE(F,0),!0},e.keySorter=function(h,c){var y=h[0].byteLength,_=c[0].byteLength;return y>_?1:_>y?-1:h[0].compare(c[0])},e.isNegativeZero=h=>h===0&&1/h<0,e.nextPowerOf2=h=>{let c=0;if(h&&!(h&h-1))return h;for(;h!==0;)h>>=1,c+=1;return 1<<c}});const yA=Ct.MT,Vc=Ct.SIMPLE,ph=Ct.SYMS;class Xc{constructor(e){if(typeof e!="number")throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(e|0)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,yA.SIMPLE_FLOAT)}static isSimple(e){return e instanceof Xc}static decode(e,t){switch(t==null&&(t=!0),e){case Vc.FALSE:return!1;case Vc.TRUE:return!0;case Vc.NULL:return t?null:ph.NULL;case Vc.UNDEFINED:return t?void 0:ph.UNDEFINED;case-1:if(!t)throw new Error("Invalid BREAK");return ph.BREAK;default:return new Xc(e)}}}var Iv=Xc;class Jc{constructor(e,t,n){if(this.tag=e,this.value=t,this.err=n,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){var t,n;if(n=e!=null?e[this.tag]:void 0,typeof n!="function"&&(n=Jc["_tag"+this.tag],typeof n!="function"))return this;try{return n.call(Jc,this.value)}catch(o){return t=o,this.err=t,this}}}var Bv=Jc;const Tv=self.location?self.location.protocol+"//"+self.location.host:"",vh=self.URL;class mA{constructor(e="",t=Tv){this.super=new vh(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function gA(r){if(typeof r=="string")return new vh(r).toString();if(!(r instanceof vh)){const e=r.username&&r.password?`${r.username}:${r.password}@`:"",t=r.auth?r.auth+"@":"",n=r.port?":"+r.port:"",o=r.protocol?r.protocol+"//":"",a=r.host||"",u=r.hostname||"",f=r.search||(r.query?"?"+r.query:""),h=r.hash||"",c=r.pathname||"",y=r.path||c+f;return`${o}${e||t}${a||u+n}${y}${h}`}}var kv={URLWithLegacySupport:mA,URLSearchParams:self.URLSearchParams,defaultBase:Tv,format:gA};const{URLWithLegacySupport:Fv,format:bA}=kv;var _A=(r,e={},t={},n)=>{let o=e.protocol?e.protocol.replace(":",""):"http";o=(t[o]||n||o)+":";let a;try{a=new Fv(r)}catch(f){a={}}const u=Object.assign({},e,{protocol:o||a.protocol,host:e.host||a.host});return new Fv(r,bA(u)).toString()};const{URLWithLegacySupport:wA,format:xA,URLSearchParams:EA,defaultBase:AA}=kv;var Cv={URL:wA,URLSearchParams:EA,format:xA,relative:_A,defaultBase:AA};const{Buffer:bu}=Yc,SA=qc.BigNumber,{URL:IA}=Cv;class _u{constructor(e){e=e||{},!e.size||e.size<65536?e.size=65536:e.size=sn.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=bu.from(this._heap),this._reset(),this._knownTags=Object.assign({0:t=>new Date(t),1:t=>new Date(t*1e3),2:t=>sn.arrayBufferToBignumber(t),3:t=>Ct.NEG_ONE.minus(sn.arrayBufferToBignumber(t)),4:t=>Ct.TEN.pow(t[0]).times(t[1]),5:t=>Ct.TWO.pow(t[0]).times(t[1]),32:t=>new IA(t),35:t=>new RegExp(t)},e.tags),this.parser=nA(_e,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var e=this._parents.pop();if(e.length>0)throw new Error(`Missing ${e.length} elements`);switch(e.type){case Ct.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case Ct.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case Ct.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case Ct.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case Ct.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case Ct.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length));break}this._currentParent&&this._currentParent.type===Ct.PARENT.TAG&&this._dec()}_dec(){const e=this._currentParent;e.length<0||(e.length--,e.length===0&&this._closeParent())}_push(e,t){const n=this._currentParent;switch(n.values++,n.type){case Ct.PARENT.ARRAY:case Ct.PARENT.BYTE_STRING:case Ct.PARENT.UTF8_STRING:n.length>-1?this._ref[this._ref.length-n.length]=e:this._ref.push(e),this._dec();break;case Ct.PARENT.OBJECT:n.tmpKey!=null?(this._ref[n.tmpKey]=e,n.tmpKey=null,this._dec()):(n.tmpKey=e,typeof n.tmpKey!="string"&&(n.type=Ct.PARENT.MAP,n.ref=sn.buildMap(n.ref)));break;case Ct.PARENT.MAP:n.tmpKey!=null?(this._ref.set(n.tmpKey,e),n.tmpKey=null,this._dec()):n.tmpKey=e;break;case Ct.PARENT.TAG:this._ref.push(e),t||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(e,t,n){this._parents[this._depth]={type:t,length:n,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:Ct.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,t){const n=this._knownTags[e];return n?n(t):new Bv(e,t)}createMap(e,t){return e}createObject(e,t){return e}createArray(e,t){return e}createByteString(e,t){return bu.concat(e)}createByteStringFromHeap(e,t){return e===t?bu.alloc(0):bu.from(this._heap.slice(e,t))}createInt(e){return e}createInt32(e,t){return sn.buildInt32(e,t)}createInt64(e,t,n,o){return sn.buildInt64(e,t,n,o)}createFloat(e){return e}createFloatSingle(e,t,n,o){return Vn.read([e,t,n,o],0,!1,23,4)}createFloatDouble(e,t,n,o,a,u,f,h){return Vn.read([e,t,n,o,a,u,f,h],0,!1,52,8)}createInt32Neg(e,t){return-1-sn.buildInt32(e,t)}createInt64Neg(e,t,n,o){const a=sn.buildInt32(e,t),u=sn.buildInt32(n,o);return a>Ct.MAX_SAFE_HIGH?Ct.NEG_ONE.minus(new SA(a).times(Ct.SHIFT32).plus(u)):-1-(a*Ct.SHIFT32+u)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(e,t){return e.join("")}createUtf8StringFromHeap(e,t){return e===t?"":this._buffer.toString("utf8",e,t)}createSimpleUnassigned(e){return new Iv(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,t){this._push(this.createInt32(e,t))}pushInt64(e,t,n,o){this._push(this.createInt64(e,t,n,o))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,t,n,o){this._push(this.createFloatSingle(e,t,n,o))}pushFloatDouble(e,t,n,o,a,u,f,h){this._push(this.createFloatDouble(e,t,n,o,a,u,f,h))}pushInt32Neg(e,t){this._push(this.createInt32Neg(e,t))}pushInt64Neg(e,t,n,o){this._push(this.createInt64Neg(e,t,n,o))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],Ct.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,t){const n=sn.buildInt32(e,t);this._createArrayStartFixed(n)}pushArrayStartFixed64(e,t,n,o){const a=sn.buildInt64(e,t,n,o);this._createArrayStartFixed(a)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,t){const n=sn.buildInt32(e,t);this._createObjectStartFixed(n)}pushObjectStartFixed64(e,t,n,o){const a=sn.buildInt64(e,t,n,o);this._createObjectStartFixed(a)}pushByteStringStart(){this._parents[this._depth]={type:Ct.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,t){this._push(this.createByteStringFromHeap(e,t))}pushUtf8StringStart(){this._parents[this._depth]={type:Ct.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,t){this._push(this.createUtf8StringFromHeap(e,t))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:Ct.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,t){this.pushTagStart(sn.buildInt32(e,t))}pushTagStart8(e,t,n,o){this.pushTagStart(sn.buildInt64(e,t,n,o))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){if(e===0){this._push(this.createObject({}));return}this._createParent({},Ct.PARENT.OBJECT,e)}_createArrayStartFixed(e){if(e===0){this._push(this.createArray([]));return}this._createParent(new Array(e),Ct.PARENT.ARRAY,e)}_decode(e){if(e.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(e);const t=this.parser.parse(e.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(t>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,t){return typeof e=="string"&&(e=bu.from(e,t||"hex")),new _u({size:e.length}).decodeFirst(e)}static decodeAll(e,t){return typeof e=="string"&&(e=bu.from(e,t||"hex")),new _u({size:e.length}).decodeAll(e)}}_u.decodeFirst=_u.decode;var Rv=_u;const{Buffer:yh}=Yc;class mh extends Rv{createTag(e,t){return`${e}(${t})`}createInt(e){return super.createInt(e).toString()}createInt32(e,t){return super.createInt32(e,t).toString()}createInt64(e,t,n,o){return super.createInt64(e,t,n,o).toString()}createInt32Neg(e,t){return super.createInt32Neg(e,t).toString()}createInt64Neg(e,t,n,o){return super.createInt64Neg(e,t,n,o).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){const t=super.createFloat(e);return sn.isNegativeZero(e)?"-0_1":`${t}_1`}createFloatSingle(e,t,n,o){return`${super.createFloatSingle(e,t,n,o)}_2`}createFloatDouble(e,t,n,o,a,u,f,h){return`${super.createFloatDouble(e,t,n,o,a,u,f,h)}_3`}createByteString(e,t){const n=e.join(", ");return t===-1?`(_ ${n})`:`h'${n}`}createByteStringFromHeap(e,t){return`h'${yh.from(super.createByteStringFromHeap(e,t)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,t){const n=super.createArray(e,t);return t===-1?`[_ ${n.join(", ")}]`:`[${n.join(", ")}]`}createMap(e,t){const n=super.createMap(e),o=Array.from(n.keys()).reduce(Nv(n),"");return t===-1?`{_ ${o}}`:`{${o}}`}createObject(e,t){const n=super.createObject(e),o=Object.keys(n).reduce(Nv(n),"");return t===-1?`{_ ${o}}`:`{${o}}`}createUtf8String(e,t){const n=e.join(", ");return t===-1?`(_ ${n})`:`"${n}"`}createUtf8StringFromHeap(e,t){return`"${yh.from(super.createUtf8StringFromHeap(e,t)).toString("utf8")}"`}static diagnose(e,t){return typeof e=="string"&&(e=yh.from(e,t||"hex")),new mh().decodeFirst(e)}}var BA=mh;function Nv(r){return(e,t)=>e?`${e}, ${t}: ${r[t]}`:`${t}: ${r[t]}`}const{Buffer:oo}=Yc,{URL:TA}=Cv,gh=qc.BigNumber,$i=Ct.MT,Zc=Ct.NUMBYTES,Uv=Ct.SHIFT32,Dv=Ct.SYMS,wu=Ct.TAG,kA=Ct.MT.SIMPLE_FLOAT<<5|Ct.NUMBYTES.TWO,FA=Ct.MT.SIMPLE_FLOAT<<5|Ct.NUMBYTES.FOUR,CA=Ct.MT.SIMPLE_FLOAT<<5|Ct.NUMBYTES.EIGHT,RA=Ct.MT.SIMPLE_FLOAT<<5|Ct.SIMPLE.TRUE,NA=Ct.MT.SIMPLE_FLOAT<<5|Ct.SIMPLE.FALSE,UA=Ct.MT.SIMPLE_FLOAT<<5|Ct.SIMPLE.UNDEFINED,Ov=Ct.MT.SIMPLE_FLOAT<<5|Ct.SIMPLE.NULL,DA=new gh("0x20000000000000"),OA=oo.from("f97e00","hex"),LA=oo.from("f9fc00","hex"),PA=oo.from("f97c00","hex");function MA(r){return{}.toString.call(r).slice(8,-1)}class Qc{constructor(e){e=e||{},this.streaming=typeof e.stream=="function",this.onData=e.stream,this.semanticTypes=[[TA,this._pushUrl],[gh,this._pushBigNumber]];const t=e.genTypes||[],n=t.length;for(let o=0;o<n;o++)this.addSemanticType(t[o][0],t[o][1]);this._reset()}addSemanticType(e,t){const n=this.semanticTypes.length;for(let o=0;o<n;o++)if(this.semanticTypes[o][0]===e){const u=this.semanticTypes[o][1];return this.semanticTypes[o][1]=t,u}return this.semanticTypes.push([e,t]),null}push(e){return e&&(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(e,t,n){return this.result[this.offset]=e,this.resultMethod[this.offset]=t,this.resultLength[this.offset]=n,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(OA)}_pushInfinity(e){const t=e<0?LA:PA;return this.push(t)}_pushFloat(e){const t=oo.allocUnsafe(2);if(sn.writeHalf(t,e)&&sn.parseHalf(t)===e)return this._pushUInt8(kA)&&this.push(t);const n=oo.allocUnsafe(4);return n.writeFloatBE(e,0),n.readFloatBE(0)===e?this._pushUInt8(FA)&&this.push(n):this._pushUInt8(CA)&&this._pushDoubleBE(e)}_pushInt(e,t,n){const o=t<<5;return e<24?this._pushUInt8(o|e):e<=255?this._pushUInt8(o|Zc.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(o|Zc.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(o|Zc.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(o|Zc.EIGHT)&&this._pushUInt32BE(Math.floor(e/Uv))&&this._pushUInt32BE(e%Uv):t===$i.NEG_INT?this._pushFloat(n):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,$i.NEG_INT,e):this._pushInt(e,$i.POS_INT)}_pushNumber(e){switch(!1){case e===e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!=0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const t=oo.byteLength(e,"utf8");return this._pushInt(t,$i.UTF8_STRING)&&this.pushWrite(e,5,t)}_pushBoolean(e){return this._pushUInt8(e?RA:NA)}_pushUndefined(e){return this._pushUInt8(UA)}_pushArray(e,t){const n=t.length;if(!e._pushInt(n,$i.ARRAY))return!1;for(let o=0;o<n;o++)if(!e.pushAny(t[o]))return!1;return!0}_pushTag(e){return this._pushInt(e,$i.TAG)}_pushDate(e,t){return e._pushTag(wu.DATE_EPOCH)&&e.pushAny(Math.round(t/1e3))}_pushBuffer(e,t){return e._pushInt(t.length,$i.BYTE_STRING)&&e.push(t)}_pushNoFilter(e,t){return e._pushBuffer(e,t.slice())}_pushRegexp(e,t){return e._pushTag(wu.REGEXP)&&e.pushAny(t.source)}_pushSet(e,t){if(!e._pushInt(t.size,$i.ARRAY))return!1;for(const n of t)if(!e.pushAny(n))return!1;return!0}_pushUrl(e,t){return e._pushTag(wu.URI)&&e.pushAny(t.format())}_pushBigint(e){let t=wu.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),t=wu.NEG_BIGINT);let n=e.toString(16);n.length%2&&(n="0"+n);const o=oo.from(n,"hex");return this._pushTag(t)&&this._pushBuffer(this,o)}_pushBigNumber(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-1/0:1/0);if(t.isInteger())return e._pushBigint(t);if(!(e._pushTag(wu.DECIMAL_FRAC)&&e._pushInt(2,$i.ARRAY)))return!1;const n=t.decimalPlaces(),o=t.multipliedBy(new gh(10).pow(n));return e._pushIntNum(-n)?o.abs().isLessThan(DA)?e._pushIntNum(o.toNumber()):e._pushBigint(o):!1}_pushMap(e,t){return e._pushInt(t.size,$i.MAP)?this._pushRawMap(t.size,Array.from(t)):!1}_pushObject(e){if(!e)return this._pushUInt8(Ov);for(var t=this.semanticTypes.length,n=0;n<t;n++)if(e instanceof this.semanticTypes[n][0])return this.semanticTypes[n][1].call(e,this,e);var o=e.encodeCBOR;if(typeof o=="function")return o.call(e,this);var a=Object.keys(e),u=a.length;return this._pushInt(u,$i.MAP)?this._pushRawMap(u,a.map(f=>[f,e[f]])):!1}_pushRawMap(e,t){t=t.map(function(o){return o[0]=Qc.encode(o[0]),o}).sort(sn.keySorter);for(var n=0;n<e;n++)if(!this.push(t[n][0])||!this.pushAny(t[n][1]))return!1;return!0}write(e){return this.pushAny(e)}pushAny(e){var t=MA(e);switch(t){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,oo.isBuffer(e)?e:oo.from(e));case"Null":return this._pushUInt8(Ov);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case Dv.NULL:return this._pushObject(null);case Dv.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(this.offset===0)return null;for(var e=this.result,t=this.resultLength,n=this.resultMethod,o=this.offset,a=0,u=0;u<o;u++)a+=t[u];var f=oo.allocUnsafe(a),h=0,c=0;for(u=0;u<o;u++){switch(c=t[u],n[u]){case 0:e[u].copy(f,h);break;case 1:f.writeUInt8(e[u],h,!0);break;case 2:f.writeUInt16BE(e[u],h,!0);break;case 3:f.writeUInt32BE(e[u],h,!0);break;case 4:f.writeDoubleBE(e[u],h,!0);break;case 5:f.write(e[u],h,c,"utf8");break;default:throw new Error("unkown method")}h+=c}var y=f;return this._reset(),y}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){const t=new Qc;if(!t.pushAny(e))throw new Error("Failed to encode input");return t.finalize()}}var $A=Qc,Lv=Zt(function(r,e){e.Diagnose=BA,e.Decoder=Rv,e.Encoder=$A,e.Simple=Iv,e.Tagged=Bv,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}}),bh=function(r,e){return ae(void 0,void 0,void 0,function(){var t,n,o,a,u;return ue(this,function(f){switch(f.label){case 0:return dp(r)?[4,Sd(r)]:[3,2];case 1:return n=f.sent(),[3,3];case 2:n=r,f.label=3;case 3:return t=n,o=Lv.encode(t),dl(e)?[4,Jo.encrypt(o,e)]:[3,5];case 4:return u=f.sent(),[3,6];case 5:u=o,f.label=6;case 6:return a=u,[2,fh(a)]}})})},ef=function(r,e){return ae(void 0,void 0,void 0,function(){var t,n,o;return ue(this,function(a){switch(a.label){case 0:return[4,Gc(r)];case 1:return t=a.sent(),dl(e)?[4,Jo.decrypt(t,e)]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=t,a.label=4;case 4:return n=o,[2,Lv.decode(n)]}})})},zA=Object.freeze({__proto__:null,add:bh,catAndDecode:ef}),KA=Object.freeze({__proto__:null,encoded:zA,set:X3,get:na,iframe:y1,add:fh,catRaw:Ev,catBuf:Gc,cat:lh,ls:Av,dagGet:Wc,dagPut:Sv,dagPutLinks:hh,size:Es,attemptPin:jc,DAG_NODE_DATA:xv});function _h(r){return Zo(mr.Private,"Apps",r.creator,r.name)}function Pv(r){var e,t,n,o,a=[];return r.app&&a.push(_h(r.app)),((e=r.fs)===null||e===void 0?void 0:e.private)&&(a=a.concat((t=r.fs)===null||t===void 0?void 0:t.private.map(function(u){return xc(Zo(mr.Private),u)}))),((n=r.fs)===null||n===void 0?void 0:n.public)&&(a=a.concat((o=r.fs)===null||o===void 0?void 0:o.public.map(function(u){return xc(Zo(mr.Public),u)}))),a}const Mv={};function HA(r,e,t){if(!(r instanceof Uint8Array))throw new TypeError('"input" must be a Uint8Array.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(t!==void 0&&typeof t!="number")throw new TypeError('"maxline" must be a number.');if(r.length===0)return"";let n="",o=0;const a=e.length,u=e.charAt(0),f=[0];for(o=0;o<r.length;++o){let h=r[o];for(let c=0;c<f.length;++c)h+=f[c]<<8,f[c]=h%a,h=h/a|0;for(;h>0;)f.push(h%a),h=h/a|0}for(o=0;r[o]===0&&o<r.length-1;++o)n+=u;for(o=f.length-1;o>=0;--o)n+=e[f[o]];if(t){const h=new RegExp(".{1,"+t+"}","g");n=n.match(h).join(`\r
`)}return n}function GA(r,e){if(typeof r!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r.length===0)return new Uint8Array;let t=Mv[e];if(!t){t=Mv[e]=[];for(let u=0;u<e.length;++u)t[e.charCodeAt(u)]=u}r=r.replace(/\s/g,"");const n=e.length,o=e.charAt(0),a=[0];for(let u=0;u<r.length;u++){const f=t[r.charCodeAt(u)];if(f===void 0)return;let h=f;for(let c=0;c<a.length;++c)h+=a[c]*n,a[c]=h&255,h>>=8;for(;h>0;)a.push(h&255),h>>=8}for(let u=0;r[u]===o&&u<r.length-1;++u)a.push(0);return new Uint8Array(a.reverse())}/*!
 * Copyright (c) 2019-2020 Digital Bazaar, Inc. All rights reserved.
 */const $v="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function WA(r,e){return HA(r,$v,e)}function jA(r){return GA(r,$v)}var Xn;(function(r){r.RSA="rsa",r.Edwards="ed25519",r.BLS="bls12-381"})(Xn||(Xn={}));var wh=new Uint8Array([237,1]),xh=new Uint8Array([234,1]),Eh=new Uint8Array([0,245,2]),Ah="did:key:z";function YA(r){switch(r){case Xn.Edwards:return wh;case Xn.RSA:return Eh;case Xn.BLS:return xh;default:return null}}var qA=function(r){if(Sh(r,Eh))return{keyBuffer:r.slice(Eh.byteLength),type:Xn.RSA};if(Sh(r,wh))return{keyBuffer:r.slice(wh.byteLength),type:Xn.Edwards};if(Sh(r,xh))return{keyBuffer:r.slice(xh.byteLength),type:Xn.BLS};throw new Error("Unsupported key algorithm. Try using RSA.")},Sh=function(r,e){return bd(e,r.slice(0,e.byteLength))},zv=function(r){switch(r){case"rsa":return Xn.RSA;case"ed25519":return Xn.Edwards;case"bls12-381":return Xn.BLS}throw new Error("Key Type "+r+" not supported")};function Ih(r,e){var t=yr.base64ToArrBuf(r),n=YA(e);if(n===null)throw new Error("Key type '"+e+"' not supported");var o=yr.joinBufs(n,t);return Ah+WA(new Uint8Array(o))}function Kv(r){if(!r.startsWith(Ah))throw new Error("Please use a base58-encoded DID formatted `did:key:z...`");var e=r.substr(Ah.length),t=jA(e),n=qA(t),o=n.keyBuffer,a=n.type;return{publicKey:yr.arrBufToBase64(o),type:a}}function Hv(){return ae(this,void 0,void 0,function(){var r,e;return ue(this,function(t){switch(t.label){case 0:return[4,si.publicReadKey()];case 1:return r=t.sent(),[4,si.getAlg()];case 2:return e=t.sent(),[2,Ih(r,zv(e))]}})})}function zi(){return ae(this,void 0,void 0,function(){var r,e;return ue(this,function(t){switch(t.label){case 0:return[4,si.publicWriteKey()];case 1:return r=t.sent(),[4,si.getAlg()];case 2:return e=t.sent(),[2,Ih(r,zv(e))]}})})}function Gv(r){var e=r.charSize,t=e===void 0?16:e,n=r.data,o=r.did,a=r.signature;return ae(this,void 0,void 0,function(){var u,f,h,c,y,_,A;return ue(this,function(F){switch(F.label){case 0:switch(F.trys.push([0,7,,8]),u=Kv(o),f=u.type,h=u.publicKey,c=new Uint8Array(yr.base64ToArrBuf(a)),y=new Uint8Array(yr.normalizeUnicodeToBuf(n,t)),_=new Uint8Array(yr.base64ToArrBuf(h)),A=f,A){case Xn.Edwards:return[3,1];case Xn.RSA:return[3,3]}return[3,5];case 1:return[4,mp.verify(y,c,_)];case 2:return[2,F.sent()];case 3:return[4,yp.verify(y,c,_)];case 4:return[2,F.sent()];case 5:return[2,!1];case 6:return[3,8];case 7:return F.sent(),[2,!1];case 8:return[2]}})})}function VA(r){var e=r.addSignature,t=e===void 0?!0:e,n=r.audience,o=r.facts,a=o===void 0?[]:o,u=r.issuer,f=r.lifetimeInSeconds,h=f===void 0?30:f,c=r.expiration,y=r.potency,_=y===void 0?"APPEND":y,A=r.proof,F=r.resource;return ae(this,void 0,void 0,function(){var D,k,K,he,ge,ke,fe,V,ce,Se,le,Oe;return ue(this,function(Pe){switch(Pe.label){case 0:return D=Math.floor(Date.now()/1e3),k=A&&Ki(A),[4,si.getAlg()];case 1:return K=Pe.sent(),he={alg:JA(K)||"UnknownAlgorithm",typ:"JWT",uav:"1.0.0"},ge=c||D+h,ke=D-60,k&&(fe=k.payload,ge=Math.min(fe.exp,ge),ke=Math.max(fe.nbf,ke)),Oe={aud:n,exp:ge,fct:a},ce=u,ce?[3,3]:[4,zi()];case 2:ce=Pe.sent(),Pe.label=3;case 3:return V=(Oe.iss=ce,Oe.nbf=ke,Oe.prf=A||null,Oe.ptc=_,Oe.rsc=F||(k?k.payload.rsc:"*"),Oe),t?[4,jv(he,V)]:[3,5];case 4:return le=Pe.sent(),[3,6];case 5:le=null,Pe.label=6;case 6:return Se=le,[2,{header:he,payload:V,signature:Se}]}})})}function Ki(r){var e=r.split("."),t=JSON.parse(fc(e[0])),n=JSON.parse(fc(e[1]));return{header:t,payload:n,signature:e[2]||null}}function XA(r){var e=tf(r.header),t=rf(r.payload);return e+"."+t+"."+r.signature}function tf(r){return lc(JSON.stringify(r))}function rf(r){return lc(JSON.stringify(dr({},r)))}function ua(r){return r.payload.exp<=Math.floor(Date.now()/1e3)}function Wv(r){return ae(this,void 0,void 0,function(){var e,t,n,o,a;return ue(this,function(u){switch(u.label){case 0:return e=tf(r.header),t=rf(r.payload),[4,Gv({charSize:8,data:e+"."+t,did:r.payload.iss,signature:il(r.signature||"")})];case 1:return n=u.sent(),n?r.payload.prf?(o=Ki(r.payload.prf),a=o.payload.aud===r.payload.iss,a?[4,Wv(o)]:[2,a]):[2,!0]:[2,n];case 2:return[2,u.sent()]}})})}function Bh(r,e){e===void 0&&(e=0);var t=ZA(r,e);return t.prf?Bh(t.prf,e+1):t.iss}function jv(r,e){return ae(this,void 0,void 0,function(){var t,n,o,a;return ue(this,function(u){switch(u.label){case 0:return t=tf(r),n=rf(e),a=(o=Ad).makeUrlSafe,[4,si.sign(t+"."+n,8)];case 1:return[2,a.apply(o,[u.sent()])]}})})}function JA(r){switch(r){case"ed25519":return"EdDSA";case"rsa":return"RS256";default:return null}}function ZA(r,e){try{return JSON.parse(fc(r.split(".")[1]))}catch(t){throw new Error("Invalid UCAN ("+e+" level"+(e===1?"":"s")+" deep): `"+r+"`")}}var Th={};function nf(){return Th}function QA(r){Th=r}function e8(){return ae(this,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return Th={},[4,ll(bc)];case 1:return r.sent(),[2]}})})}var kh="wnfs";function Yv(r){return r.reduce(function(e,t){var n,o=Ki(t);if(ua(o))return e;var a=Fh(o.payload.rsc);return dr(dr({},e),(n={},n[a]=t,n))},{})}function Fh(r){if(typeof r!="object")return r;var e=Array.from(Object.entries(r))[0];return e[0]+":"+(e[0]===kh?e[1].replace(/^\/+/,""):e[1])}function Ch(r){return kh+":"}function ko(r){return nf()[r]}function As(r){return ae(this,void 0,void 0,function(){var e;return ue(this,function(t){return e=nf(),[2,e["*"]||e["app:*"]||e["app:"+r]]})})}function Rh(r){return ae(this,void 0,void 0,function(){var e,t,n,o,a;return ue(this,function(u){switch(u.label){case 0:return ko("*")?[2,ko("*")]:(e=r==="*",t=e?!1:Tn(r),n=e?["*"]:Kn(r),[4,pu()]);case 1:return o=u.sent(),a=o?Ch():"",[2,n.reduce(function(f,h,c){if(f)return f;var y=c===0,_=n.slice(0,n.length-c),A=zn(y&&!t?gp.apply(bl,_):Zo.apply(bl,_));return ko(""+a+A)||null},null)]}})})}var t8=Object.freeze({__proto__:null,WNFS_PREFIX:kh,compile:Yv,resourceLabel:Fh,filesystemPrefix:Ch,lookup:ko,lookupAppUcan:As,lookupFilesystemUcan:Rh});function Nh(r){return ae(this,void 0,void 0,function(){var e,t,n;return ue(this,function(o){switch(o.label){case 0:return[4,yc(bc)];case 1:return e=o.sent(),t=(e||[]).concat(r),QA(Yv(t)),n=r8(),[4,mc(bc,n)];case 2:return o.sent(),[2]}})})}function qv(r,e){var t=r.app,n=r.fs,o=r.raw,a=Ch(),u=ko("*");if(u&&!ua(Ki(u)))return!0;if(t){var f=a+zn(_h(t)),h=ko(f);if(!h||ua(Ki(h)))return!1}if(n==null?void 0:n.private){var c=n.private.every(function(A){var F=a+"private/"+zn(A),D=ko(F);return D&&!ua(Ki(D))});if(!c)return!1}if(n==null?void 0:n.public){var y=n.public.every(function(A){var F=a+"public/"+zn(A),D=ko(F);return D&&!ua(Ki(D))});if(!y)return!1}if(o){var _=o.every(function(A){var F=Fh(A.rsc),D=ko(F);return D&&!ua(Ki(D))});if(!_)return!1}return!0}function r8(){return Object.values(nf())}var Vv=Zt(function(r,e){(function(t,n){n(e)})(_e,function(t){function n(a,u,f,h){var c,y=!1,_=0;function A(){c&&clearTimeout(c)}function F(){A(),y=!0}typeof u!="boolean"&&(h=f,f=u,u=void 0);function D(){for(var k=arguments.length,K=new Array(k),he=0;he<k;he++)K[he]=arguments[he];var ge=this,ke=Date.now()-_;if(y)return;function fe(){_=Date.now(),f.apply(ge,K)}function V(){c=void 0}h&&!c&&fe(),A(),h===void 0&&ke>a?fe():u!==!0&&(c=setTimeout(h?V:fe,h===void 0?a-ke:a))}return D.cancel=F,D}function o(a,u,f){return f===void 0?n(a,u,!1):n(a,f,u!==!1)}t.debounce=o,t.throttle=n,Object.defineProperty(t,"__esModule",{value:!0})})}),Uh=function(r){var e=r.name,t=r.cid,n=r.size;return new Hc.DAGLink(e,n,t)},Xv=function(r){var e=r.name,t=e===void 0?"":e,n=r.cid,o=r.size,a=r.mtime,u=r.type;return{name:t,cid:n.toString(),size:o,mtime:a,isFile:u!=="dir"}},Dh=function(r){var e=r.Name,t=r.Hash.toString(),n=r.Tsize;return{name:e,cid:t,size:n}},Fo=function(r,e,t,n){return{name:r,cid:e,size:n,isFile:t,mtime:Date.now()}},Oh=function(r){return r.reduce(function(e,t){return e[t.name]=t,e},{})},Jv=Object.freeze({__proto__:null,toDAGLink:Uh,fromFSFile:Xv,fromDAGLink:Dh,make:Fo,arrToMap:Oh}),Zv=function(r){return ae(void 0,void 0,void 0,function(){return ue(this,function(e){return[2,Gc(r)]})})},n8=function(r,e){return ae(void 0,void 0,void 0,function(){return ue(this,function(t){return[2,ef(r,e)]})})},of=function(r){return ae(void 0,void 0,void 0,function(){return ue(this,function(e){return[2,fh(r)]})})},Lh=function(r,e){return ae(void 0,void 0,void 0,function(){return ue(this,function(t){return[2,bh(r,e)]})})},i8=function(r){return ae(void 0,void 0,void 0,function(){var e;return ue(this,function(t){switch(t.label){case 0:return[4,Wc(r)];case 1:return e=t.sent(),[2,Oh(e.Links.map(Dh))]}})})},Ss=function(r){return ae(void 0,void 0,void 0,function(){var e,t,n;return ue(this,function(o){switch(o.label){case 0:return[4,Av(r)];case 1:return e=o.sent(),t=Oh(e.map(Xv)),[4,Wc(r)];case 2:return n=o.sent(),n.Links.forEach(function(a){t[a.Name]&&t[a.Name].size===0&&(t[a.Name].size=a.Tsize)}),[2,t]}})})},xu=function(r){return ae(void 0,void 0,void 0,function(){var e;return ue(this,function(t){return e=Object.values(r).filter(function(n){return n!==void 0}).map(Uh),[2,hh(e)]})})},Cn=function(r){return Qr(r)&&r.content!==void 0},Qv=function(r){return Qr(r)&&Mi(r.name)&&Io(r.size)&&pl(r.isFile)},o8=function(r){return Qv(r)&&ao(r.cid)},a8=function(r){return Qr(r)&&Object.values(r).every(o8)},u8=function(r){return Qr(r)&&Io(r.mtime)&&Io(r.ctime)&&Io(r.mode)&&Mi(r._type)},Is=function(r){return Qr(r)&&u8(r.unixMeta)&&pl(r.isFile)&&f8(r.version)},Ph=function(r){return Qr(r)&&Object.values(r).every(function(e){return Qr(e)&&ao(e.cid)&&ao(e.userland)&&ao(e.metadata)&&Ph(e.subSkeleton)})},ey=function(r){return Qr(r)&&Ph(r.skeleton)&&Is(r.metadata)&&r.metadata.isFile===!1},s8=function(r){return ey(r)&&ao(r.userland)},ty=function(r){return Qr(r)&&Is(r.metadata)&&r.metadata.isFile===!0},c8=function(r){return ty(r)&&ao(r.userland)},ao=function(r){return Mi(r)},f8=function(r){if(!Qr(r))return!1;var e=r.major,t=r.minor,n=r.patch;return Io(e)&&Io(t)&&Io(n)},l8=function(r,e,t,n){return ae(void 0,void 0,void 0,function(){var o,a,u,f,h,c,y,_,A,F,D,k,K,he;return ue(this,function(ge){switch(ge.label){case 0:return[4,xu(r)];case 1:return o=ge.sent(),a=Fo("userland",o.cid,!0,o.size),[4,Promise.all([Mh("metadata",t),Mh("skeleton",e)])];case 2:return u=ge.sent(),f=u[0],h=u[1],n==null?[3,4]:(A=(_=Jv).make,F=["previous",n,!1],[4,Es(n)]);case 3:return y=A.apply(_,F.concat([ge.sent()])),[3,5];case 4:y=void 0,ge.label=5;case 5:return c=y,D={metadata:f,skeleton:h,userland:a,previous:c},[4,xu(D)];case 6:return k=ge.sent(),K=k.cid,he=k.size,[2,{cid:K,userland:a.cid,metadata:f.cid,size:he,isFile:!1,skeleton:e}]}})})},h8=function(r,e,t){return ae(void 0,void 0,void 0,function(){var n,o,a,u,f,h,c,y,_,A,F,D;return ue(this,function(k){switch(k.label){case 0:return[4,of(r)];case 1:return n=k.sent(),o=Fo("userland",n.cid,!0,n.size),[4,Mh("metadata",e)];case 2:return a=k.sent(),t==null?[3,4]:(c=(h=Jv).make,y=["previous",t,!1],[4,Es(t)]);case 3:return f=c.apply(h,y.concat([k.sent()])),[3,5];case 4:f=void 0,k.label=5;case 5:return u=f,_={metadata:a,userland:o,previous:u},[4,xu(_)];case 6:return A=k.sent(),F=A.cid,D=A.size,[2,{cid:F,userland:o.cid,metadata:a.cid,size:D,isFile:!0,skeleton:{}}]}})})},Mh=function(r,e){return ae(void 0,void 0,void 0,function(){var t,n,o;return ue(this,function(a){switch(a.label){case 0:return[4,bh(e,null)];case 1:return t=a.sent(),n=t.cid,o=t.size,[2,Fo(r,n,!0,o)]}})})},$h=function(r){return ae(void 0,void 0,void 0,function(){var e,t,n,o,a,u,f,h;return ue(this,function(c){switch(c.label){case 0:return[4,Ss(r)];case 1:return e=c.sent(),[4,ny(e,"metadata",Is)];case 2:return t=c.sent(),t.isFile?(o=void 0,[3,5]):[3,3];case 3:return[4,ny(e,"skeleton",Ph)];case 4:o=c.sent(),c.label=5;case 5:if(n=o,a=((f=e.userland)===null||f===void 0?void 0:f.cid)||null,!ao(a))throw new Error("Could not find userland");return u=((h=e.previous)===null||h===void 0?void 0:h.cid)||void 0,[2,{userland:a,metadata:t,previous:u,skeleton:n}]}})})},d8=function(r,e){return ae(void 0,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return Mi(r)?[4,Ss(r)]:[3,2];case 1:return t=n.sent(),[2,ry(t,e)];case 2:return[2,ry(r,e)]}})})},ry=function(r,e){return ae(void 0,void 0,void 0,function(){var t,n;return ue(this,function(o){return t=(n=r[e])===null||n===void 0?void 0:n.cid,t?[2,ef(t,null)]:[2,null]})})},ny=function(r,e,t,n){return n===void 0&&(n=!1),ae(void 0,void 0,void 0,function(){var o;return ue(this,function(a){switch(a.label){case 0:return[4,d8(r,e)];case 1:return o=a.sent(),[2,p8(o,e,t,n)]}})})},p8=function(r,e,t,n){if(n===void 0&&(n=!1),!hp(r)){if(n)return r;throw new Error("Could not find header value: "+e)}if(t(r))return r;throw new Error("Improperly formatted header value: "+e)},v8=function(r){return af(r)||Eu(r)},Eu=function(r){return Qr(r)&&Is(r.metadata)&&r.metadata.isFile&&Mi(r.key)&&ao(r.content)},af=function(r){return Qr(r)&&Is(r.metadata)&&r.metadata.isFile===!1&&Io(r.revision)&&m8(r.links)&&iy(r.skeleton)},y8=function(r){return Qv(r)&&Mi(r.key)&&Mi(r.pointer)},m8=function(r){return Qr(r)&&Object.values(r).every(y8)},iy=function(r){return Qr(r)&&Object.values(r).every(g8)},g8=function(r){return Qr(r)&&ao(r.cid)&&Mi(r.key)&&iy(r.subSkeleton)},b8=Zt(function(r){(function(e){t(Math.pow(36,5)),t(Math.pow(16,7)),t(Math.pow(10,9)),t(Math.pow(2,30)),t(36),t(16),t(10),t(2);function t(u,f){if(!(this instanceof t))return new t(u,f);if(this._low=0,this._high=0,this.remainder=null,typeof f=="undefined")return o.call(this,u);if(typeof u=="string")return a.call(this,u,f);n.call(this,u,f)}function n(u,f){return this._low=u|0,this._high=f|0,this}t.prototype.fromBits=n;function o(u){return this._low=u&65535,this._high=u>>>16,this}t.prototype.fromNumber=o;function a(u,f){var h=parseInt(u,f||10);return this._low=h&65535,this._high=h>>>16,this}t.prototype.fromString=a,t.prototype.toNumber=function(){return this._high*65536+this._low},t.prototype.toString=function(u){return this.toNumber().toString(u||10)},t.prototype.add=function(u){var f=this._low+u._low,h=f>>>16;return h+=this._high+u._high,this._low=f&65535,this._high=h&65535,this},t.prototype.subtract=function(u){return this.add(u.clone().negate())},t.prototype.multiply=function(u){var f=this._high,h=this._low,c=u._high,y=u._low,_,A;return A=h*y,_=A>>>16,_+=f*y,_&=65535,_+=h*c,this._low=A&65535,this._high=_&65535,this},t.prototype.div=function(u){if(u._low==0&&u._high==0)throw Error("division by zero");if(u._high==0&&u._low==1)return this.remainder=new t(0),this;if(u.gt(this))return this.remainder=this.clone(),this._low=0,this._high=0,this;if(this.eq(u))return this.remainder=new t(0),this._low=1,this._high=0,this;for(var f=u.clone(),h=-1;!this.lt(f);)f.shiftLeft(1,!0),h++;for(this.remainder=this.clone(),this._low=0,this._high=0;h>=0;h--)f.shiftRight(1),this.remainder.lt(f)||(this.remainder.subtract(f),h>=16?this._high|=1<<h-16:this._low|=1<<h);return this},t.prototype.negate=function(){var u=(~this._low&65535)+1;return this._low=u&65535,this._high=~this._high+(u>>>16)&65535,this},t.prototype.equals=t.prototype.eq=function(u){return this._low==u._low&&this._high==u._high},t.prototype.greaterThan=t.prototype.gt=function(u){return this._high>u._high?!0:this._high<u._high?!1:this._low>u._low},t.prototype.lessThan=t.prototype.lt=function(u){return this._high<u._high?!0:this._high>u._high?!1:this._low<u._low},t.prototype.or=function(u){return this._low|=u._low,this._high|=u._high,this},t.prototype.and=function(u){return this._low&=u._low,this._high&=u._high,this},t.prototype.not=function(){return this._low=~this._low&65535,this._high=~this._high&65535,this},t.prototype.xor=function(u){return this._low^=u._low,this._high^=u._high,this},t.prototype.shiftRight=t.prototype.shiftr=function(u){return u>16?(this._low=this._high>>u-16,this._high=0):u==16?(this._low=this._high,this._high=0):(this._low=this._low>>u|this._high<<16-u&65535,this._high>>=u),this},t.prototype.shiftLeft=t.prototype.shiftl=function(u,f){return u>16?(this._high=this._low<<u-16,this._low=0,f||(this._high&=65535)):u==16?(this._high=this._low,this._low=0):(this._high=this._high<<u|this._low>>16-u,this._low=this._low<<u&65535,f||(this._high&=65535)),this},t.prototype.rotateLeft=t.prototype.rotl=function(u){var f=this._high<<16|this._low;return f=f<<u|f>>>32-u,this._low=f&65535,this._high=f>>>16,this},t.prototype.rotateRight=t.prototype.rotr=function(u){var f=this._high<<16|this._low;return f=f>>>u|f<<32-u,this._low=f&65535,this._high=f>>>16,this},t.prototype.clone=function(){return new t(this._low,this._high)},r.exports?r.exports=t:e.UINT32=t})(_e)}),_8=Zt(function(r){(function(e){var t={16:o(Math.pow(16,5)),10:o(Math.pow(10,5)),2:o(Math.pow(2,5))},n={16:o(16),10:o(10),2:o(2)};function o(h,c,y,_){if(!(this instanceof o))return new o(h,c,y,_);if(this.remainder=null,typeof h=="string")return f.call(this,h,c);if(typeof c=="undefined")return u.call(this,h);a.apply(this,arguments)}function a(h,c,y,_){return typeof y=="undefined"?(this._a00=h&65535,this._a16=h>>>16,this._a32=c&65535,this._a48=c>>>16,this):(this._a00=h|0,this._a16=c|0,this._a32=y|0,this._a48=_|0,this)}o.prototype.fromBits=a;function u(h){return this._a00=h&65535,this._a16=h>>>16,this._a32=0,this._a48=0,this}o.prototype.fromNumber=u;function f(h,c){c=c||10,this._a00=0,this._a16=0,this._a32=0,this._a48=0;for(var y=t[c]||new o(Math.pow(c,5)),_=0,A=h.length;_<A;_+=5){var F=Math.min(5,A-_),D=parseInt(h.slice(_,_+F),c);this.multiply(F<5?new o(Math.pow(c,F)):y).add(new o(D))}return this}o.prototype.fromString=f,o.prototype.toNumber=function(){return this._a16*65536+this._a00},o.prototype.toString=function(h){h=h||10;var c=n[h]||new o(h);if(!this.gt(c))return this.toNumber().toString(h);for(var y=this.clone(),_=new Array(64),A=63;A>=0&&(y.div(c),_[A]=y.remainder.toNumber().toString(h),!!y.gt(c));A--);return _[A-1]=y.toNumber().toString(h),_.join("")},o.prototype.add=function(h){var c=this._a00+h._a00,y=c>>>16;y+=this._a16+h._a16;var _=y>>>16;_+=this._a32+h._a32;var A=_>>>16;return A+=this._a48+h._a48,this._a00=c&65535,this._a16=y&65535,this._a32=_&65535,this._a48=A&65535,this},o.prototype.subtract=function(h){return this.add(h.clone().negate())},o.prototype.multiply=function(h){var c=this._a00,y=this._a16,_=this._a32,A=this._a48,F=h._a00,D=h._a16,k=h._a32,K=h._a48,he=c*F,ge=he>>>16;ge+=c*D;var ke=ge>>>16;ge&=65535,ge+=y*F,ke+=ge>>>16,ke+=c*k;var fe=ke>>>16;return ke&=65535,ke+=y*D,fe+=ke>>>16,ke&=65535,ke+=_*F,fe+=ke>>>16,fe+=c*K,fe&=65535,fe+=y*k,fe&=65535,fe+=_*D,fe&=65535,fe+=A*F,this._a00=he&65535,this._a16=ge&65535,this._a32=ke&65535,this._a48=fe&65535,this},o.prototype.div=function(h){if(h._a16==0&&h._a32==0&&h._a48==0){if(h._a00==0)throw Error("division by zero");if(h._a00==1)return this.remainder=new o(0),this}if(h.gt(this))return this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0,this;if(this.eq(h))return this.remainder=new o(0),this._a00=1,this._a16=0,this._a32=0,this._a48=0,this;for(var c=h.clone(),y=-1;!this.lt(c);)c.shiftLeft(1,!0),y++;for(this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;y>=0;y--)c.shiftRight(1),this.remainder.lt(c)||(this.remainder.subtract(c),y>=48?this._a48|=1<<y-48:y>=32?this._a32|=1<<y-32:y>=16?this._a16|=1<<y-16:this._a00|=1<<y);return this},o.prototype.negate=function(){var h=(~this._a00&65535)+1;return this._a00=h&65535,h=(~this._a16&65535)+(h>>>16),this._a16=h&65535,h=(~this._a32&65535)+(h>>>16),this._a32=h&65535,this._a48=~this._a48+(h>>>16)&65535,this},o.prototype.equals=o.prototype.eq=function(h){return this._a48==h._a48&&this._a00==h._a00&&this._a32==h._a32&&this._a16==h._a16},o.prototype.greaterThan=o.prototype.gt=function(h){return this._a48>h._a48?!0:this._a48<h._a48?!1:this._a32>h._a32?!0:this._a32<h._a32?!1:this._a16>h._a16?!0:this._a16<h._a16?!1:this._a00>h._a00},o.prototype.lessThan=o.prototype.lt=function(h){return this._a48<h._a48?!0:this._a48>h._a48?!1:this._a32<h._a32?!0:this._a32>h._a32?!1:this._a16<h._a16?!0:this._a16>h._a16?!1:this._a00<h._a00},o.prototype.or=function(h){return this._a00|=h._a00,this._a16|=h._a16,this._a32|=h._a32,this._a48|=h._a48,this},o.prototype.and=function(h){return this._a00&=h._a00,this._a16&=h._a16,this._a32&=h._a32,this._a48&=h._a48,this},o.prototype.xor=function(h){return this._a00^=h._a00,this._a16^=h._a16,this._a32^=h._a32,this._a48^=h._a48,this},o.prototype.not=function(){return this._a00=~this._a00&65535,this._a16=~this._a16&65535,this._a32=~this._a32&65535,this._a48=~this._a48&65535,this},o.prototype.shiftRight=o.prototype.shiftr=function(h){return h%=64,h>=48?(this._a00=this._a48>>h-48,this._a16=0,this._a32=0,this._a48=0):h>=32?(h-=32,this._a00=(this._a32>>h|this._a48<<16-h)&65535,this._a16=this._a48>>h&65535,this._a32=0,this._a48=0):h>=16?(h-=16,this._a00=(this._a16>>h|this._a32<<16-h)&65535,this._a16=(this._a32>>h|this._a48<<16-h)&65535,this._a32=this._a48>>h&65535,this._a48=0):(this._a00=(this._a00>>h|this._a16<<16-h)&65535,this._a16=(this._a16>>h|this._a32<<16-h)&65535,this._a32=(this._a32>>h|this._a48<<16-h)&65535,this._a48=this._a48>>h&65535),this},o.prototype.shiftLeft=o.prototype.shiftl=function(h,c){return h%=64,h>=48?(this._a48=this._a00<<h-48,this._a32=0,this._a16=0,this._a00=0):h>=32?(h-=32,this._a48=this._a16<<h|this._a00>>16-h,this._a32=this._a00<<h&65535,this._a16=0,this._a00=0):h>=16?(h-=16,this._a48=this._a32<<h|this._a16>>16-h,this._a32=(this._a16<<h|this._a00>>16-h)&65535,this._a16=this._a00<<h&65535,this._a00=0):(this._a48=this._a48<<h|this._a32>>16-h,this._a32=(this._a32<<h|this._a16>>16-h)&65535,this._a16=(this._a16<<h|this._a00>>16-h)&65535,this._a00=this._a00<<h&65535),c||(this._a48&=65535),this},o.prototype.rotateLeft=o.prototype.rotl=function(h){if(h%=64,h==0)return this;if(h>=32){var c=this._a00;if(this._a00=this._a32,this._a32=c,c=this._a48,this._a48=this._a16,this._a16=c,h==32)return this;h-=32}var y=this._a48<<16|this._a32,_=this._a16<<16|this._a00,A=y<<h|_>>>32-h,F=_<<h|y>>>32-h;return this._a00=F&65535,this._a16=F>>>16,this._a32=A&65535,this._a48=A>>>16,this},o.prototype.rotateRight=o.prototype.rotr=function(h){if(h%=64,h==0)return this;if(h>=32){var c=this._a00;if(this._a00=this._a32,this._a32=c,c=this._a48,this._a48=this._a16,this._a16=c,h==32)return this;h-=32}var y=this._a48<<16|this._a32,_=this._a16<<16|this._a00,A=y>>>h|_<<32-h,F=_>>>h|y<<32-h;return this._a00=F&65535,this._a16=F>>>16,this._a32=A&65535,this._a48=A>>>16,this},o.prototype.clone=function(){return new o(this._a00,this._a16,this._a32,this._a48)},r.exports?r.exports=o:e.UINT64=o})(_e)}),w8=b8,x8=_8,oy={UINT32:w8,UINT64:x8},Co=oy.UINT32;Co.prototype.xxh_update=function(r,e){var t=Ts._low,n=Ts._high,o,a;a=r*t,o=a>>>16,o+=e*t,o&=65535,o+=r*n;var u=this._low+(a&65535),f=u>>>16;f+=this._high+(o&65535);var h=f<<16|u&65535;h=h<<13|h>>>19,u=h&65535,f=h>>>16,t=Bs._low,n=Bs._high,a=u*t,o=a>>>16,o+=f*t,o&=65535,o+=u*n,this._low=a&65535,this._high=o&65535};var Bs=Co("2654435761"),Ts=Co("2246822519"),ay=Co("3266489917"),E8=Co("668265263"),uy=Co("374761393");function A8(r){for(var e=[],t=0,n=r.length;t<n;t++){var o=r.charCodeAt(t);o<128?e.push(o):o<2048?e.push(192|o>>6,128|o&63):o<55296||o>=57344?e.push(224|o>>12,128|o>>6&63,128|o&63):(t++,o=65536+((o&1023)<<10|r.charCodeAt(t)&1023),e.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63))}return new Uint8Array(e)}function Ga(){if(arguments.length==2)return new Ga(arguments[1]).update(arguments[0]).digest();if(!(this instanceof Ga))return new Ga(arguments[0]);sy.call(this,arguments[0])}function sy(r){return this.seed=r instanceof Co?r.clone():Co(r),this.v1=this.seed.clone().add(Bs).add(Ts),this.v2=this.seed.clone().add(Ts),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(Bs),this.total_len=0,this.memsize=0,this.memory=null,this}Ga.prototype.init=sy,Ga.prototype.update=function(r){var e=typeof r=="string",t;e&&(r=A8(r),e=!1,t=!0),typeof ArrayBuffer!="undefined"&&r instanceof ArrayBuffer&&(t=!0,r=new Uint8Array(r));var n=0,o=r.length,a=n+o;if(o==0)return this;if(this.total_len+=o,this.memsize==0&&(e?this.memory="":t?this.memory=new Uint8Array(16):this.memory=new Fr.Buffer(16)),this.memsize+o<16)return e?this.memory+=r:t?this.memory.set(r.subarray(0,o),this.memsize):r.copy(this.memory,this.memsize,0,o),this.memsize+=o,this;if(this.memsize>0){e?this.memory+=r.slice(0,16-this.memsize):t?this.memory.set(r.subarray(0,16-this.memsize),this.memsize):r.copy(this.memory,this.memsize,0,16-this.memsize);var u=0;e?(this.v1.xxh_update(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2)),u+=4,this.v2.xxh_update(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2)),u+=4,this.v3.xxh_update(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2)),u+=4,this.v4.xxh_update(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2))):(this.v1.xxh_update(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2]),u+=4,this.v2.xxh_update(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2]),u+=4,this.v3.xxh_update(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2]),u+=4,this.v4.xxh_update(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2])),n+=16-this.memsize,this.memsize=0,e&&(this.memory="")}if(n<=a-16){var f=a-16;do e?(this.v1.xxh_update(r.charCodeAt(n+1)<<8|r.charCodeAt(n),r.charCodeAt(n+3)<<8|r.charCodeAt(n+2)),n+=4,this.v2.xxh_update(r.charCodeAt(n+1)<<8|r.charCodeAt(n),r.charCodeAt(n+3)<<8|r.charCodeAt(n+2)),n+=4,this.v3.xxh_update(r.charCodeAt(n+1)<<8|r.charCodeAt(n),r.charCodeAt(n+3)<<8|r.charCodeAt(n+2)),n+=4,this.v4.xxh_update(r.charCodeAt(n+1)<<8|r.charCodeAt(n),r.charCodeAt(n+3)<<8|r.charCodeAt(n+2))):(this.v1.xxh_update(r[n+1]<<8|r[n],r[n+3]<<8|r[n+2]),n+=4,this.v2.xxh_update(r[n+1]<<8|r[n],r[n+3]<<8|r[n+2]),n+=4,this.v3.xxh_update(r[n+1]<<8|r[n],r[n+3]<<8|r[n+2]),n+=4,this.v4.xxh_update(r[n+1]<<8|r[n],r[n+3]<<8|r[n+2])),n+=4;while(n<=f)}return n<a&&(e?this.memory+=r.slice(n):t?this.memory.set(r.subarray(n,a),this.memsize):r.copy(this.memory,this.memsize,n,a),this.memsize=a-n),this},Ga.prototype.digest=function(){var r=this.memory,e=typeof r=="string",t=0,n=this.memsize,o,a,u=new Co;for(this.total_len>=16?o=this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18)))):o=this.seed.clone().add(uy),o.add(u.fromNumber(this.total_len));t<=n-4;)e?u.fromBits(r.charCodeAt(t+1)<<8|r.charCodeAt(t),r.charCodeAt(t+3)<<8|r.charCodeAt(t+2)):u.fromBits(r[t+1]<<8|r[t],r[t+3]<<8|r[t+2]),o.add(u.multiply(ay)).rotl(17).multiply(E8),t+=4;for(;t<n;)u.fromBits(e?r.charCodeAt(t++):r[t++],0),o.add(u.multiply(uy)).rotl(11).multiply(Bs);return a=o.clone().shiftRight(15),o.xor(a).multiply(Ts),a=o.clone().shiftRight(13),o.xor(a).multiply(ay),a=o.clone().shiftRight(16),o.xor(a),this.init(this.seed),o};var S8=Ga,Wr=oy.UINT64,Nr=Wr("11400714785074694791"),Hr=Wr("14029467366897019727"),cy=Wr("1609587929392839161"),ks=Wr("9650029242287828579"),fy=Wr("2870177450012600261");function I8(r){for(var e=[],t=0,n=r.length;t<n;t++){var o=r.charCodeAt(t);o<128?e.push(o):o<2048?e.push(192|o>>6,128|o&63):o<55296||o>=57344?e.push(224|o>>12,128|o>>6&63,128|o&63):(t++,o=65536+((o&1023)<<10|r.charCodeAt(t)&1023),e.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63))}return new Uint8Array(e)}function Wa(){if(arguments.length==2)return new Wa(arguments[1]).update(arguments[0]).digest();if(!(this instanceof Wa))return new Wa(arguments[0]);ly.call(this,arguments[0])}function ly(r){return this.seed=r instanceof Wr?r.clone():Wr(r),this.v1=this.seed.clone().add(Nr).add(Hr),this.v2=this.seed.clone().add(Hr),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(Nr),this.total_len=0,this.memsize=0,this.memory=null,this}Wa.prototype.init=ly,Wa.prototype.update=function(r){var e=typeof r=="string",t;e&&(r=I8(r),e=!1,t=!0),typeof ArrayBuffer!="undefined"&&r instanceof ArrayBuffer&&(t=!0,r=new Uint8Array(r));var n=0,o=r.length,a=n+o;if(o==0)return this;if(this.total_len+=o,this.memsize==0&&(e?this.memory="":t?this.memory=new Uint8Array(32):this.memory=new Fr.Buffer(32)),this.memsize+o<32)return e?this.memory+=r:t?this.memory.set(r.subarray(0,o),this.memsize):r.copy(this.memory,this.memsize,0,o),this.memsize+=o,this;if(this.memsize>0){e?this.memory+=r.slice(0,32-this.memsize):t?this.memory.set(r.subarray(0,32-this.memsize),this.memsize):r.copy(this.memory,this.memsize,0,32-this.memsize);var u=0;if(e){var f;f=Wr(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2),this.memory.charCodeAt(u+5)<<8|this.memory.charCodeAt(u+4),this.memory.charCodeAt(u+7)<<8|this.memory.charCodeAt(u+6)),this.v1.add(f.multiply(Hr)).rotl(31).multiply(Nr),u+=8,f=Wr(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2),this.memory.charCodeAt(u+5)<<8|this.memory.charCodeAt(u+4),this.memory.charCodeAt(u+7)<<8|this.memory.charCodeAt(u+6)),this.v2.add(f.multiply(Hr)).rotl(31).multiply(Nr),u+=8,f=Wr(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2),this.memory.charCodeAt(u+5)<<8|this.memory.charCodeAt(u+4),this.memory.charCodeAt(u+7)<<8|this.memory.charCodeAt(u+6)),this.v3.add(f.multiply(Hr)).rotl(31).multiply(Nr),u+=8,f=Wr(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2),this.memory.charCodeAt(u+5)<<8|this.memory.charCodeAt(u+4),this.memory.charCodeAt(u+7)<<8|this.memory.charCodeAt(u+6)),this.v4.add(f.multiply(Hr)).rotl(31).multiply(Nr)}else{var f;f=Wr(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2],this.memory[u+5]<<8|this.memory[u+4],this.memory[u+7]<<8|this.memory[u+6]),this.v1.add(f.multiply(Hr)).rotl(31).multiply(Nr),u+=8,f=Wr(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2],this.memory[u+5]<<8|this.memory[u+4],this.memory[u+7]<<8|this.memory[u+6]),this.v2.add(f.multiply(Hr)).rotl(31).multiply(Nr),u+=8,f=Wr(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2],this.memory[u+5]<<8|this.memory[u+4],this.memory[u+7]<<8|this.memory[u+6]),this.v3.add(f.multiply(Hr)).rotl(31).multiply(Nr),u+=8,f=Wr(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2],this.memory[u+5]<<8|this.memory[u+4],this.memory[u+7]<<8|this.memory[u+6]),this.v4.add(f.multiply(Hr)).rotl(31).multiply(Nr)}n+=32-this.memsize,this.memsize=0,e&&(this.memory="")}if(n<=a-32){var h=a-32;do{if(e){var f;f=Wr(r.charCodeAt(n+1)<<8|r.charCodeAt(n),r.charCodeAt(n+3)<<8|r.charCodeAt(n+2),r.charCodeAt(n+5)<<8|r.charCodeAt(n+4),r.charCodeAt(n+7)<<8|r.charCodeAt(n+6)),this.v1.add(f.multiply(Hr)).rotl(31).multiply(Nr),n+=8,f=Wr(r.charCodeAt(n+1)<<8|r.charCodeAt(n),r.charCodeAt(n+3)<<8|r.charCodeAt(n+2),r.charCodeAt(n+5)<<8|r.charCodeAt(n+4),r.charCodeAt(n+7)<<8|r.charCodeAt(n+6)),this.v2.add(f.multiply(Hr)).rotl(31).multiply(Nr),n+=8,f=Wr(r.charCodeAt(n+1)<<8|r.charCodeAt(n),r.charCodeAt(n+3)<<8|r.charCodeAt(n+2),r.charCodeAt(n+5)<<8|r.charCodeAt(n+4),r.charCodeAt(n+7)<<8|r.charCodeAt(n+6)),this.v3.add(f.multiply(Hr)).rotl(31).multiply(Nr),n+=8,f=Wr(r.charCodeAt(n+1)<<8|r.charCodeAt(n),r.charCodeAt(n+3)<<8|r.charCodeAt(n+2),r.charCodeAt(n+5)<<8|r.charCodeAt(n+4),r.charCodeAt(n+7)<<8|r.charCodeAt(n+6)),this.v4.add(f.multiply(Hr)).rotl(31).multiply(Nr)}else{var f;f=Wr(r[n+1]<<8|r[n],r[n+3]<<8|r[n+2],r[n+5]<<8|r[n+4],r[n+7]<<8|r[n+6]),this.v1.add(f.multiply(Hr)).rotl(31).multiply(Nr),n+=8,f=Wr(r[n+1]<<8|r[n],r[n+3]<<8|r[n+2],r[n+5]<<8|r[n+4],r[n+7]<<8|r[n+6]),this.v2.add(f.multiply(Hr)).rotl(31).multiply(Nr),n+=8,f=Wr(r[n+1]<<8|r[n],r[n+3]<<8|r[n+2],r[n+5]<<8|r[n+4],r[n+7]<<8|r[n+6]),this.v3.add(f.multiply(Hr)).rotl(31).multiply(Nr),n+=8,f=Wr(r[n+1]<<8|r[n],r[n+3]<<8|r[n+2],r[n+5]<<8|r[n+4],r[n+7]<<8|r[n+6]),this.v4.add(f.multiply(Hr)).rotl(31).multiply(Nr)}n+=8}while(n<=h)}return n<a&&(e?this.memory+=r.slice(n):t?this.memory.set(r.subarray(n,a),this.memsize):r.copy(this.memory,this.memsize,n,a),this.memsize=a-n),this},Wa.prototype.digest=function(){var r=this.memory,e=typeof r=="string",t=0,n=this.memsize,o,a,u=new Wr;for(this.total_len>=32?(o=this.v1.clone().rotl(1),o.add(this.v2.clone().rotl(7)),o.add(this.v3.clone().rotl(12)),o.add(this.v4.clone().rotl(18)),o.xor(this.v1.multiply(Hr).rotl(31).multiply(Nr)),o.multiply(Nr).add(ks),o.xor(this.v2.multiply(Hr).rotl(31).multiply(Nr)),o.multiply(Nr).add(ks),o.xor(this.v3.multiply(Hr).rotl(31).multiply(Nr)),o.multiply(Nr).add(ks),o.xor(this.v4.multiply(Hr).rotl(31).multiply(Nr)),o.multiply(Nr).add(ks)):o=this.seed.clone().add(fy),o.add(u.fromNumber(this.total_len));t<=n-8;)e?u.fromBits(r.charCodeAt(t+1)<<8|r.charCodeAt(t),r.charCodeAt(t+3)<<8|r.charCodeAt(t+2),r.charCodeAt(t+5)<<8|r.charCodeAt(t+4),r.charCodeAt(t+7)<<8|r.charCodeAt(t+6)):u.fromBits(r[t+1]<<8|r[t],r[t+3]<<8|r[t+2],r[t+5]<<8|r[t+4],r[t+7]<<8|r[t+6]),u.multiply(Hr).rotl(31).multiply(Nr),o.xor(u).rotl(27).multiply(Nr).add(ks),t+=8;for(t+4<=n&&(e?u.fromBits(r.charCodeAt(t+1)<<8|r.charCodeAt(t),r.charCodeAt(t+3)<<8|r.charCodeAt(t+2),0,0):u.fromBits(r[t+1]<<8|r[t],r[t+3]<<8|r[t+2],0,0),o.xor(u.multiply(Nr)).rotl(23).multiply(Hr).add(cy),t+=4);t<n;)u.fromBits(e?r.charCodeAt(t++):r[t++],0,0,0),o.xor(u.multiply(fy)).rotl(11).multiply(Nr);return a=o.clone().shiftRight(33),o.xor(a).multiply(Hr),a=o.clone().shiftRight(29),o.xor(a).multiply(cy),a=o.clone().shiftRight(32),o.xor(a),this.init(this.seed),o};var B8=Wa,T8={h32:S8,h64:B8},k8=_e&&_e.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},F8=_e&&_e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},Hn=F8(T8);function C8(r,e){for(var t=new Array(r),n=typeof e=="function"?e:function(){return e},o=0;o<r;o++)t[o]=n();return t}var R8=C8;function zh(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=Ro());var n=Hn.default.h64(r,t+1),o=Hn.default.h64(r,t+2);if(e)return{first:n.toNumber(),second:o.toNumber()};var a=n.toString(16);a.length<16&&(a="0".repeat(16-a.length)+a);var u=o.toString(16);return u.length<16&&(u="0".repeat(16-u.length)+u),{first:Number(a),second:Number(u)}}var N8=zh;function U8(r,e){e===void 0&&(e=Ro());var t=Hn.default.h64(r,e+1),n=Hn.default.h64(r,e+2),o=t.toString(16);o.length<16&&(o="0".repeat(16-o.length)+o);var a=n.toString(16);return a.length<16&&(a="0".repeat(16-a.length)+a),{first:o,second:a}}var D8=U8;function O8(r,e){e===void 0&&(e=Ro());var t=Hn.default.h64(r,e+1),n=Hn.default.h64(r,e+2),o=t.toString(16);o.length<16&&(o="0".repeat(16-o.length)+o);var a=n.toString(16);return a.length<16&&(a="0".repeat(16-a.length)+a),{int:{first:t.toNumber(),second:n.toNumber()},string:{first:o,second:a}}}var L8=O8;function Kh(r,e,t,n){return Math.abs((e+r*t)%n)}var P8=Kh;function M8(r,e,t,n){n===void 0&&(n=Ro());function o(a,u,f,h,c){if(c===void 0&&(c=[]),c.length===h)return c;var y=zh(u,!0,n+f%a),_=Kh(a,y.first,y.second,f);return c.includes(_)||c.push(_),o(a+1,u,f,h,c)}return o(1,r,e,t)}var $8=M8;function z8(r,e,t,n){n===void 0&&(n=Ro());for(var o=[],a=1;a<=t;a++){var u=zh(r,!0,n+e%a);o.push(Kh(a,u.first,u.second,e))}if(o.length!==t)throw new Error("report this, please, shouldnt be of different size");return o}var K8=z8;function H8(r,e,t){t===void 0&&(t=Math.random),r=Math.ceil(r),e=Math.floor(e);var n=t();return Math.floor(n*(e-r+1))+r}var G8=H8;function W8(r,e){for(var t=Math.max(r.length,e.length),n=Fr.Buffer.allocUnsafe(t).fill(0),o=0;o<t;++o)o<r.length&&o<e.length?n[t-o-1]=r[r.length-o-1]^e[e.length-o-1]:o<r.length&&o>=e.length?n[t-o-1]^=r[r.length-o-1]:o<e.length&&o>=r.length&&(n[t-o-1]^=e[e.length-o-1]);for(var a=0,u=n.values(),f=u.next();!f.done&&f.value===0;)a++,f=u.next();var h=n.slice(a);return h}var j8=W8;function Y8(r){var e,t;if(r===null||!r)return!0;try{for(var n=k8(r),o=n.next();!o.done;o=n.next()){var a=o.value;if(a!==0)return!1}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return!0}var q8=Y8;function V8(r,e,t){switch(e===void 0&&(e=Ro()),t){case 32:return Hn.default.h32(r,e).toNumber();case 64:return Hn.default.h64(r,e).toNumber();default:return Hn.default.h64(r,e).toNumber()}}var X8=V8;function J8(r,e,t,n){e===void 0&&(e=Ro()),t===void 0&&(t=16),n===void 0&&(n=64);var o;switch(n){case 32:o=Hn.default.h32(r,e);break;case 64:o=Hn.default.h64(r,e);break;default:o=Hn.default.h64(r,e);break}var a="";return t===16?(a=o.toString(t),a.length<n/4&&(a="0".repeat(n/4-a.length)+a)):t===2&&(a=Hh(o.toString(16)),a.length<n&&(a="0".repeat(n-a.length)+a)),a}var Z8=J8;function Q8(r,e,t,n){e===void 0&&(e=Ro()),t===void 0&&(t=16),n===void 0&&(n=64);var o;switch(n){case 32:o=Hn.default.h32(r,e);break;case 64:o=Hn.default.h64(r,e);break;default:o=Hn.default.h64(r,e);break}var a="";return t===16?(a=o.toString(t),a.length<n/4&&(a="0".repeat(n/4-a.length)+a)):t===2&&(a=Hh(o.toString(16)),a.length<n&&(a="0".repeat(n-a.length)+a)),{int:o.toNumber(),string:a}}var e6=Q8;function Ro(){return 78187493520}var t6=Ro;function r6(r){return Math.ceil(Math.pow(2,Math.floor(Math.log(r)/Math.log(2))))}var n6=r6;function Hh(r){return parseInt(r,16).toString(2)}var i6=Hh;function o6(r){return[128,64,32,16,8,4,2,1].map(function(e){return(e&r)>0?1:0})}var a6=o6;function u6(r){return r.reduce(function(e,t,n){if(t===0)return e;if(t===1)return e+Math.pow(2,7-n);throw new Error("Not binary")},0)}var s6=u6,Wt=Object.defineProperty({allocateArray:R8,hashTwice:N8,hashTwiceAsString:D8,allInOneHashTwice:L8,doubleHashing:P8,getDistinctIndices:$8,getIndices:K8,randomInt:G8,xorBuffer:j8,isEmptyBuffer:q8,hashAsInt:X8,hashAsString:Z8,hashIntAndString:e6,getDefaultSeed:t6,power2:n6,hex2bin:i6,uint8ToBits:a6,bitsToUint8:s6},"__esModule",{value:!0}),c6=Zt(function(r){(function(e,t,n){function o(h){var c=this,y=f();c.next=function(){var _=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=_-(c.c=_|0)},c.c=1,c.s0=y(" "),c.s1=y(" "),c.s2=y(" "),c.s0-=y(h),c.s0<0&&(c.s0+=1),c.s1-=y(h),c.s1<0&&(c.s1+=1),c.s2-=y(h),c.s2<0&&(c.s2+=1),y=null}function a(h,c){return c.c=h.c,c.s0=h.s0,c.s1=h.s1,c.s2=h.s2,c}function u(h,c){var y=new o(h),_=c&&c.state,A=y.next;return A.int32=function(){return y.next()*4294967296|0},A.double=function(){return A()+(A()*2097152|0)*11102230246251565e-32},A.quick=A,_&&(typeof _=="object"&&a(_,y),A.state=function(){return a(y,{})}),A}function f(){var h=4022871197,c=function(y){y=String(y);for(var _=0;_<y.length;_++){h+=y.charCodeAt(_);var A=.02519603282416938*h;h=A>>>0,A-=h,A*=h,h=A>>>0,A-=h,h+=A*4294967296}return(h>>>0)*23283064365386963e-26};return c}t&&t.exports?t.exports=u:n&&n.amd?n(function(){return u}):this.alea=u})(_e,r,!1)}),f6=Zt(function(r){(function(e,t,n){function o(f){var h=this,c="";h.x=0,h.y=0,h.z=0,h.w=0,h.next=function(){var _=h.x^h.x<<11;return h.x=h.y,h.y=h.z,h.z=h.w,h.w^=h.w>>>19^_^_>>>8},f===(f|0)?h.x=f:c+=f;for(var y=0;y<c.length+64;y++)h.x^=c.charCodeAt(y)|0,h.next()}function a(f,h){return h.x=f.x,h.y=f.y,h.z=f.z,h.w=f.w,h}function u(f,h){var c=new o(f),y=h&&h.state,_=function(){return(c.next()>>>0)/4294967296};return _.double=function(){do var A=c.next()>>>11,F=(c.next()>>>0)/4294967296,D=(A+F)/(1<<21);while(D===0);return D},_.int32=c.next,_.quick=_,y&&(typeof y=="object"&&a(y,c),_.state=function(){return a(c,{})}),_}t&&t.exports?t.exports=u:n&&n.amd?n(function(){return u}):this.xor128=u})(_e,r,!1)}),l6=Zt(function(r){(function(e,t,n){function o(f){var h=this,c="";h.next=function(){var _=h.x^h.x>>>2;return h.x=h.y,h.y=h.z,h.z=h.w,h.w=h.v,(h.d=h.d+362437|0)+(h.v=h.v^h.v<<4^(_^_<<1))|0},h.x=0,h.y=0,h.z=0,h.w=0,h.v=0,f===(f|0)?h.x=f:c+=f;for(var y=0;y<c.length+64;y++)h.x^=c.charCodeAt(y)|0,y==c.length&&(h.d=h.x<<10^h.x>>>4),h.next()}function a(f,h){return h.x=f.x,h.y=f.y,h.z=f.z,h.w=f.w,h.v=f.v,h.d=f.d,h}function u(f,h){var c=new o(f),y=h&&h.state,_=function(){return(c.next()>>>0)/4294967296};return _.double=function(){do var A=c.next()>>>11,F=(c.next()>>>0)/4294967296,D=(A+F)/(1<<21);while(D===0);return D},_.int32=c.next,_.quick=_,y&&(typeof y=="object"&&a(y,c),_.state=function(){return a(c,{})}),_}t&&t.exports?t.exports=u:n&&n.amd?n(function(){return u}):this.xorwow=u})(_e,r,!1)}),h6=Zt(function(r){(function(e,t,n){function o(f){var h=this;h.next=function(){var y=h.x,_=h.i,A,F;return A=y[_],A^=A>>>7,F=A^A<<24,A=y[_+1&7],F^=A^A>>>10,A=y[_+3&7],F^=A^A>>>3,A=y[_+4&7],F^=A^A<<7,A=y[_+7&7],A=A^A<<13,F^=A^A<<9,y[_]=F,h.i=_+1&7,F};function c(y,_){var A,F=[];if(_===(_|0))F[0]=_;else for(_=""+_,A=0;A<_.length;++A)F[A&7]=F[A&7]<<15^_.charCodeAt(A)+F[A+1&7]<<13;for(;F.length<8;)F.push(0);for(A=0;A<8&&F[A]===0;++A);for(A==8&&(F[7]=-1),y.x=F,y.i=0,A=256;A>0;--A)y.next()}c(h,f)}function a(f,h){return h.x=f.x.slice(),h.i=f.i,h}function u(f,h){f==null&&(f=+new Date);var c=new o(f),y=h&&h.state,_=function(){return(c.next()>>>0)/4294967296};return _.double=function(){do var A=c.next()>>>11,F=(c.next()>>>0)/4294967296,D=(A+F)/(1<<21);while(D===0);return D},_.int32=c.next,_.quick=_,y&&(y.x&&a(y,c),_.state=function(){return a(c,{})}),_}t&&t.exports?t.exports=u:n&&n.amd?n(function(){return u}):this.xorshift7=u})(_e,r,!1)}),d6=Zt(function(r){(function(e,t,n){function o(f){var h=this;h.next=function(){var y=h.w,_=h.X,A=h.i,F,D;return h.w=y=y+1640531527|0,D=_[A+34&127],F=_[A=A+1&127],D^=D<<13,F^=F<<17,D^=D>>>15,F^=F>>>12,D=_[A]=D^F,h.i=A,D+(y^y>>>16)|0};function c(y,_){var A,F,D,k,K,he=[],ge=128;for(_===(_|0)?(F=_,_=null):(_=_+"\0",F=0,ge=Math.max(ge,_.length)),D=0,k=-32;k<ge;++k)_&&(F^=_.charCodeAt((k+32)%_.length)),k===0&&(K=F),F^=F<<10,F^=F>>>15,F^=F<<4,F^=F>>>13,k>=0&&(K=K+1640531527|0,A=he[k&127]^=F+K,D=A==0?D+1:0);for(D>=128&&(he[(_&&_.length||0)&127]=-1),D=127,k=4*128;k>0;--k)F=he[D+34&127],A=he[D=D+1&127],F^=F<<13,A^=A<<17,F^=F>>>15,A^=A>>>12,he[D]=F^A;y.w=K,y.X=he,y.i=D}c(h,f)}function a(f,h){return h.i=f.i,h.w=f.w,h.X=f.X.slice(),h}function u(f,h){f==null&&(f=+new Date);var c=new o(f),y=h&&h.state,_=function(){return(c.next()>>>0)/4294967296};return _.double=function(){do var A=c.next()>>>11,F=(c.next()>>>0)/4294967296,D=(A+F)/(1<<21);while(D===0);return D},_.int32=c.next,_.quick=_,y&&(y.X&&a(y,c),_.state=function(){return a(c,{})}),_}t&&t.exports?t.exports=u:n&&n.amd?n(function(){return u}):this.xor4096=u})(_e,r,!1)}),p6=Zt(function(r){(function(e,t,n){function o(f){var h=this,c="";h.next=function(){var _=h.b,A=h.c,F=h.d,D=h.a;return _=_<<25^_>>>7^A,A=A-F|0,F=F<<24^F>>>8^D,D=D-_|0,h.b=_=_<<20^_>>>12^A,h.c=A=A-F|0,h.d=F<<16^A>>>16^D,h.a=D-_|0},h.a=0,h.b=0,h.c=2654435769|0,h.d=1367130551,f===Math.floor(f)?(h.a=f/4294967296|0,h.b=f|0):c+=f;for(var y=0;y<c.length+20;y++)h.b^=c.charCodeAt(y)|0,h.next()}function a(f,h){return h.a=f.a,h.b=f.b,h.c=f.c,h.d=f.d,h}function u(f,h){var c=new o(f),y=h&&h.state,_=function(){return(c.next()>>>0)/4294967296};return _.double=function(){do var A=c.next()>>>11,F=(c.next()>>>0)/4294967296,D=(A+F)/(1<<21);while(D===0);return D},_.int32=c.next,_.quick=_,y&&(typeof y=="object"&&a(y,c),_.state=function(){return a(c,{})}),_}t&&t.exports?t.exports=u:n&&n.amd?n(function(){return u}):this.tychei=u})(_e,r,!1)}),v6={},y6=Object.freeze({__proto__:null,default:v6}),m6=tl(y6),ja=Zt(function(r){(function(e,t,n){var o=256,a=6,u=52,f="random",h=n.pow(o,a),c=n.pow(2,u),y=c*2,_=o-1,A;function F(fe,V,ce){var Se=[];V=V==!0?{entropy:!0}:V||{};var le=he(K(V.entropy?[fe,ke(t)]:fe??ge(),3),Se),Oe=new D(Se),Pe=function(){for(var vt=Oe.g(a),dt=h,pt=0;vt<c;)vt=(vt+pt)*o,dt*=o,pt=Oe.g(1);for(;vt>=y;)vt/=2,dt/=2,pt>>>=1;return(vt+pt)/dt};return Pe.int32=function(){return Oe.g(4)|0},Pe.quick=function(){return Oe.g(4)/4294967296},Pe.double=Pe,he(ke(Oe.S),t),(V.pass||ce||function(vt,dt,pt,xt){return xt&&(xt.S&&k(xt,Oe),vt.state=function(){return k(Oe,{})}),pt?(n[f]=vt,dt):vt})(Pe,le,"global"in V?V.global:this==n,V.state)}function D(fe){var V,ce=fe.length,Se=this,le=0,Oe=Se.i=Se.j=0,Pe=Se.S=[];for(ce||(fe=[ce++]);le<o;)Pe[le]=le++;for(le=0;le<o;le++)Pe[le]=Pe[Oe=_&Oe+fe[le%ce]+(V=Pe[le])],Pe[Oe]=V;(Se.g=function(vt){for(var dt,pt=0,xt=Se.i,lt=Se.j,Dt=Se.S;vt--;)dt=Dt[xt=_&xt+1],pt=pt*o+Dt[_&(Dt[xt]=Dt[lt=_&lt+dt])+(Dt[lt]=dt)];return Se.i=xt,Se.j=lt,pt})(o)}function k(fe,V){return V.i=fe.i,V.j=fe.j,V.S=fe.S.slice(),V}function K(fe,V){var ce=[],Se=typeof fe,le;if(V&&Se=="object")for(le in fe)try{ce.push(K(fe[le],V-1))}catch(Oe){}return ce.length?ce:Se=="string"?fe:fe+"\0"}function he(fe,V){for(var ce=fe+"",Se,le=0;le<ce.length;)V[_&le]=_&(Se^=V[_&le]*19)+ce.charCodeAt(le++);return ke(V)}function ge(){try{var fe;return A&&(fe=A.randomBytes)?fe=fe(o):(fe=new Uint8Array(o),(e.crypto||e.msCrypto).getRandomValues(fe)),ke(fe)}catch(Se){var V=e.navigator,ce=V&&V.plugins;return[+new Date,e,ce,e.screen,ke(t)]}}function ke(fe){return String.fromCharCode.apply(0,fe)}if(he(n.random(),t),r.exports){r.exports=F;try{A=m6}catch(fe){}}else n["seed"+f]=F})(typeof self!="undefined"?self:_e,[],Math)});ja.alea=c6,ja.xor128=f6,ja.xorwow=l6,ja.xorshift7=h6,ja.xor4096=d6,ja.tychei=p6;var g6=ja,b6=_e&&_e.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e},_6=_e&&_e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},w6=b6(Wt),hy=_6(g6),x6=function(){function r(){this._seed=w6.getDefaultSeed(),this._rng=hy.default(""+this._seed)}return Object.defineProperty(r.prototype,"seed",{get:function(){return this._seed},set:function(e){this._seed=e,this._rng=hy.default(""+this._seed)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"random",{get:function(){return this._rng},enumerable:!0,configurable:!0}),r}(),E6=x6,uo=Object.defineProperty({default:E6},"__esModule",{value:!0}),dy;(function(r){(function(e){var t=typeof _e=="object"?_e:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=o(r);typeof t.Reflect=="undefined"?t.Reflect=r:n=o(t.Reflect,n),e(n);function o(a,u){return function(f,h){typeof a[f]!="function"&&Object.defineProperty(a,f,{configurable:!0,writable:!0,value:h}),u&&u(f,h)}}})(function(e){var t=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",o=n&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",a=n&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",u=typeof Object.create=="function",f={__proto__:[]}instanceof Array,h=!u&&!f,c={create:u?function(){return ut(Object.create(null))}:f?function(){return ut({__proto__:null})}:function(){return ut({})},has:h?function(se,De){return t.call(se,De)}:function(se,De){return De in se},get:h?function(se,De){return t.call(se,De)?se[De]:void 0}:function(se,De){return se[De]}},y=Object.getPrototypeOf(Function),_=typeof Ji=="object"&&Ji.env&&Ji.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",A=!_&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Q(),F=!_&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:ve(),D=!_&&typeof WeakMap=="function"?WeakMap:Ke(),k=new D;function K(se,De,x,p){if(gt(x)){if(!T(se))throw new TypeError;if(!q(De))throw new TypeError;return Pe(se,De)}else{if(!T(se))throw new TypeError;if(!oe(De))throw new TypeError;if(!oe(p)&&!gt(p)&&!kt(p))throw new TypeError;return kt(p)&&(p=void 0),x=E(x),vt(se,De,x,p)}}e("decorate",K);function he(se,De){function x(p,m){if(!oe(p))throw new TypeError;if(!gt(m)&&!X(m))throw new TypeError;Rt(se,De,p,m)}return x}e("metadata",he);function ge(se,De,x,p){if(!oe(x))throw new TypeError;return gt(p)||(p=E(p)),Rt(se,De,x,p)}e("defineMetadata",ge);function ke(se,De,x){if(!oe(De))throw new TypeError;return gt(x)||(x=E(x)),pt(se,De,x)}e("hasMetadata",ke);function fe(se,De,x){if(!oe(De))throw new TypeError;return gt(x)||(x=E(x)),xt(se,De,x)}e("hasOwnMetadata",fe);function V(se,De,x){if(!oe(De))throw new TypeError;return gt(x)||(x=E(x)),lt(se,De,x)}e("getMetadata",V);function ce(se,De,x){if(!oe(De))throw new TypeError;return gt(x)||(x=E(x)),Dt(se,De,x)}e("getOwnMetadata",ce);function Se(se,De){if(!oe(se))throw new TypeError;return gt(De)||(De=E(De)),Yt(se,De)}e("getMetadataKeys",Se);function le(se,De){if(!oe(se))throw new TypeError;return gt(De)||(De=E(De)),gr(se,De)}e("getOwnMetadataKeys",le);function Oe(se,De,x){if(!oe(De))throw new TypeError;gt(x)||(x=E(x));var p=dt(De,x,!1);if(gt(p)||!p.delete(se))return!1;if(p.size>0)return!0;var m=k.get(De);return m.delete(x),m.size>0||k.delete(De),!0}e("deleteMetadata",Oe);function Pe(se,De){for(var x=se.length-1;x>=0;--x){var p=se[x],m=p(De);if(!gt(m)&&!kt(m)){if(!q(m))throw new TypeError;De=m}}return De}function vt(se,De,x,p){for(var m=se.length-1;m>=0;--m){var z=se[m],re=z(De,x,p);if(!gt(re)&&!kt(re)){if(!oe(re))throw new TypeError;p=re}}return p}function dt(se,De,x){var p=k.get(se);if(gt(p)){if(!x)return;p=new A,k.set(se,p)}var m=p.get(De);if(gt(m)){if(!x)return;m=new A,p.set(De,m)}return m}function pt(se,De,x){var p=xt(se,De,x);if(p)return!0;var m=N(De);return kt(m)?!1:pt(se,m,x)}function xt(se,De,x){var p=dt(De,x,!1);return gt(p)?!1:M(p.has(se))}function lt(se,De,x){var p=xt(se,De,x);if(p)return Dt(se,De,x);var m=N(De);if(!kt(m))return lt(se,m,x)}function Dt(se,De,x){var p=dt(De,x,!1);if(!gt(p))return p.get(se)}function Rt(se,De,x,p){var m=dt(x,p,!0);m.set(se,De)}function Yt(se,De){var x=gr(se,De),p=N(se);if(p===null)return x;var m=Yt(p,De);if(m.length<=0)return x;if(x.length<=0)return m;for(var z=new F,re=[],we=0,Ee=x;we<Ee.length;we++){var We=Ee[we],ft=z.has(We);ft||(z.add(We),re.push(We))}for(var Et=0,At=m;Et<At.length;Et++){var We=At[Et],ft=z.has(We);ft||(z.add(We),re.push(We))}return re}function gr(se,De){var x=[],p=dt(se,De,!1);if(gt(p))return x;for(var m=p.keys(),z=S(m),re=0;;){var we=v(z);if(!we)return x.length=re,x;var Ee=d(we);try{x[re]=Ee}catch(We){try{I(z)}finally{throw We}}re++}}function yt(se){if(se===null)return 1;switch(typeof se){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return se===null?1:6;default:return 6}}function gt(se){return se===void 0}function kt(se){return se===null}function Xe(se){return typeof se=="symbol"}function oe(se){return typeof se=="object"?se!==null:typeof se=="function"}function R(se,De){switch(yt(se)){case 0:return se;case 1:return se;case 2:return se;case 3:return se;case 4:return se;case 5:return se}var x=De===3?"string":De===5?"number":"default",p=ee(se,o);if(p!==void 0){var m=p.call(se,x);if(oe(m))throw new TypeError;return m}return ie(se,x==="default"?"number":x)}function ie(se,De){if(De==="string"){var x=se.toString;if(C(x)){var p=x.call(se);if(!oe(p))return p}var m=se.valueOf;if(C(m)){var p=m.call(se);if(!oe(p))return p}}else{var m=se.valueOf;if(C(m)){var p=m.call(se);if(!oe(p))return p}var z=se.toString;if(C(z)){var p=z.call(se);if(!oe(p))return p}}throw new TypeError}function M(se){return!!se}function H(se){return""+se}function E(se){var De=R(se,3);return Xe(De)?De:H(De)}function T(se){return Array.isArray?Array.isArray(se):se instanceof Object?se instanceof Array:Object.prototype.toString.call(se)==="[object Array]"}function C(se){return typeof se=="function"}function q(se){return typeof se=="function"}function X(se){switch(yt(se)){case 3:return!0;case 4:return!0;default:return!1}}function ee(se,De){var x=se[De];if(x!=null){if(!C(x))throw new TypeError;return x}}function S(se){var De=ee(se,a);if(!C(De))throw new TypeError;var x=De.call(se);if(!oe(x))throw new TypeError;return x}function d(se){return se.value}function v(se){var De=se.next();return De.done?!1:De}function I(se){var De=se.return;De&&De.call(se)}function N(se){var De=Object.getPrototypeOf(se);if(typeof se!="function"||se===y||De!==y)return De;var x=se.prototype,p=x&&Object.getPrototypeOf(x);if(p==null||p===Object.prototype)return De;var m=p.constructor;return typeof m!="function"||m===se?De:m}function Q(){var se={},De=[],x=function(){function re(we,Ee,We){this._index=0,this._keys=we,this._values=Ee,this._selector=We}return re.prototype["@@iterator"]=function(){return this},re.prototype[a]=function(){return this},re.prototype.next=function(){var we=this._index;if(we>=0&&we<this._keys.length){var Ee=this._selector(this._keys[we],this._values[we]);return we+1>=this._keys.length?(this._index=-1,this._keys=De,this._values=De):this._index++,{value:Ee,done:!1}}return{value:void 0,done:!0}},re.prototype.throw=function(we){throw this._index>=0&&(this._index=-1,this._keys=De,this._values=De),we},re.prototype.return=function(we){return this._index>=0&&(this._index=-1,this._keys=De,this._values=De),{value:we,done:!0}},re}();return function(){function re(){this._keys=[],this._values=[],this._cacheKey=se,this._cacheIndex=-2}return Object.defineProperty(re.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),re.prototype.has=function(we){return this._find(we,!1)>=0},re.prototype.get=function(we){var Ee=this._find(we,!1);return Ee>=0?this._values[Ee]:void 0},re.prototype.set=function(we,Ee){var We=this._find(we,!0);return this._values[We]=Ee,this},re.prototype.delete=function(we){var Ee=this._find(we,!1);if(Ee>=0){for(var We=this._keys.length,ft=Ee+1;ft<We;ft++)this._keys[ft-1]=this._keys[ft],this._values[ft-1]=this._values[ft];return this._keys.length--,this._values.length--,we===this._cacheKey&&(this._cacheKey=se,this._cacheIndex=-2),!0}return!1},re.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=se,this._cacheIndex=-2},re.prototype.keys=function(){return new x(this._keys,this._values,p)},re.prototype.values=function(){return new x(this._keys,this._values,m)},re.prototype.entries=function(){return new x(this._keys,this._values,z)},re.prototype["@@iterator"]=function(){return this.entries()},re.prototype[a]=function(){return this.entries()},re.prototype._find=function(we,Ee){return this._cacheKey!==we&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=we)),this._cacheIndex<0&&Ee&&(this._cacheIndex=this._keys.length,this._keys.push(we),this._values.push(void 0)),this._cacheIndex},re}();function p(re,we){return re}function m(re,we){return we}function z(re,we){return[re,we]}}function ve(){return function(){function se(){this._map=new A}return Object.defineProperty(se.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),se.prototype.has=function(De){return this._map.has(De)},se.prototype.add=function(De){return this._map.set(De,De),this},se.prototype.delete=function(De){return this._map.delete(De)},se.prototype.clear=function(){this._map.clear()},se.prototype.keys=function(){return this._map.keys()},se.prototype.values=function(){return this._map.values()},se.prototype.entries=function(){return this._map.entries()},se.prototype["@@iterator"]=function(){return this.keys()},se.prototype[a]=function(){return this.keys()},se}()}function Ke(){var se=16,De=c.create(),x=p();return function(){function Ee(){this._key=p()}return Ee.prototype.has=function(We){var ft=m(We,!1);return ft!==void 0?c.has(ft,this._key):!1},Ee.prototype.get=function(We){var ft=m(We,!1);return ft!==void 0?c.get(ft,this._key):void 0},Ee.prototype.set=function(We,ft){var Et=m(We,!0);return Et[this._key]=ft,this},Ee.prototype.delete=function(We){var ft=m(We,!1);return ft!==void 0?delete ft[this._key]:!1},Ee.prototype.clear=function(){this._key=p()},Ee}();function p(){var Ee;do Ee="@@WeakMap@@"+we();while(c.has(De,Ee));return De[Ee]=!0,Ee}function m(Ee,We){if(!t.call(Ee,x)){if(!We)return;Object.defineProperty(Ee,x,{value:c.create()})}return Ee[x]}function z(Ee,We){for(var ft=0;ft<We;++ft)Ee[ft]=Math.random()*255|0;return Ee}function re(Ee){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(Ee)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(Ee)):z(new Uint8Array(Ee),Ee):z(new Array(Ee),Ee)}function we(){var Ee=re(se);Ee[6]=Ee[6]&79|64,Ee[8]=Ee[8]&191|128;for(var We="",ft=0;ft<se;++ft){var Et=Ee[ft];(ft===4||ft===6||ft===8)&&(We+="-"),Et<16&&(We+="0"),We+=Et.toString(16).toLowerCase()}return We}}function ut(se){return se.__=void 0,delete se.__,se}})})(dy||(dy={}));var A6=_e&&_e.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),o,a=[],u;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(f){u={error:f}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(u)throw u.error}}return a},S6=_e&&_e.__spread||function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(A6(arguments[e]));return r};function Fs(r){return r==null?r:Array.isArray(r)?r.map(Fs):typeof r=="object"?"saveAsJSON"in r?r.saveAsJSON():Object.assign({},r):r}var I6=Fs;function B6(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(n){var o={type:r};return e.forEach(function(a){o[a]=Fs(n[a])}),o}}var T6=B6;function k6(r){return function(e){return e.prototype.saveAsJSON=function(){return r.export(this)},e.fromJSON=function(t){return r.import(t)},e}}var F6=k6,Gh=Symbol("bloom-filters:exportable:class-name"),Au=Symbol("bloom-filters:exportable:fields"),Su=Symbol("bloom-filters:exportable:constructor-parameters");function C6(r,e){return r===void 0&&(r=Fs),e===void 0&&(e=function(t){return t}),function(t,n){var o=[];Reflect.hasMetadata(Au,t)&&(o=Reflect.getMetadata(Au,t)),o.push({name:n,exporter:r,importer:e}),Reflect.defineMetadata(Au,o,t)}}var R6=C6;function N6(r){return function(e,t,n){var o=new Map;Reflect.hasMetadata(Su,e)&&(o=Reflect.getMetadata(Su,e)),o.set(r,n),Reflect.defineMetadata(Su,o,e)}}var U6=N6;function D6(r,e){return e===void 0&&(e=[]),function(t){if(Reflect.defineMetadata(Gh,r,t.prototype),!Reflect.hasMetadata(Au,t.prototype)||e.length===0)throw new SyntaxError("No exported fields declared when @AutoExportable is called");Reflect.hasMetadata(Su,t)||Reflect.defineMetadata(Su,new Map,t),t.prototype.saveAsJSON=function(){var n=this,o={type:Reflect.getMetadata(Gh,t.prototype)},a=Reflect.getMetadata(Au,t.prototype);return a.forEach(function(u){o[u.name]=u.exporter(n[u.name])}),e.forEach(function(u){o[u]=Fs(n[u])}),o},t.fromJSON=function(n){var o=Reflect.getMetadata(Gh,t.prototype),a=Reflect.getMetadata(Su,t),u=Reflect.getMetadata(Au,t.prototype);if(n.type!==o)throw new Error("Cannot create an object "+o+' from a JSON export with type "'+n.type+'"');var f=[],h=[];e.map(function(y){return{name:y,importer:function(_){return _}}}).concat(u).forEach(function(y){if(!(y.name in n))throw new Error('Invalid import: required field "'+y+'" not found in JSON export "'+n+'"');a.has(y.name)?f[a.get(y.name)]=y.importer(n[y.name]):h.push({name:y.name,value:y.importer(n[y.name])})});var c=new(t.bind.apply(t,S6([void 0],f)));return h.forEach(function(y){c[y.name]=y.value}),c}}}var O6=D6,_t=Object.defineProperty({cloneField:I6,cloneObject:T6,Exportable:F6,Field:R6,Parameter:U6,AutoExportable:O6},"__esModule",{value:!0});function L6(r,e){return Math.ceil(-(r*Math.log(e)/Math.pow(Math.log(2),2)))}var P6=L6;function M6(r,e){return Math.ceil(r/e*Math.log(2))}var $6=M6,Iu=Object.defineProperty({optimalFilterSize:P6,optimalHashes:$6},"__esModule",{value:!0}),z6=_e&&_e.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cs=_e&&_e.__decorate||function(r,e,t,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(a=(o<3?u(a):o>3?u(e,t,a):u(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a},Rs=_e&&_e.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},py=_e&&_e.__param||function(r,e){return function(t,n){e(t,n,r)}},K6=_e&&_e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},H6=K6(uo),G6=function(r){z6(e,r);function e(n,o){var a=r.call(this)||this;if(o<1)throw new Error("A BloomFilter cannot uses less than one hash function, while you tried to use "+o+".");return a._size=n.length,a._nbHashes=o,a._filter=n,a._length=0,a}t=e,e.empty=function(n,o){var a=Wt.allocateArray(n,0);return new t(a,o)},e.create=function(n,o){var a=Iu.optimalFilterSize(n,o),u=Iu.optimalHashes(a,n),f=Wt.allocateArray(a,0);return new t(f,u)},e.from=function(n,o){var a=Array.from(n),u=t.create(a.length,o);return a.forEach(function(f){return u.add(f)}),u},e.fromBytes=function(n,o){for(var a=[],u=0;u<n.length;u++){var f=Wt.uint8ToBits(n[u]);a=a.concat(f)}return new t(a,o)},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.add=function(n){for(var o=Wt.getDistinctIndices(n,this._size,this._nbHashes,this.seed),a=0;a<o.length;a++)this._filter[o[a]]=1;this._length++},e.prototype.has=function(n){for(var o=Wt.getDistinctIndices(n,this._size,this._nbHashes,this.seed),a=0;a<o.length;a++)if(!this._filter[o[a]])return!1;return!0},e.prototype.rate=function(){return Math.pow(1-Math.exp(-this._nbHashes*this._length/this._size),this._nbHashes)},e.prototype.equals=function(n){return this._size!==n._size||this._nbHashes!==n._nbHashes?!1:this._filter.every(function(o,a){return n._filter[a]===o})},e.prototype.toBytes=function(){for(var n=new Uint8Array(Math.ceil(this._size/8)),o=0;o<n.length;o++){var a=this._filter.slice(o*8,o*8+8);n[o]=Wt.bitsToUint8(a)}return n};var t;return Cs([_t.Field(),Rs("design:type",Number)],e.prototype,"_size",void 0),Cs([_t.Field(),Rs("design:type",Number)],e.prototype,"_nbHashes",void 0),Cs([_t.Field(),Rs("design:type",Array)],e.prototype,"_filter",void 0),Cs([_t.Field(),Rs("design:type",Number)],e.prototype,"_length",void 0),e=t=Cs([_t.AutoExportable("BloomFilter",["_seed"]),py(0,_t.Parameter("_filter")),py(1,_t.Parameter("_nbHashes")),Rs("design:paramtypes",[Array,Number])],e),e}(H6.default),W6=G6,j6=Object.defineProperty({default:W6},"__esModule",{value:!0}),Y6=_e&&_e.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ns=_e&&_e.__decorate||function(r,e,t,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(a=(o<3?u(a):o>3?u(e,t,a):u(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a},Us=_e&&_e.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},vy=_e&&_e.__param||function(r,e){return function(t,n){e(t,n,r)}},q6=_e&&_e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},V6=q6(uo),X6=function(r){Y6(e,r);function e(n,o){var a=r.call(this)||this;if(o<1)throw new Error("A CountingBloomFilter must used at least one hash function, but you tried to use "+o+" functions. Consider increasing it.");return a._size=n,a._nbHashes=o,a._filter=Wt.allocateArray(a._size,function(){return[0,0]}),a._length=0,a}t=e,e.create=function(n,o){var a=Iu.optimalFilterSize(n,o);return new t(a,Iu.optimalHashes(a,n))},e.from=function(n,o){var a=Array.from(n),u=t.create(a.length,o);return a.forEach(function(f){return u.add(f)}),u},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.add=function(n){for(var o=Wt.getDistinctIndices(n,this._size,this._nbHashes,this.seed),a=0;a<o.length;a++)this._filter[o[a]][1]+=1,this._filter[o[a]][1]>0&&(this._filter[o[a]][0]=1);this._length++},e.prototype.remove=function(n){for(var o=Wt.getDistinctIndices(n,this._size,this._nbHashes,this.seed),a=!0,u=0;u<o.length;u++)this._filter[o[u]][1]-=1,this._filter[o[u]][1]<=0&&(this._filter[o[u]][0]=0);return this._length--,a},e.prototype.has=function(n){for(var o=Wt.getDistinctIndices(n,this._size,this._nbHashes,this.seed),a=0;a<o.length;a++)if(!this._filter[o[a]][0])return!1;return!0},e.prototype.rate=function(){return Math.pow(1-Math.exp(-this._nbHashes*this._length/this._size),this._nbHashes)},e.prototype.equals=function(n){return this._size!==n._size||this._nbHashes!==n._nbHashes||this._length!==n._length?!1:this._filter.every(function(o,a){return n._filter[a][0]===o[0]&&n._filter[a][1]===o[1]})};var t;return Ns([_t.Field(),Us("design:type",Number)],e.prototype,"_size",void 0),Ns([_t.Field(),Us("design:type",Number)],e.prototype,"_nbHashes",void 0),Ns([_t.Field(),Us("design:type",Array)],e.prototype,"_filter",void 0),Ns([_t.Field(),Us("design:type",Number)],e.prototype,"_length",void 0),e=t=Ns([_t.AutoExportable("CountingBloomFilter",["_seed"]),vy(0,_t.Parameter("_size")),vy(1,_t.Parameter("_nbHashes")),Us("design:paramtypes",[Number,Number])],e),e}(V6.default),J6=X6,Z6=Object.defineProperty({default:J6},"__esModule",{value:!0}),Q6=_e&&_e.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sa=_e&&_e.__decorate||function(r,e,t,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(a=(o<3?u(a):o>3?u(e,t,a):u(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a},ca=_e&&_e.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},uf=_e&&_e.__param||function(r,e){return function(t,n){e(t,n,r)}},eS=_e&&_e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},tS=eS(uo);function rS(r,e){return Math.ceil(Math.log(r)/Math.log(e))}function nS(r,e,t){return Math.ceil(r*-Math.log(e)/(Math.log(t)*Math.log(1-t)))}function iS(r,e,t){return Math.ceil(r*(Math.log(e)*Math.log(1-e))/-(t*Math.log(e)))}var oS=function(r){Q6(e,r);function e(n,o,a,u){var f=r.call(this)||this;return f._size=n,f._nbHashes=o,f._loadFactor=a,f._m=Math.ceil(f._size/f._nbHashes),f._filter=Wt.allocateArray(f._nbHashes,function(){return Wt.allocateArray(f._m,0)}),f._capacity=u!==void 0?u:iS(f._size,a,o),f._length=0,f}t=e,e.create=function(n,o,a){a===void 0&&(a=.5);var u=nS(n,o,a),f=rS(o,a);return new t(u,f,a,n)},e.from=function(n,o,a){a===void 0&&(a=.5);var u=Array.from(n),f=t.create(u.length,o,a);return u.forEach(function(h){return f.add(h)}),f},Object.defineProperty(e.prototype,"capacity",{get:function(){return this._capacity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loadFactor",{get:function(){return this._loadFactor},enumerable:!0,configurable:!0}),e.prototype.add=function(n){for(var o=Wt.getIndices(n,this._m,this._nbHashes,this.seed),a=0;a<this._nbHashes;a++)this._filter[a][o[a]]=1;this._length++},e.prototype.has=function(n){for(var o=Wt.getIndices(n,this._m,this._nbHashes,this.seed),a=0;a<this._nbHashes;a++)if(!this._filter[a][o[a]])return!1;return!0},e.prototype.rate=function(){var n=this._currentload();return Math.pow(n,this._nbHashes)},e.prototype.equals=function(n){return this._size!==n._size||this._nbHashes!==n._nbHashes||this._length!==n._length||this._loadFactor!==n._loadFactor?!1:this._filter.every(function(o,a){return n._filter[a].every(function(u,f){return o[f]===u})})},e.prototype._currentload=function(){var n=this._filter.map(function(a){return a.reduce(function(u,f){return u+f},0)}),o=n.reduce(function(a,u){return a+u},0);return o/this._size};var t;return sa([_t.Field(),ca("design:type",Number)],e.prototype,"_size",void 0),sa([_t.Field(),ca("design:type",Number)],e.prototype,"_nbHashes",void 0),sa([_t.Field(),ca("design:type",Number)],e.prototype,"_loadFactor",void 0),sa([_t.Field(),ca("design:type",Number)],e.prototype,"_m",void 0),sa([_t.Field(),ca("design:type",Array)],e.prototype,"_filter",void 0),sa([_t.Field(),ca("design:type",Number)],e.prototype,"_capacity",void 0),sa([_t.Field(),ca("design:type",Number)],e.prototype,"_length",void 0),e=t=sa([_t.AutoExportable("PartitionedBloomFilter",["_seed"]),uf(0,_t.Parameter("_size")),uf(1,_t.Parameter("_nbHashes")),uf(2,_t.Parameter("_loadFactor")),uf(3,_t.Parameter("_capacity")),ca("design:paramtypes",[Number,Number,Number,Number])],e),e}(tS.default),aS=oS,uS=Object.defineProperty({default:aS},"__esModule",{value:!0}),sS=_e&&_e.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ds=_e&&_e.__decorate||function(r,e,t,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(a=(o<3?u(a):o>3?u(e,t,a):u(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a},Os=_e&&_e.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},yy=_e&&_e.__param||function(r,e){return function(t,n){e(t,n,r)}},cS=_e&&_e.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fS=_e&&_e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},lS=fS(uo),hS=function(r){sS(e,r);function e(n,o){var a=r.call(this)||this;return a._columns=n,a._rows=o,a._matrix=Wt.allocateArray(a._rows,function(){return Wt.allocateArray(a._columns,0)}),a._allSums=0,a}t=e,e.create=function(n,o){o===void 0&&(o=.999);var a=Math.ceil(Math.E/n),u=Math.ceil(Math.log(1/o));return new t(a,u)},e.from=function(n,o,a){var u,f;a===void 0&&(a=.999);var h=t.create(o,a);try{for(var c=cS(n),y=c.next();!y.done;y=c.next()){var _=y.value;h.update(_)}}catch(A){u={error:A}}finally{try{y&&!y.done&&(f=c.return)&&f.call(c)}finally{if(u)throw u.error}}return h},Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sum",{get:function(){return this._allSums},enumerable:!0,configurable:!0}),e.prototype.update=function(n,o){o===void 0&&(o=1),this._allSums+=o;for(var a=Wt.getDistinctIndices(n,this._columns,this._rows,this.seed),u=0;u<this._rows;u++)this._matrix[u][a[u]]+=o},e.prototype.count=function(n){for(var o=1/0,a=Wt.getDistinctIndices(n,this._columns,this._rows,this.seed),u=0;u<this._rows;u++){var f=this._matrix[u][a[u]];o=Math.min(f,o)}return o},e.prototype.equals=function(n){if(this._columns!==n._columns||this._rows!==n._rows)return!1;for(var o=0;o<this._rows;o++)for(var a=0;a<this._columns;a++)if(this._matrix[o][a]!==n._matrix[o][a])return!1;return!0},e.prototype.merge=function(n){if(this._columns!==n._columns)throw new Error("Cannot merge two sketches with different number of columns");if(this._rows!==n._rows)throw new Error("Cannot merge two sketches with different number of rows");for(var o=0;o<this._rows;o++)for(var a=0;a<this._columns;a++)this._matrix[o][a]+=n._matrix[o][a]},e.prototype.clone=function(){var n=new t(this._columns,this._rows);return n.merge(this),n.seed=this.seed,n};var t;return Ds([_t.Field(),Os("design:type",Number)],e.prototype,"_columns",void 0),Ds([_t.Field(),Os("design:type",Number)],e.prototype,"_rows",void 0),Ds([_t.Field(),Os("design:type",Array)],e.prototype,"_matrix",void 0),Ds([_t.Field(),Os("design:type",Number)],e.prototype,"_allSums",void 0),e=t=Ds([_t.AutoExportable("CountMinSketch",["_seed"]),yy(0,_t.Parameter("_columns")),yy(1,_t.Parameter("_rows")),Os("design:paramtypes",[Number,Number])],e),e}(lS.default),dS=hS,my=Object.defineProperty({default:dS},"__esModule",{value:!0}),pS=_e&&_e.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ls=_e&&_e.__decorate||function(r,e,t,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(a=(o<3?u(a):o>3?u(e,t,a):u(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a},Ps=_e&&_e.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},vS=_e&&_e.__param||function(r,e){return function(t,n){e(t,n,r)}},yS=_e&&_e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},mS=yS(uo),Wh=Math.pow(2,32);function gS(r){switch(r){case 16:return .673;case 32:return .697;case 64:return .709;default:return .7213/(1+1.079/r)}}var bS=function(r){pS(e,r);function e(n){var o=r.call(this)||this;return o._nbRegisters=n,o._nbBytesPerHash=Math.round(Math.log2(n)),o._correctionBias=gS(n),o._registers=Wt.allocateArray(o._nbRegisters,0),o}t=e,Object.defineProperty(e.prototype,"nbRegisters",{get:function(){return this._nbRegisters},enumerable:!0,configurable:!0}),e.prototype.update=function(n){for(var o=Wt.hashAsInt(n,this.seed).toString(2),a=1+parseInt(o.slice(0,this._nbBytesPerHash-1),2),u=o.slice(this._nbBytesPerHash),f=0;u[f]!=="1"&&f<u.length-1;)f++;this._registers[a]=Math.max(this._registers[a],f)},e.prototype.count=function(n){n===void 0&&(n=!1);var o=this._registers.reduce(function(u,f){return u+Math.pow(2,-f)},0),a=this._correctionBias*Math.pow(this._nbRegisters,2)/o;return a>Wh/30&&(a=-Wh*Math.log(1-a/Wh)),n&&(a=Math.round(a)),a},e.prototype.accuracy=function(){return 1.04/Math.sqrt(this._nbRegisters)},e.prototype.merge=function(n){if(this.nbRegisters!==n.nbRegisters)throw new Error("Two HyperLogLog must have the same number of registers to be merged. Tried to merge two HyperLogLog with m = "+this.nbRegisters+" and m = "+n.nbRegisters);for(var o=new t(this.nbRegisters),a=0;a<this.nbRegisters-1;a++)o._registers[a]=Math.max(this._registers[a],n._registers[a]);return o},e.prototype.equals=function(n){if(this.nbRegisters!==n.nbRegisters)return!1;for(var o=0;o<this.nbRegisters-1;o++)if(this._registers[o]!==n._registers[o])return!1;return!0};var t;return Ls([_t.Field(),Ps("design:type",Number)],e.prototype,"_nbRegisters",void 0),Ls([_t.Field(),Ps("design:type",Number)],e.prototype,"_nbBytesPerHash",void 0),Ls([_t.Field(),Ps("design:type",Number)],e.prototype,"_correctionBias",void 0),Ls([_t.Field(),Ps("design:type",Array)],e.prototype,"_registers",void 0),e=t=Ls([_t.AutoExportable("HyperLogLog",["_seed"]),vS(0,_t.Parameter("_nbRegisters")),Ps("design:paramtypes",[Number])],e),e}(mS.default),_S=bS,wS=Object.defineProperty({default:_S},"__esModule",{value:!0});/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var sf=Zt(function(r,e){(function(){var t,n="4.17.20",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",f="__lodash_hash_undefined__",h=500,c="__lodash_placeholder__",y=1,_=2,A=4,F=1,D=2,k=1,K=2,he=4,ge=8,ke=16,fe=32,V=64,ce=128,Se=256,le=512,Oe=30,Pe="...",vt=800,dt=16,pt=1,xt=2,lt=3,Dt=1/0,Rt=9007199254740991,Yt=17976931348623157e292,gr=0/0,yt=4294967295,gt=yt-1,kt=yt>>>1,Xe=[["ary",ce],["bind",k],["bindKey",K],["curry",ge],["curryRight",ke],["flip",le],["partial",fe],["partialRight",V],["rearg",Se]],oe="[object Arguments]",R="[object Array]",ie="[object AsyncFunction]",M="[object Boolean]",H="[object Date]",E="[object DOMException]",T="[object Error]",C="[object Function]",q="[object GeneratorFunction]",X="[object Map]",ee="[object Number]",S="[object Null]",d="[object Object]",v="[object Promise]",I="[object Proxy]",N="[object RegExp]",Q="[object Set]",ve="[object String]",Ke="[object Symbol]",ut="[object Undefined]",se="[object WeakMap]",De="[object WeakSet]",x="[object ArrayBuffer]",p="[object DataView]",m="[object Float32Array]",z="[object Float64Array]",re="[object Int8Array]",we="[object Int16Array]",Ee="[object Int32Array]",We="[object Uint8Array]",ft="[object Uint8ClampedArray]",Et="[object Uint16Array]",At="[object Uint32Array]",zt=/\b__p \+= '';/g,hn=/\b(__p \+=) '' \+/g,qt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jr=/&(?:amp|lt|gt|quot|#39);/g,Zn=/[&<>"']/g,fr=RegExp(jr.source),fi=RegExp(Zn.source),Rn=/<%-([\s\S]+?)%>/g,Jr=/<%([\s\S]+?)%>/g,_n=/<%=([\s\S]+?)%>/g,Nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qn=/^\w*$/,li=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ur=/[\\^$.*+?()[\]{}|]/g,hi=RegExp(ur.source),cn=/^\s+|\s+$/g,Un=/^\s+/,Dn=/\s+$/,dn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,un=/\{\n\/\* \[wrapped with (.+)\] \*/,ei=/,? & /,br=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ti=/\\(\\)?/g,Bi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,di=/\w*$/,pi=/^[-+]0x[0-9a-f]+$/i,vi=/^0b[01]+$/i,pn=/^\[object .+?Constructor\]$/,Ti=/^0o[0-7]+$/i,ki=/^(?:0|[1-9]\d*)$/,Qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,On=/($^)/,la=/['\n\r\u2028\u2029\\]/g,de="\\ud800-\\udfff",Mt="\\u0300-\\u036f",Vt="\\ufe20-\\ufe2f",Lt="\\u20d0-\\u20ff",wn=Mt+Vt+Lt,Ln="\\u2700-\\u27bf",so="a-z\\xdf-\\xf6\\xf8-\\xff",Cu="\\xac\\xb1\\xd7\\xf7",Ru="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ha="\\u2000-\\u206f",da=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fi="A-Z\\xc0-\\xd6\\xd8-\\xde",L="\\ufe0e\\ufe0f",pe=Cu+Ru+ha+da,G="['\u2019]",Te="["+de+"]",Re="["+pe+"]",me="["+wn+"]",Ge="\\d+",tt="["+Ln+"]",nt="["+so+"]",it="[^"+de+pe+Ge+Ln+so+Fi+"]",st="\\ud83c[\\udffb-\\udfff]",St="(?:"+me+"|"+st+")",Pt="[^"+de+"]",sr="(?:\\ud83c[\\udde6-\\uddff]){2}",lr="[\\ud800-\\udbff][\\udc00-\\udfff]",Dr="["+Fi+"]",zr="\\u200d",en="(?:"+nt+"|"+it+")",Gn="(?:"+Dr+"|"+it+")",co="(?:"+G+"(?:d|ll|m|re|s|t|ve))?",Nu="(?:"+G+"(?:D|LL|M|RE|S|T|VE))?",pa=St+"?",$s="["+L+"]?",zs="(?:"+zr+"(?:"+[Pt,sr,lr].join("|")+")"+$s+pa+")*",Ks="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Uu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xf=$s+pa+zs,J="(?:"+[tt,sr,lr].join("|")+")"+xf,te="(?:"+[Pt+me+"?",me,sr,lr,Te].join("|")+")",Z=RegExp(G,"g"),xe=RegExp(me,"g"),Le=RegExp(st+"(?="+st+")|"+te+xf,"g"),Fe=RegExp([Dr+"?"+nt+"+"+co+"(?="+[Re,Dr,"$"].join("|")+")",Gn+"+"+Nu+"(?="+[Re,Dr+en,"$"].join("|")+")",Dr+"?"+en+"+"+co,Dr+"+"+Nu,Uu,Ks,Ge,J].join("|"),"g"),Y=RegExp("["+zr+de+wn+L+"]"),je=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,et=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Je=-1,ht={};ht[m]=ht[z]=ht[re]=ht[we]=ht[Ee]=ht[We]=ht[ft]=ht[Et]=ht[At]=!0,ht[oe]=ht[R]=ht[x]=ht[M]=ht[p]=ht[H]=ht[T]=ht[C]=ht[X]=ht[ee]=ht[d]=ht[N]=ht[Q]=ht[ve]=ht[se]=!1;var Ze={};Ze[oe]=Ze[R]=Ze[x]=Ze[p]=Ze[M]=Ze[H]=Ze[m]=Ze[z]=Ze[re]=Ze[we]=Ze[Ee]=Ze[X]=Ze[ee]=Ze[d]=Ze[N]=Ze[Q]=Ze[ve]=Ze[Ke]=Ze[We]=Ze[ft]=Ze[Et]=Ze[At]=!0,Ze[T]=Ze[C]=Ze[se]=!1;var Ft={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},pr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Or={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gr=parseFloat,yi=parseInt,Yr=typeof _e=="object"&&_e&&_e.Object===Object&&_e,qa=typeof self=="object"&&self&&self.Object===Object&&self,_r=Yr||qa||Function("return this")(),mt=e&&!e.nodeType&&e,Xt=mt&&!0&&r&&!r.nodeType&&r,jt=Xt&&Xt.exports===mt,wr=jt&&Yr.process,Tr=function(){try{var Ne=Xt&&Xt.require&&Xt.require("util").types;return Ne||wr&&wr.binding&&wr.binding("util")}catch(ze){}}(),vn=Tr&&Tr.isArrayBuffer,En=Tr&&Tr.isDate,An=Tr&&Tr.isMap,Wn=Tr&&Tr.isRegExp,Gi=Tr&&Tr.isSet,No=Tr&&Tr.isTypedArray;function fn(Ne,ze,$e){switch($e.length){case 0:return Ne.call(ze);case 1:return Ne.call(ze,$e[0]);case 2:return Ne.call(ze,$e[0],$e[1]);case 3:return Ne.call(ze,$e[0],$e[1],$e[2])}return Ne.apply(ze,$e)}function fo(Ne,ze,$e,wt){for(var $t=-1,Sr=Ne==null?0:Ne.length;++$t<Sr;){var tn=Ne[$t];ze(wt,tn,$e(tn),Ne)}return wt}function Sn(Ne,ze){for(var $e=-1,wt=Ne==null?0:Ne.length;++$e<wt&&ze(Ne[$e],$e,Ne)!==!1;);return Ne}function Hs(Ne,ze){for(var $e=Ne==null?0:Ne.length;$e--&&ze(Ne[$e],$e,Ne)!==!1;);return Ne}function Vr(Ne,ze){for(var $e=-1,wt=Ne==null?0:Ne.length;++$e<wt;)if(!ze(Ne[$e],$e,Ne))return!1;return!0}function xr(Ne,ze){for(var $e=-1,wt=Ne==null?0:Ne.length,$t=0,Sr=[];++$e<wt;){var tn=Ne[$e];ze(tn,$e,Ne)&&(Sr[$t++]=tn)}return Sr}function lo(Ne,ze){var $e=Ne==null?0:Ne.length;return!!$e&&po(Ne,ze,0)>-1}function va(Ne,ze,$e){for(var wt=-1,$t=Ne==null?0:Ne.length;++wt<$t;)if($e(ze,Ne[wt]))return!0;return!1}function Lr(Ne,ze){for(var $e=-1,wt=Ne==null?0:Ne.length,$t=Array(wt);++$e<wt;)$t[$e]=ze(Ne[$e],$e,Ne);return $t}function mi(Ne,ze){for(var $e=-1,wt=ze.length,$t=Ne.length;++$e<wt;)Ne[$t+$e]=ze[$e];return Ne}function ya(Ne,ze,$e,wt){var $t=-1,Sr=Ne==null?0:Ne.length;for(wt&&Sr&&($e=Ne[++$t]);++$t<Sr;)$e=ze($e,Ne[$t],$t,Ne);return $e}function ho(Ne,ze,$e,wt){var $t=Ne==null?0:Ne.length;for(wt&&$t&&($e=Ne[--$t]);$t--;)$e=ze($e,Ne[$t],$t,Ne);return $e}function Uo(Ne,ze){for(var $e=-1,wt=Ne==null?0:Ne.length;++$e<wt;)if(ze(Ne[$e],$e,Ne))return!0;return!1}var Du=vo("length");function Gs(Ne){return Ne.split("")}function Ou(Ne){return Ne.match(br)||[]}function Wi(Ne,ze,$e){var wt;return $e(Ne,function($t,Sr,tn){if(ze($t,Sr,tn))return wt=Sr,!1}),wt}function Ci(Ne,ze,$e,wt){for(var $t=Ne.length,Sr=$e+(wt?1:-1);wt?Sr--:++Sr<$t;)if(ze(Ne[Sr],Sr,Ne))return Sr;return-1}function po(Ne,ze,$e){return ze===ze?Af(Ne,ze,$e):Ci(Ne,ma,$e)}function Ri(Ne,ze,$e,wt){for(var $t=$e-1,Sr=Ne.length;++$t<Sr;)if(wt(Ne[$t],ze))return $t;return-1}function ma(Ne){return Ne!==Ne}function Va(Ne,ze){var $e=Ne==null?0:Ne.length;return $e?mo(Ne,ze)/$e:gr}function vo(Ne){return function(ze){return ze==null?t:ze[Ne]}}function yo(Ne){return function(ze){return Ne==null?t:Ne[ze]}}function ji(Ne,ze,$e,wt,$t){return $t(Ne,function(Sr,tn,Pr){$e=wt?(wt=!1,Sr):ze($e,Sr,tn,Pr)}),$e}function Pn(Ne,ze){var $e=Ne.length;for(Ne.sort(ze);$e--;)Ne[$e]=Ne[$e].value;return Ne}function mo(Ne,ze){for(var $e,wt=-1,$t=Ne.length;++wt<$t;){var Sr=ze(Ne[wt]);Sr!==t&&($e=$e===t?Sr:$e+Sr)}return $e}function ga(Ne,ze){for(var $e=-1,wt=Array(Ne);++$e<Ne;)wt[$e]=ze($e);return wt}function gi(Ne,ze){return Lr(ze,function($e){return[$e,Ne[$e]]})}function yn(Ne){return function(ze){return Ne(ze)}}function U(Ne,ze){return Lr(ze,function($e){return Ne[$e]})}function b(Ne,ze){return Ne.has(ze)}function w(Ne,ze){for(var $e=-1,wt=Ne.length;++$e<wt&&po(ze,Ne[$e],0)>-1;);return $e}function j(Ne,ze){for(var $e=Ne.length;$e--&&po(ze,Ne[$e],0)>-1;);return $e}function Ie(Ne,ze){for(var $e=Ne.length,wt=0;$e--;)Ne[$e]===ze&&++wt;return wt}var Me=yo(Ft),He=yo(pr);function Kt(Ne){return"\\"+xn[Ne]}function $r(Ne,ze){return Ne==null?t:Ne[ze]}function Er(Ne){return Y.test(Ne)}function Kr(Ne){return je.test(Ne)}function Ar(Ne){for(var ze,$e=[];!(ze=Ne.next()).done;)$e.push(ze.value);return $e}function Lu(Ne){var ze=-1,$e=Array(Ne.size);return Ne.forEach(function(wt,$t){$e[++ze]=[$t,wt]}),$e}function Ef(Ne,ze){return function($e){return Ne(ze($e))}}function In(Ne,ze){for(var $e=-1,wt=Ne.length,$t=0,Sr=[];++$e<wt;){var tn=Ne[$e];(tn===ze||tn===c)&&(Ne[$e]=c,Sr[$t++]=$e)}return Sr}function Pu(Ne){var ze=-1,$e=Array(Ne.size);return Ne.forEach(function(wt){$e[++ze]=wt}),$e}function d0(Ne){var ze=-1,$e=Array(Ne.size);return Ne.forEach(function(wt){$e[++ze]=[wt,wt]}),$e}function Af(Ne,ze,$e){for(var wt=$e-1,$t=Ne.length;++wt<$t;)if(Ne[wt]===ze)return wt;return-1}function p0(Ne,ze,$e){for(var wt=$e+1;wt--;)if(Ne[wt]===ze)return wt;return wt}function ba(Ne){return Er(Ne)?y0(Ne):Du(Ne)}function bi(Ne){return Er(Ne)?m0(Ne):Gs(Ne)}var v0=yo(Or);function y0(Ne){for(var ze=Le.lastIndex=0;Le.test(Ne);)++ze;return ze}function m0(Ne){return Ne.match(Le)||[]}function g0(Ne){return Ne.match(Fe)||[]}var b0=function Ne(ze){ze=ze==null?_r:_a.defaults(_r.Object(),ze,_a.pick(_r,et));var $e=ze.Array,wt=ze.Date,$t=ze.Error,Sr=ze.Function,tn=ze.Math,Pr=ze.Object,Ws=ze.RegExp,_0=ze.String,ri=ze.TypeError,Mu=$e.prototype,w0=Sr.prototype,wa=Pr.prototype,$u=ze["__core-js_shared__"],zu=w0.toString,Cr=wa.hasOwnProperty,Sf=0,xa=function(){var i=/[^.]+$/.exec($u&&$u.keys&&$u.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Xa=wa.toString,Ea=zu.call(Pr),x0=_r._,Ku=Ws("^"+zu.call(Cr).replace(ur,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Aa=jt?ze.Buffer:t,go=ze.Symbol,Hu=ze.Uint8Array,Gu=Aa?Aa.allocUnsafe:t,Wu=Ef(Pr.getPrototypeOf,Pr),If=Pr.create,P=wa.propertyIsEnumerable,ye=Mu.splice,W=go?go.isConcatSpreadable:t,Be=go?go.iterator:t,Ce=go?go.toStringTag:t,Ae=function(){try{var i=nu(Pr,"defineProperty");return i({},"",{}),i}catch(s){}}(),Ye=ze.clearTimeout!==_r.clearTimeout&&ze.clearTimeout,rt=wt&&wt.now!==_r.Date.now&&wt.now,at=ze.setTimeout!==_r.setTimeout&&ze.setTimeout,ot=tn.ceil,ct=tn.floor,It=Pr.getOwnPropertySymbols,er=Aa?Aa.isBuffer:t,Ir=ze.isFinite,Rr=Mu.join,rn=Ef(Pr.keys,Pr),tr=tn.max,kr=tn.min,Ja=wt.now,js=ze.parseInt,Bf=tn.random,Ys=Mu.reverse,Tf=nu(ze,"DataView"),Za=nu(ze,"Map"),qs=nu(ze,"Promise"),Do=nu(ze,"Set"),Vs=nu(ze,"WeakMap"),Xs=nu(Pr,"create"),kf=Vs&&new Vs,ju={},UB=iu(Tf),DB=iu(Za),OB=iu(qs),LB=iu(Do),PB=iu(Vs),Ff=go?go.prototype:t,Js=Ff?Ff.valueOf:t,i2=Ff?Ff.toString:t;function O(i){if(Zr(i)&&!Ht(i)&&!(i instanceof hr)){if(i instanceof Ni)return i;if(Cr.call(i,"__wrapped__"))return om(i)}return new Ni(i)}var Yu=function(){function i(){}return function(s){if(!Xr(s))return{};if(If)return If(s);i.prototype=s;var l=new i;return i.prototype=t,l}}();function Cf(){}function Ni(i,s){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=t}O.templateSettings={escape:Rn,evaluate:Jr,interpolate:_n,variable:"",imports:{_:O}},O.prototype=Cf.prototype,O.prototype.constructor=O,Ni.prototype=Yu(Cf.prototype),Ni.prototype.constructor=Ni;function hr(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=yt,this.__views__=[]}function MB(){var i=new hr(this.__wrapped__);return i.__actions__=ni(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=ni(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=ni(this.__views__),i}function $B(){if(this.__filtered__){var i=new hr(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function zB(){var i=this.__wrapped__.value(),s=this.__dir__,l=Ht(i),g=s<0,B=l?i.length:0,$=QT(0,B,this.__views__),ne=$.start,be=$.end,Ue=be-ne,qe=g?be:ne-1,Ve=this.__iteratees__,Qe=Ve.length,bt=0,Bt=kr(Ue,this.__takeCount__);if(!l||!g&&B==Ue&&Bt==Ue)return T2(i,this.__actions__);var Ot=[];e:for(;Ue--&&bt<Bt;){qe+=s;for(var rr=-1,Ut=i[qe];++rr<Qe;){var cr=Ve[rr],vr=cr.iteratee,xi=cr.type,qn=vr(Ut);if(xi==xt)Ut=qn;else if(!qn){if(xi==pt)continue e;break e}}Ot[bt++]=Ut}return Ot}hr.prototype=Yu(Cf.prototype),hr.prototype.constructor=hr;function Qa(i){var s=-1,l=i==null?0:i.length;for(this.clear();++s<l;){var g=i[s];this.set(g[0],g[1])}}function KB(){this.__data__=Xs?Xs(null):{},this.size=0}function HB(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function GB(i){var s=this.__data__;if(Xs){var l=s[i];return l===f?t:l}return Cr.call(s,i)?s[i]:t}function WB(i){var s=this.__data__;return Xs?s[i]!==t:Cr.call(s,i)}function jB(i,s){var l=this.__data__;return this.size+=this.has(i)?0:1,l[i]=Xs&&s===t?f:s,this}Qa.prototype.clear=KB,Qa.prototype.delete=HB,Qa.prototype.get=GB,Qa.prototype.has=WB,Qa.prototype.set=jB;function Oo(i){var s=-1,l=i==null?0:i.length;for(this.clear();++s<l;){var g=i[s];this.set(g[0],g[1])}}function YB(){this.__data__=[],this.size=0}function qB(i){var s=this.__data__,l=Rf(s,i);if(l<0)return!1;var g=s.length-1;return l==g?s.pop():ye.call(s,l,1),--this.size,!0}function VB(i){var s=this.__data__,l=Rf(s,i);return l<0?t:s[l][1]}function XB(i){return Rf(this.__data__,i)>-1}function JB(i,s){var l=this.__data__,g=Rf(l,i);return g<0?(++this.size,l.push([i,s])):l[g][1]=s,this}Oo.prototype.clear=YB,Oo.prototype.delete=qB,Oo.prototype.get=VB,Oo.prototype.has=XB,Oo.prototype.set=JB;function Lo(i){var s=-1,l=i==null?0:i.length;for(this.clear();++s<l;){var g=i[s];this.set(g[0],g[1])}}function ZB(){this.size=0,this.__data__={hash:new Qa,map:new(Za||Oo),string:new Qa}}function QB(i){var s=Gf(this,i).delete(i);return this.size-=s?1:0,s}function eT(i){return Gf(this,i).get(i)}function tT(i){return Gf(this,i).has(i)}function rT(i,s){var l=Gf(this,i),g=l.size;return l.set(i,s),this.size+=l.size==g?0:1,this}Lo.prototype.clear=ZB,Lo.prototype.delete=QB,Lo.prototype.get=eT,Lo.prototype.has=tT,Lo.prototype.set=rT;function eu(i){var s=-1,l=i==null?0:i.length;for(this.__data__=new Lo;++s<l;)this.add(i[s])}function nT(i){return this.__data__.set(i,f),this}function iT(i){return this.__data__.has(i)}eu.prototype.add=eu.prototype.push=nT,eu.prototype.has=iT;function Yi(i){var s=this.__data__=new Oo(i);this.size=s.size}function oT(){this.__data__=new Oo,this.size=0}function aT(i){var s=this.__data__,l=s.delete(i);return this.size=s.size,l}function uT(i){return this.__data__.get(i)}function sT(i){return this.__data__.has(i)}function cT(i,s){var l=this.__data__;if(l instanceof Oo){var g=l.__data__;if(!Za||g.length<o-1)return g.push([i,s]),this.size=++l.size,this;l=this.__data__=new Lo(g)}return l.set(i,s),this.size=l.size,this}Yi.prototype.clear=oT,Yi.prototype.delete=aT,Yi.prototype.get=uT,Yi.prototype.has=sT,Yi.prototype.set=cT;function o2(i,s){var l=Ht(i),g=!l&&ou(i),B=!l&&!g&&ka(i),$=!l&&!g&&!B&&Ju(i),ne=l||g||B||$,be=ne?ga(i.length,_0):[],Ue=be.length;for(var qe in i)(s||Cr.call(i,qe))&&!(ne&&(qe=="length"||B&&(qe=="offset"||qe=="parent")||$&&(qe=="buffer"||qe=="byteLength"||qe=="byteOffset")||zo(qe,Ue)))&&be.push(qe);return be}function a2(i){var s=i.length;return s?i[N0(0,s-1)]:t}function fT(i,s){return Wf(ni(i),tu(s,0,i.length))}function lT(i){return Wf(ni(i))}function E0(i,s,l){(l!==t&&!qi(i[s],l)||l===t&&!(s in i))&&Po(i,s,l)}function Zs(i,s,l){var g=i[s];(!(Cr.call(i,s)&&qi(g,l))||l===t&&!(s in i))&&Po(i,s,l)}function Rf(i,s){for(var l=i.length;l--;)if(qi(i[l][0],s))return l;return-1}function hT(i,s,l,g){return Sa(i,function(B,$,ne){s(g,B,l(B),ne)}),g}function u2(i,s){return i&&_o(s,mn(s),i)}function dT(i,s){return i&&_o(s,oi(s),i)}function Po(i,s,l){s=="__proto__"&&Ae?Ae(i,s,{configurable:!0,enumerable:!0,value:l,writable:!0}):i[s]=l}function A0(i,s){for(var l=-1,g=s.length,B=$e(g),$=i==null;++l<g;)B[l]=$?t:id(i,s[l]);return B}function tu(i,s,l){return i===i&&(l!==t&&(i=i<=l?i:l),s!==t&&(i=i>=s?i:s)),i}function Ui(i,s,l,g,B,$){var ne,be=s&y,Ue=s&_,qe=s&A;if(l&&(ne=B?l(i,g,B,$):l(i)),ne!==t)return ne;if(!Xr(i))return i;var Ve=Ht(i);if(Ve){if(ne=tk(i),!be)return ni(i,ne)}else{var Qe=Mn(i),bt=Qe==C||Qe==q;if(ka(i))return C2(i,be);if(Qe==d||Qe==oe||bt&&!B){if(ne=Ue||bt?{}:X2(i),!be)return Ue?GT(i,dT(ne,i)):HT(i,u2(ne,i))}else{if(!Ze[Qe])return B?i:{};ne=rk(i,Qe,be)}}$||($=new Yi);var Bt=$.get(i);if(Bt)return Bt;$.set(i,ne),Sm(i)?i.forEach(function(Ut){ne.add(Ui(Ut,s,l,Ut,i,$))}):Em(i)&&i.forEach(function(Ut,cr){ne.set(cr,Ui(Ut,s,l,cr,i,$))});var Ot=qe?Ue?G0:H0:Ue?oi:mn,rr=Ve?t:Ot(i);return Sn(rr||i,function(Ut,cr){rr&&(cr=Ut,Ut=i[cr]),Zs(ne,cr,Ui(Ut,s,l,cr,i,$))}),ne}function pT(i){var s=mn(i);return function(l){return s2(l,i,s)}}function s2(i,s,l){var g=l.length;if(i==null)return!g;for(i=Pr(i);g--;){var B=l[g],$=s[B],ne=i[B];if(ne===t&&!(B in i)||!$(ne))return!1}return!0}function c2(i,s,l){if(typeof i!="function")throw new ri(u);return oc(function(){i.apply(t,l)},s)}function Qs(i,s,l,g){var B=-1,$=lo,ne=!0,be=i.length,Ue=[],qe=s.length;if(!be)return Ue;l&&(s=Lr(s,yn(l))),g?($=va,ne=!1):s.length>=o&&($=b,ne=!1,s=new eu(s));e:for(;++B<be;){var Ve=i[B],Qe=l==null?Ve:l(Ve);if(Ve=g||Ve!==0?Ve:0,ne&&Qe===Qe){for(var bt=qe;bt--;)if(s[bt]===Qe)continue e;Ue.push(Ve)}else $(s,Qe,g)||Ue.push(Ve)}return Ue}var Sa=O2(bo),f2=O2(I0,!0);function vT(i,s){var l=!0;return Sa(i,function(g,B,$){return l=!!s(g,B,$),l}),l}function Nf(i,s,l){for(var g=-1,B=i.length;++g<B;){var $=i[g],ne=s($);if(ne!=null&&(be===t?ne===ne&&!wi(ne):l(ne,be)))var be=ne,Ue=$}return Ue}function yT(i,s,l,g){var B=i.length;for(l=Jt(l),l<0&&(l=-l>B?0:B+l),g=g===t||g>B?B:Jt(g),g<0&&(g+=B),g=l>g?0:Bm(g);l<g;)i[l++]=s;return i}function l2(i,s){var l=[];return Sa(i,function(g,B,$){s(g,B,$)&&l.push(g)}),l}function Bn(i,s,l,g,B){var $=-1,ne=i.length;for(l||(l=ik),B||(B=[]);++$<ne;){var be=i[$];s>0&&l(be)?s>1?Bn(be,s-1,l,g,B):mi(B,be):g||(B[B.length]=be)}return B}var S0=L2(),h2=L2(!0);function bo(i,s){return i&&S0(i,s,mn)}function I0(i,s){return i&&h2(i,s,mn)}function Uf(i,s){return xr(s,function(l){return Ko(i[l])})}function ru(i,s){s=Ba(s,i);for(var l=0,g=s.length;i!=null&&l<g;)i=i[wo(s[l++])];return l&&l==g?i:t}function d2(i,s,l){var g=s(i);return Ht(i)?g:mi(g,l(i))}function jn(i){return i==null?i===t?ut:S:Ce&&Ce in Pr(i)?ZT(i):lk(i)}function B0(i,s){return i>s}function mT(i,s){return i!=null&&Cr.call(i,s)}function gT(i,s){return i!=null&&s in Pr(i)}function bT(i,s,l){return i>=kr(s,l)&&i<tr(s,l)}function T0(i,s,l){for(var g=l?va:lo,B=i[0].length,$=i.length,ne=$,be=$e($),Ue=1/0,qe=[];ne--;){var Ve=i[ne];ne&&s&&(Ve=Lr(Ve,yn(s))),Ue=kr(Ve.length,Ue),be[ne]=!l&&(s||B>=120&&Ve.length>=120)?new eu(ne&&Ve):t}Ve=i[0];var Qe=-1,bt=be[0];e:for(;++Qe<B&&qe.length<Ue;){var Bt=Ve[Qe],Ot=s?s(Bt):Bt;if(Bt=l||Bt!==0?Bt:0,!(bt?b(bt,Ot):g(qe,Ot,l))){for(ne=$;--ne;){var rr=be[ne];if(!(rr?b(rr,Ot):g(i[ne],Ot,l)))continue e}bt&&bt.push(Ot),qe.push(Bt)}}return qe}function _T(i,s,l,g){return bo(i,function(B,$,ne){s(g,l(B),$,ne)}),g}function ec(i,s,l){s=Ba(s,i),i=em(i,s);var g=i==null?i:i[wo(Oi(s))];return g==null?t:fn(g,i,l)}function p2(i){return Zr(i)&&jn(i)==oe}function wT(i){return Zr(i)&&jn(i)==x}function xT(i){return Zr(i)&&jn(i)==H}function tc(i,s,l,g,B){return i===s?!0:i==null||s==null||!Zr(i)&&!Zr(s)?i!==i&&s!==s:ET(i,s,l,g,tc,B)}function ET(i,s,l,g,B,$){var ne=Ht(i),be=Ht(s),Ue=ne?R:Mn(i),qe=be?R:Mn(s);Ue=Ue==oe?d:Ue,qe=qe==oe?d:qe;var Ve=Ue==d,Qe=qe==d,bt=Ue==qe;if(bt&&ka(i)){if(!ka(s))return!1;ne=!0,Ve=!1}if(bt&&!Ve)return $||($=new Yi),ne||Ju(i)?Y2(i,s,l,g,B,$):XT(i,s,Ue,l,g,B,$);if(!(l&F)){var Bt=Ve&&Cr.call(i,"__wrapped__"),Ot=Qe&&Cr.call(s,"__wrapped__");if(Bt||Ot){var rr=Bt?i.value():i,Ut=Ot?s.value():s;return $||($=new Yi),B(rr,Ut,l,g,$)}}return bt?($||($=new Yi),JT(i,s,l,g,B,$)):!1}function AT(i){return Zr(i)&&Mn(i)==X}function k0(i,s,l,g){var B=l.length,$=B,ne=!g;if(i==null)return!$;for(i=Pr(i);B--;){var be=l[B];if(ne&&be[2]?be[1]!==i[be[0]]:!(be[0]in i))return!1}for(;++B<$;){be=l[B];var Ue=be[0],qe=i[Ue],Ve=be[1];if(ne&&be[2]){if(qe===t&&!(Ue in i))return!1}else{var Qe=new Yi;if(g)var bt=g(qe,Ve,Ue,i,s,Qe);if(!(bt===t?tc(Ve,qe,F|D,g,Qe):bt))return!1}}return!0}function v2(i){if(!Xr(i)||ak(i))return!1;var s=Ko(i)?Ku:pn;return s.test(iu(i))}function ST(i){return Zr(i)&&jn(i)==N}function IT(i){return Zr(i)&&Mn(i)==Q}function BT(i){return Zr(i)&&Jf(i.length)&&!!ht[jn(i)]}function y2(i){return typeof i=="function"?i:i==null?ai:typeof i=="object"?Ht(i)?b2(i[0],i[1]):g2(i):Pm(i)}function F0(i){if(!ic(i))return rn(i);var s=[];for(var l in Pr(i))Cr.call(i,l)&&l!="constructor"&&s.push(l);return s}function TT(i){if(!Xr(i))return fk(i);var s=ic(i),l=[];for(var g in i)g=="constructor"&&(s||!Cr.call(i,g))||l.push(g);return l}function C0(i,s){return i<s}function m2(i,s){var l=-1,g=ii(i)?$e(i.length):[];return Sa(i,function(B,$,ne){g[++l]=s(B,$,ne)}),g}function g2(i){var s=j0(i);return s.length==1&&s[0][2]?Z2(s[0][0],s[0][1]):function(l){return l===i||k0(l,i,s)}}function b2(i,s){return q0(i)&&J2(s)?Z2(wo(i),s):function(l){var g=id(l,i);return g===t&&g===s?od(l,i):tc(s,g,F|D)}}function Df(i,s,l,g,B){i!==s&&S0(s,function($,ne){if(B||(B=new Yi),Xr($))kT(i,s,ne,l,Df,g,B);else{var be=g?g(X0(i,ne),$,ne+"",i,s,B):t;be===t&&(be=$),E0(i,ne,be)}},oi)}function kT(i,s,l,g,B,$,ne){var be=X0(i,l),Ue=X0(s,l),qe=ne.get(Ue);if(qe){E0(i,l,qe);return}var Ve=$?$(be,Ue,l+"",i,s,ne):t,Qe=Ve===t;if(Qe){var bt=Ht(Ue),Bt=!bt&&ka(Ue),Ot=!bt&&!Bt&&Ju(Ue);Ve=Ue,bt||Bt||Ot?Ht(be)?Ve=be:nn(be)?Ve=ni(be):Bt?(Qe=!1,Ve=C2(Ue,!0)):Ot?(Qe=!1,Ve=R2(Ue,!0)):Ve=[]:ac(Ue)||ou(Ue)?(Ve=be,ou(be)?Ve=Tm(be):(!Xr(be)||Ko(be))&&(Ve=X2(Ue))):Qe=!1}Qe&&(ne.set(Ue,Ve),B(Ve,Ue,g,$,ne),ne.delete(Ue)),E0(i,l,Ve)}function _2(i,s){var l=i.length;if(!!l)return s+=s<0?l:0,zo(s,l)?i[s]:t}function w2(i,s,l){s.length?s=Lr(s,function($){return Ht($)?function(ne){return ru(ne,$.length===1?$[0]:$)}:$}):s=[ai];var g=-1;s=Lr(s,yn(Nt()));var B=m2(i,function($,ne,be){var Ue=Lr(s,function(qe){return qe($)});return{criteria:Ue,index:++g,value:$}});return Pn(B,function($,ne){return KT($,ne,l)})}function FT(i,s){return x2(i,s,function(l,g){return od(i,g)})}function x2(i,s,l){for(var g=-1,B=s.length,$={};++g<B;){var ne=s[g],be=ru(i,ne);l(be,ne)&&rc($,Ba(ne,i),be)}return $}function CT(i){return function(s){return ru(s,i)}}function R0(i,s,l,g){var B=g?Ri:po,$=-1,ne=s.length,be=i;for(i===s&&(s=ni(s)),l&&(be=Lr(i,yn(l)));++$<ne;)for(var Ue=0,qe=s[$],Ve=l?l(qe):qe;(Ue=B(be,Ve,Ue,g))>-1;)be!==i&&ye.call(be,Ue,1),ye.call(i,Ue,1);return i}function E2(i,s){for(var l=i?s.length:0,g=l-1;l--;){var B=s[l];if(l==g||B!==$){var $=B;zo(B)?ye.call(i,B,1):O0(i,B)}}return i}function N0(i,s){return i+ct(Bf()*(s-i+1))}function RT(i,s,l,g){for(var B=-1,$=tr(ot((s-i)/(l||1)),0),ne=$e($);$--;)ne[g?$:++B]=i,i+=l;return ne}function U0(i,s){var l="";if(!i||s<1||s>Rt)return l;do s%2&&(l+=i),s=ct(s/2),s&&(i+=i);while(s);return l}function ir(i,s){return J0(Q2(i,s,ai),i+"")}function NT(i){return a2(Zu(i))}function UT(i,s){var l=Zu(i);return Wf(l,tu(s,0,l.length))}function rc(i,s,l,g){if(!Xr(i))return i;s=Ba(s,i);for(var B=-1,$=s.length,ne=$-1,be=i;be!=null&&++B<$;){var Ue=wo(s[B]),qe=l;if(Ue==="__proto__"||Ue==="constructor"||Ue==="prototype")return i;if(B!=ne){var Ve=be[Ue];qe=g?g(Ve,Ue,be):t,qe===t&&(qe=Xr(Ve)?Ve:zo(s[B+1])?[]:{})}Zs(be,Ue,qe),be=be[Ue]}return i}var A2=kf?function(i,s){return kf.set(i,s),i}:ai,DT=Ae?function(i,s){return Ae(i,"toString",{configurable:!0,enumerable:!1,value:ud(s),writable:!0})}:ai;function OT(i){return Wf(Zu(i))}function Di(i,s,l){var g=-1,B=i.length;s<0&&(s=-s>B?0:B+s),l=l>B?B:l,l<0&&(l+=B),B=s>l?0:l-s>>>0,s>>>=0;for(var $=$e(B);++g<B;)$[g]=i[g+s];return $}function LT(i,s){var l;return Sa(i,function(g,B,$){return l=s(g,B,$),!l}),!!l}function Of(i,s,l){var g=0,B=i==null?g:i.length;if(typeof s=="number"&&s===s&&B<=kt){for(;g<B;){var $=g+B>>>1,ne=i[$];ne!==null&&!wi(ne)&&(l?ne<=s:ne<s)?g=$+1:B=$}return B}return D0(i,s,ai,l)}function D0(i,s,l,g){var B=0,$=i==null?0:i.length;if($===0)return 0;s=l(s);for(var ne=s!==s,be=s===null,Ue=wi(s),qe=s===t;B<$;){var Ve=ct((B+$)/2),Qe=l(i[Ve]),bt=Qe!==t,Bt=Qe===null,Ot=Qe===Qe,rr=wi(Qe);if(ne)var Ut=g||Ot;else qe?Ut=Ot&&(g||bt):be?Ut=Ot&&bt&&(g||!Bt):Ue?Ut=Ot&&bt&&!Bt&&(g||!rr):Bt||rr?Ut=!1:Ut=g?Qe<=s:Qe<s;Ut?B=Ve+1:$=Ve}return kr($,gt)}function S2(i,s){for(var l=-1,g=i.length,B=0,$=[];++l<g;){var ne=i[l],be=s?s(ne):ne;if(!l||!qi(be,Ue)){var Ue=be;$[B++]=ne===0?0:ne}}return $}function I2(i){return typeof i=="number"?i:wi(i)?gr:+i}function _i(i){if(typeof i=="string")return i;if(Ht(i))return Lr(i,_i)+"";if(wi(i))return i2?i2.call(i):"";var s=i+"";return s=="0"&&1/i==-Dt?"-0":s}function Ia(i,s,l){var g=-1,B=lo,$=i.length,ne=!0,be=[],Ue=be;if(l)ne=!1,B=va;else if($>=o){var qe=s?null:qT(i);if(qe)return Pu(qe);ne=!1,B=b,Ue=new eu}else Ue=s?[]:be;e:for(;++g<$;){var Ve=i[g],Qe=s?s(Ve):Ve;if(Ve=l||Ve!==0?Ve:0,ne&&Qe===Qe){for(var bt=Ue.length;bt--;)if(Ue[bt]===Qe)continue e;s&&Ue.push(Qe),be.push(Ve)}else B(Ue,Qe,l)||(Ue!==be&&Ue.push(Qe),be.push(Ve))}return be}function O0(i,s){return s=Ba(s,i),i=em(i,s),i==null||delete i[wo(Oi(s))]}function B2(i,s,l,g){return rc(i,s,l(ru(i,s)),g)}function Lf(i,s,l,g){for(var B=i.length,$=g?B:-1;(g?$--:++$<B)&&s(i[$],$,i););return l?Di(i,g?0:$,g?$+1:B):Di(i,g?$+1:0,g?B:$)}function T2(i,s){var l=i;return l instanceof hr&&(l=l.value()),ya(s,function(g,B){return B.func.apply(B.thisArg,mi([g],B.args))},l)}function L0(i,s,l){var g=i.length;if(g<2)return g?Ia(i[0]):[];for(var B=-1,$=$e(g);++B<g;)for(var ne=i[B],be=-1;++be<g;)be!=B&&($[B]=Qs($[B]||ne,i[be],s,l));return Ia(Bn($,1),s,l)}function k2(i,s,l){for(var g=-1,B=i.length,$=s.length,ne={};++g<B;){var be=g<$?s[g]:t;l(ne,i[g],be)}return ne}function P0(i){return nn(i)?i:[]}function M0(i){return typeof i=="function"?i:ai}function Ba(i,s){return Ht(i)?i:q0(i,s)?[i]:im(Ur(i))}var PT=ir;function Ta(i,s,l){var g=i.length;return l=l===t?g:l,!s&&l>=g?i:Di(i,s,l)}var F2=Ye||function(i){return _r.clearTimeout(i)};function C2(i,s){if(s)return i.slice();var l=i.length,g=Gu?Gu(l):new i.constructor(l);return i.copy(g),g}function $0(i){var s=new i.constructor(i.byteLength);return new Hu(s).set(new Hu(i)),s}function MT(i,s){var l=s?$0(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.byteLength)}function $T(i){var s=new i.constructor(i.source,di.exec(i));return s.lastIndex=i.lastIndex,s}function zT(i){return Js?Pr(Js.call(i)):{}}function R2(i,s){var l=s?$0(i.buffer):i.buffer;return new i.constructor(l,i.byteOffset,i.length)}function N2(i,s){if(i!==s){var l=i!==t,g=i===null,B=i===i,$=wi(i),ne=s!==t,be=s===null,Ue=s===s,qe=wi(s);if(!be&&!qe&&!$&&i>s||$&&ne&&Ue&&!be&&!qe||g&&ne&&Ue||!l&&Ue||!B)return 1;if(!g&&!$&&!qe&&i<s||qe&&l&&B&&!g&&!$||be&&l&&B||!ne&&B||!Ue)return-1}return 0}function KT(i,s,l){for(var g=-1,B=i.criteria,$=s.criteria,ne=B.length,be=l.length;++g<ne;){var Ue=N2(B[g],$[g]);if(Ue){if(g>=be)return Ue;var qe=l[g];return Ue*(qe=="desc"?-1:1)}}return i.index-s.index}function U2(i,s,l,g){for(var B=-1,$=i.length,ne=l.length,be=-1,Ue=s.length,qe=tr($-ne,0),Ve=$e(Ue+qe),Qe=!g;++be<Ue;)Ve[be]=s[be];for(;++B<ne;)(Qe||B<$)&&(Ve[l[B]]=i[B]);for(;qe--;)Ve[be++]=i[B++];return Ve}function D2(i,s,l,g){for(var B=-1,$=i.length,ne=-1,be=l.length,Ue=-1,qe=s.length,Ve=tr($-be,0),Qe=$e(Ve+qe),bt=!g;++B<Ve;)Qe[B]=i[B];for(var Bt=B;++Ue<qe;)Qe[Bt+Ue]=s[Ue];for(;++ne<be;)(bt||B<$)&&(Qe[Bt+l[ne]]=i[B++]);return Qe}function ni(i,s){var l=-1,g=i.length;for(s||(s=$e(g));++l<g;)s[l]=i[l];return s}function _o(i,s,l,g){var B=!l;l||(l={});for(var $=-1,ne=s.length;++$<ne;){var be=s[$],Ue=g?g(l[be],i[be],be,l,i):t;Ue===t&&(Ue=i[be]),B?Po(l,be,Ue):Zs(l,be,Ue)}return l}function HT(i,s){return _o(i,Y0(i),s)}function GT(i,s){return _o(i,q2(i),s)}function Pf(i,s){return function(l,g){var B=Ht(l)?fo:hT,$=s?s():{};return B(l,i,Nt(g,2),$)}}function qu(i){return ir(function(s,l){var g=-1,B=l.length,$=B>1?l[B-1]:t,ne=B>2?l[2]:t;for($=i.length>3&&typeof $=="function"?(B--,$):t,ne&&Yn(l[0],l[1],ne)&&($=B<3?t:$,B=1),s=Pr(s);++g<B;){var be=l[g];be&&i(s,be,g,$)}return s})}function O2(i,s){return function(l,g){if(l==null)return l;if(!ii(l))return i(l,g);for(var B=l.length,$=s?B:-1,ne=Pr(l);(s?$--:++$<B)&&g(ne[$],$,ne)!==!1;);return l}}function L2(i){return function(s,l,g){for(var B=-1,$=Pr(s),ne=g(s),be=ne.length;be--;){var Ue=ne[i?be:++B];if(l($[Ue],Ue,$)===!1)break}return s}}function WT(i,s,l){var g=s&k,B=nc(i);function $(){var ne=this&&this!==_r&&this instanceof $?B:i;return ne.apply(g?l:this,arguments)}return $}function P2(i){return function(s){s=Ur(s);var l=Er(s)?bi(s):t,g=l?l[0]:s.charAt(0),B=l?Ta(l,1).join(""):s.slice(1);return g[i]()+B}}function Vu(i){return function(s){return ya(Om(Dm(s).replace(Z,"")),i,"")}}function nc(i){return function(){var s=arguments;switch(s.length){case 0:return new i;case 1:return new i(s[0]);case 2:return new i(s[0],s[1]);case 3:return new i(s[0],s[1],s[2]);case 4:return new i(s[0],s[1],s[2],s[3]);case 5:return new i(s[0],s[1],s[2],s[3],s[4]);case 6:return new i(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new i(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var l=Yu(i.prototype),g=i.apply(l,s);return Xr(g)?g:l}}function jT(i,s,l){var g=nc(i);function B(){for(var $=arguments.length,ne=$e($),be=$,Ue=Xu(B);be--;)ne[be]=arguments[be];var qe=$<3&&ne[0]!==Ue&&ne[$-1]!==Ue?[]:In(ne,Ue);if($-=qe.length,$<l)return H2(i,s,Mf,B.placeholder,t,ne,qe,t,t,l-$);var Ve=this&&this!==_r&&this instanceof B?g:i;return fn(Ve,this,ne)}return B}function M2(i){return function(s,l,g){var B=Pr(s);if(!ii(s)){var $=Nt(l,3);s=mn(s),l=function(be){return $(B[be],be,B)}}var ne=i(s,l,g);return ne>-1?B[$?s[ne]:ne]:t}}function $2(i){return $o(function(s){var l=s.length,g=l,B=Ni.prototype.thru;for(i&&s.reverse();g--;){var $=s[g];if(typeof $!="function")throw new ri(u);if(B&&!ne&&Hf($)=="wrapper")var ne=new Ni([],!0)}for(g=ne?g:l;++g<l;){$=s[g];var be=Hf($),Ue=be=="wrapper"?W0($):t;Ue&&V0(Ue[0])&&Ue[1]==(ce|ge|fe|Se)&&!Ue[4].length&&Ue[9]==1?ne=ne[Hf(Ue[0])].apply(ne,Ue[3]):ne=$.length==1&&V0($)?ne[be]():ne.thru($)}return function(){var qe=arguments,Ve=qe[0];if(ne&&qe.length==1&&Ht(Ve))return ne.plant(Ve).value();for(var Qe=0,bt=l?s[Qe].apply(this,qe):Ve;++Qe<l;)bt=s[Qe].call(this,bt);return bt}})}function Mf(i,s,l,g,B,$,ne,be,Ue,qe){var Ve=s&ce,Qe=s&k,bt=s&K,Bt=s&(ge|ke),Ot=s&le,rr=bt?t:nc(i);function Ut(){for(var cr=arguments.length,vr=$e(cr),xi=cr;xi--;)vr[xi]=arguments[xi];if(Bt)var qn=Xu(Ut),Ei=Ie(vr,qn);if(g&&(vr=U2(vr,g,B,Bt)),$&&(vr=D2(vr,$,ne,Bt)),cr-=Ei,Bt&&cr<qe){var on=In(vr,qn);return H2(i,s,Mf,Ut.placeholder,l,vr,on,be,Ue,qe-cr)}var Vi=Qe?l:this,Go=bt?Vi[i]:i;return cr=vr.length,be?vr=hk(vr,be):Ot&&cr>1&&vr.reverse(),Ve&&Ue<cr&&(vr.length=Ue),this&&this!==_r&&this instanceof Ut&&(Go=rr||nc(Go)),Go.apply(Vi,vr)}return Ut}function z2(i,s){return function(l,g){return _T(l,i,s(g),{})}}function $f(i,s){return function(l,g){var B;if(l===t&&g===t)return s;if(l!==t&&(B=l),g!==t){if(B===t)return g;typeof l=="string"||typeof g=="string"?(l=_i(l),g=_i(g)):(l=I2(l),g=I2(g)),B=i(l,g)}return B}}function z0(i){return $o(function(s){return s=Lr(s,yn(Nt())),ir(function(l){var g=this;return i(s,function(B){return fn(B,g,l)})})})}function zf(i,s){s=s===t?" ":_i(s);var l=s.length;if(l<2)return l?U0(s,i):s;var g=U0(s,ot(i/ba(s)));return Er(s)?Ta(bi(g),0,i).join(""):g.slice(0,i)}function YT(i,s,l,g){var B=s&k,$=nc(i);function ne(){for(var be=-1,Ue=arguments.length,qe=-1,Ve=g.length,Qe=$e(Ve+Ue),bt=this&&this!==_r&&this instanceof ne?$:i;++qe<Ve;)Qe[qe]=g[qe];for(;Ue--;)Qe[qe++]=arguments[++be];return fn(bt,B?l:this,Qe)}return ne}function K2(i){return function(s,l,g){return g&&typeof g!="number"&&Yn(s,l,g)&&(l=g=t),s=Ho(s),l===t?(l=s,s=0):l=Ho(l),g=g===t?s<l?1:-1:Ho(g),RT(s,l,g,i)}}function Kf(i){return function(s,l){return typeof s=="string"&&typeof l=="string"||(s=Li(s),l=Li(l)),i(s,l)}}function H2(i,s,l,g,B,$,ne,be,Ue,qe){var Ve=s&ge,Qe=Ve?ne:t,bt=Ve?t:ne,Bt=Ve?$:t,Ot=Ve?t:$;s|=Ve?fe:V,s&=~(Ve?V:fe),s&he||(s&=~(k|K));var rr=[i,s,B,Bt,Qe,Ot,bt,be,Ue,qe],Ut=l.apply(t,rr);return V0(i)&&tm(Ut,rr),Ut.placeholder=g,rm(Ut,i,s)}function K0(i){var s=tn[i];return function(l,g){if(l=Li(l),g=g==null?0:kr(Jt(g),292),g&&Ir(l)){var B=(Ur(l)+"e").split("e"),$=s(B[0]+"e"+(+B[1]+g));return B=(Ur($)+"e").split("e"),+(B[0]+"e"+(+B[1]-g))}return s(l)}}var qT=Do&&1/Pu(new Do([,-0]))[1]==Dt?function(i){return new Do(i)}:fd;function G2(i){return function(s){var l=Mn(s);return l==X?Lu(s):l==Q?d0(s):gi(s,i(s))}}function Mo(i,s,l,g,B,$,ne,be){var Ue=s&K;if(!Ue&&typeof i!="function")throw new ri(u);var qe=g?g.length:0;if(qe||(s&=~(fe|V),g=B=t),ne=ne===t?ne:tr(Jt(ne),0),be=be===t?be:Jt(be),qe-=B?B.length:0,s&V){var Ve=g,Qe=B;g=B=t}var bt=Ue?t:W0(i),Bt=[i,s,l,g,B,Ve,Qe,$,ne,be];if(bt&&ck(Bt,bt),i=Bt[0],s=Bt[1],l=Bt[2],g=Bt[3],B=Bt[4],be=Bt[9]=Bt[9]===t?Ue?0:i.length:tr(Bt[9]-qe,0),!be&&s&(ge|ke)&&(s&=~(ge|ke)),!s||s==k)var Ot=WT(i,s,l);else s==ge||s==ke?Ot=jT(i,s,be):(s==fe||s==(k|fe))&&!B.length?Ot=YT(i,s,l,g):Ot=Mf.apply(t,Bt);var rr=bt?A2:tm;return rm(rr(Ot,Bt),i,s)}function W2(i,s,l,g){return i===t||qi(i,wa[l])&&!Cr.call(g,l)?s:i}function j2(i,s,l,g,B,$){return Xr(i)&&Xr(s)&&($.set(s,i),Df(i,s,t,j2,$),$.delete(s)),i}function VT(i){return ac(i)?t:i}function Y2(i,s,l,g,B,$){var ne=l&F,be=i.length,Ue=s.length;if(be!=Ue&&!(ne&&Ue>be))return!1;var qe=$.get(i),Ve=$.get(s);if(qe&&Ve)return qe==s&&Ve==i;var Qe=-1,bt=!0,Bt=l&D?new eu:t;for($.set(i,s),$.set(s,i);++Qe<be;){var Ot=i[Qe],rr=s[Qe];if(g)var Ut=ne?g(rr,Ot,Qe,s,i,$):g(Ot,rr,Qe,i,s,$);if(Ut!==t){if(Ut)continue;bt=!1;break}if(Bt){if(!Uo(s,function(cr,vr){if(!b(Bt,vr)&&(Ot===cr||B(Ot,cr,l,g,$)))return Bt.push(vr)})){bt=!1;break}}else if(!(Ot===rr||B(Ot,rr,l,g,$))){bt=!1;break}}return $.delete(i),$.delete(s),bt}function XT(i,s,l,g,B,$,ne){switch(l){case p:if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case x:return!(i.byteLength!=s.byteLength||!$(new Hu(i),new Hu(s)));case M:case H:case ee:return qi(+i,+s);case T:return i.name==s.name&&i.message==s.message;case N:case ve:return i==s+"";case X:var be=Lu;case Q:var Ue=g&F;if(be||(be=Pu),i.size!=s.size&&!Ue)return!1;var qe=ne.get(i);if(qe)return qe==s;g|=D,ne.set(i,s);var Ve=Y2(be(i),be(s),g,B,$,ne);return ne.delete(i),Ve;case Ke:if(Js)return Js.call(i)==Js.call(s)}return!1}function JT(i,s,l,g,B,$){var ne=l&F,be=H0(i),Ue=be.length,qe=H0(s),Ve=qe.length;if(Ue!=Ve&&!ne)return!1;for(var Qe=Ue;Qe--;){var bt=be[Qe];if(!(ne?bt in s:Cr.call(s,bt)))return!1}var Bt=$.get(i),Ot=$.get(s);if(Bt&&Ot)return Bt==s&&Ot==i;var rr=!0;$.set(i,s),$.set(s,i);for(var Ut=ne;++Qe<Ue;){bt=be[Qe];var cr=i[bt],vr=s[bt];if(g)var xi=ne?g(vr,cr,bt,s,i,$):g(cr,vr,bt,i,s,$);if(!(xi===t?cr===vr||B(cr,vr,l,g,$):xi)){rr=!1;break}Ut||(Ut=bt=="constructor")}if(rr&&!Ut){var qn=i.constructor,Ei=s.constructor;qn!=Ei&&"constructor"in i&&"constructor"in s&&!(typeof qn=="function"&&qn instanceof qn&&typeof Ei=="function"&&Ei instanceof Ei)&&(rr=!1)}return $.delete(i),$.delete(s),rr}function $o(i){return J0(Q2(i,t,sm),i+"")}function H0(i){return d2(i,mn,Y0)}function G0(i){return d2(i,oi,q2)}var W0=kf?function(i){return kf.get(i)}:fd;function Hf(i){for(var s=i.name+"",l=ju[s],g=Cr.call(ju,s)?l.length:0;g--;){var B=l[g],$=B.func;if($==null||$==i)return B.name}return s}function Xu(i){var s=Cr.call(O,"placeholder")?O:i;return s.placeholder}function Nt(){var i=O.iteratee||sd;return i=i===sd?y2:i,arguments.length?i(arguments[0],arguments[1]):i}function Gf(i,s){var l=i.__data__;return ok(s)?l[typeof s=="string"?"string":"hash"]:l.map}function j0(i){for(var s=mn(i),l=s.length;l--;){var g=s[l],B=i[g];s[l]=[g,B,J2(B)]}return s}function nu(i,s){var l=$r(i,s);return v2(l)?l:t}function ZT(i){var s=Cr.call(i,Ce),l=i[Ce];try{i[Ce]=t;var g=!0}catch($){}var B=Xa.call(i);return g&&(s?i[Ce]=l:delete i[Ce]),B}var Y0=It?function(i){return i==null?[]:(i=Pr(i),xr(It(i),function(s){return P.call(i,s)}))}:ld,q2=It?function(i){for(var s=[];i;)mi(s,Y0(i)),i=Wu(i);return s}:ld,Mn=jn;(Tf&&Mn(new Tf(new ArrayBuffer(1)))!=p||Za&&Mn(new Za)!=X||qs&&Mn(qs.resolve())!=v||Do&&Mn(new Do)!=Q||Vs&&Mn(new Vs)!=se)&&(Mn=function(i){var s=jn(i),l=s==d?i.constructor:t,g=l?iu(l):"";if(g)switch(g){case UB:return p;case DB:return X;case OB:return v;case LB:return Q;case PB:return se}return s});function QT(i,s,l){for(var g=-1,B=l.length;++g<B;){var $=l[g],ne=$.size;switch($.type){case"drop":i+=ne;break;case"dropRight":s-=ne;break;case"take":s=kr(s,i+ne);break;case"takeRight":i=tr(i,s-ne);break}}return{start:i,end:s}}function ek(i){var s=i.match(un);return s?s[1].split(ei):[]}function V2(i,s,l){s=Ba(s,i);for(var g=-1,B=s.length,$=!1;++g<B;){var ne=wo(s[g]);if(!($=i!=null&&l(i,ne)))break;i=i[ne]}return $||++g!=B?$:(B=i==null?0:i.length,!!B&&Jf(B)&&zo(ne,B)&&(Ht(i)||ou(i)))}function tk(i){var s=i.length,l=new i.constructor(s);return s&&typeof i[0]=="string"&&Cr.call(i,"index")&&(l.index=i.index,l.input=i.input),l}function X2(i){return typeof i.constructor=="function"&&!ic(i)?Yu(Wu(i)):{}}function rk(i,s,l){var g=i.constructor;switch(s){case x:return $0(i);case M:case H:return new g(+i);case p:return MT(i,l);case m:case z:case re:case we:case Ee:case We:case ft:case Et:case At:return R2(i,l);case X:return new g;case ee:case ve:return new g(i);case N:return $T(i);case Q:return new g;case Ke:return zT(i)}}function nk(i,s){var l=s.length;if(!l)return i;var g=l-1;return s[g]=(l>1?"& ":"")+s[g],s=s.join(l>2?", ":" "),i.replace(dn,`{
/* [wrapped with `+s+`] */
`)}function ik(i){return Ht(i)||ou(i)||!!(W&&i&&i[W])}function zo(i,s){var l=typeof i;return s=s??Rt,!!s&&(l=="number"||l!="symbol"&&ki.test(i))&&i>-1&&i%1==0&&i<s}function Yn(i,s,l){if(!Xr(l))return!1;var g=typeof s;return(g=="number"?ii(l)&&zo(s,l.length):g=="string"&&s in l)?qi(l[s],i):!1}function q0(i,s){if(Ht(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||wi(i)?!0:Qn.test(i)||!Nn.test(i)||s!=null&&i in Pr(s)}function ok(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function V0(i){var s=Hf(i),l=O[s];if(typeof l!="function"||!(s in hr.prototype))return!1;if(i===l)return!0;var g=W0(l);return!!g&&i===g[0]}function ak(i){return!!xa&&xa in i}var uk=$u?Ko:hd;function ic(i){var s=i&&i.constructor,l=typeof s=="function"&&s.prototype||wa;return i===l}function J2(i){return i===i&&!Xr(i)}function Z2(i,s){return function(l){return l==null?!1:l[i]===s&&(s!==t||i in Pr(l))}}function sk(i){var s=Vf(i,function(g){return l.size===h&&l.clear(),g}),l=s.cache;return s}function ck(i,s){var l=i[1],g=s[1],B=l|g,$=B<(k|K|ce),ne=g==ce&&l==ge||g==ce&&l==Se&&i[7].length<=s[8]||g==(ce|Se)&&s[7].length<=s[8]&&l==ge;if(!($||ne))return i;g&k&&(i[2]=s[2],B|=l&k?0:he);var be=s[3];if(be){var Ue=i[3];i[3]=Ue?U2(Ue,be,s[4]):be,i[4]=Ue?In(i[3],c):s[4]}return be=s[5],be&&(Ue=i[5],i[5]=Ue?D2(Ue,be,s[6]):be,i[6]=Ue?In(i[5],c):s[6]),be=s[7],be&&(i[7]=be),g&ce&&(i[8]=i[8]==null?s[8]:kr(i[8],s[8])),i[9]==null&&(i[9]=s[9]),i[0]=s[0],i[1]=B,i}function fk(i){var s=[];if(i!=null)for(var l in Pr(i))s.push(l);return s}function lk(i){return Xa.call(i)}function Q2(i,s,l){return s=tr(s===t?i.length-1:s,0),function(){for(var g=arguments,B=-1,$=tr(g.length-s,0),ne=$e($);++B<$;)ne[B]=g[s+B];B=-1;for(var be=$e(s+1);++B<s;)be[B]=g[B];return be[s]=l(ne),fn(i,this,be)}}function em(i,s){return s.length<2?i:ru(i,Di(s,0,-1))}function hk(i,s){for(var l=i.length,g=kr(s.length,l),B=ni(i);g--;){var $=s[g];i[g]=zo($,l)?B[$]:t}return i}function X0(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var tm=nm(A2),oc=at||function(i,s){return _r.setTimeout(i,s)},J0=nm(DT);function rm(i,s,l){var g=s+"";return J0(i,nk(g,dk(ek(g),l)))}function nm(i){var s=0,l=0;return function(){var g=Ja(),B=dt-(g-l);if(l=g,B>0){if(++s>=vt)return arguments[0]}else s=0;return i.apply(t,arguments)}}function Wf(i,s){var l=-1,g=i.length,B=g-1;for(s=s===t?g:s;++l<s;){var $=N0(l,B),ne=i[$];i[$]=i[l],i[l]=ne}return i.length=s,i}var im=sk(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(li,function(l,g,B,$){s.push(B?$.replace(ti,"$1"):g||l)}),s});function wo(i){if(typeof i=="string"||wi(i))return i;var s=i+"";return s=="0"&&1/i==-Dt?"-0":s}function iu(i){if(i!=null){try{return zu.call(i)}catch(s){}try{return i+""}catch(s){}}return""}function dk(i,s){return Sn(Xe,function(l){var g="_."+l[0];s&l[1]&&!lo(i,g)&&i.push(g)}),i.sort()}function om(i){if(i instanceof hr)return i.clone();var s=new Ni(i.__wrapped__,i.__chain__);return s.__actions__=ni(i.__actions__),s.__index__=i.__index__,s.__values__=i.__values__,s}function pk(i,s,l){(l?Yn(i,s,l):s===t)?s=1:s=tr(Jt(s),0);var g=i==null?0:i.length;if(!g||s<1)return[];for(var B=0,$=0,ne=$e(ot(g/s));B<g;)ne[$++]=Di(i,B,B+=s);return ne}function vk(i){for(var s=-1,l=i==null?0:i.length,g=0,B=[];++s<l;){var $=i[s];$&&(B[g++]=$)}return B}function yk(){var i=arguments.length;if(!i)return[];for(var s=$e(i-1),l=arguments[0],g=i;g--;)s[g-1]=arguments[g];return mi(Ht(l)?ni(l):[l],Bn(s,1))}var mk=ir(function(i,s){return nn(i)?Qs(i,Bn(s,1,nn,!0)):[]}),gk=ir(function(i,s){var l=Oi(s);return nn(l)&&(l=t),nn(i)?Qs(i,Bn(s,1,nn,!0),Nt(l,2)):[]}),bk=ir(function(i,s){var l=Oi(s);return nn(l)&&(l=t),nn(i)?Qs(i,Bn(s,1,nn,!0),t,l):[]});function _k(i,s,l){var g=i==null?0:i.length;return g?(s=l||s===t?1:Jt(s),Di(i,s<0?0:s,g)):[]}function wk(i,s,l){var g=i==null?0:i.length;return g?(s=l||s===t?1:Jt(s),s=g-s,Di(i,0,s<0?0:s)):[]}function xk(i,s){return i&&i.length?Lf(i,Nt(s,3),!0,!0):[]}function Ek(i,s){return i&&i.length?Lf(i,Nt(s,3),!0):[]}function Ak(i,s,l,g){var B=i==null?0:i.length;return B?(l&&typeof l!="number"&&Yn(i,s,l)&&(l=0,g=B),yT(i,s,l,g)):[]}function am(i,s,l){var g=i==null?0:i.length;if(!g)return-1;var B=l==null?0:Jt(l);return B<0&&(B=tr(g+B,0)),Ci(i,Nt(s,3),B)}function um(i,s,l){var g=i==null?0:i.length;if(!g)return-1;var B=g-1;return l!==t&&(B=Jt(l),B=l<0?tr(g+B,0):kr(B,g-1)),Ci(i,Nt(s,3),B,!0)}function sm(i){var s=i==null?0:i.length;return s?Bn(i,1):[]}function Sk(i){var s=i==null?0:i.length;return s?Bn(i,Dt):[]}function Ik(i,s){var l=i==null?0:i.length;return l?(s=s===t?1:Jt(s),Bn(i,s)):[]}function Bk(i){for(var s=-1,l=i==null?0:i.length,g={};++s<l;){var B=i[s];g[B[0]]=B[1]}return g}function cm(i){return i&&i.length?i[0]:t}function Tk(i,s,l){var g=i==null?0:i.length;if(!g)return-1;var B=l==null?0:Jt(l);return B<0&&(B=tr(g+B,0)),po(i,s,B)}function kk(i){var s=i==null?0:i.length;return s?Di(i,0,-1):[]}var Fk=ir(function(i){var s=Lr(i,P0);return s.length&&s[0]===i[0]?T0(s):[]}),Ck=ir(function(i){var s=Oi(i),l=Lr(i,P0);return s===Oi(l)?s=t:l.pop(),l.length&&l[0]===i[0]?T0(l,Nt(s,2)):[]}),Rk=ir(function(i){var s=Oi(i),l=Lr(i,P0);return s=typeof s=="function"?s:t,s&&l.pop(),l.length&&l[0]===i[0]?T0(l,t,s):[]});function Nk(i,s){return i==null?"":Rr.call(i,s)}function Oi(i){var s=i==null?0:i.length;return s?i[s-1]:t}function Uk(i,s,l){var g=i==null?0:i.length;if(!g)return-1;var B=g;return l!==t&&(B=Jt(l),B=B<0?tr(g+B,0):kr(B,g-1)),s===s?p0(i,s,B):Ci(i,ma,B,!0)}function Dk(i,s){return i&&i.length?_2(i,Jt(s)):t}var Ok=ir(fm);function fm(i,s){return i&&i.length&&s&&s.length?R0(i,s):i}function Lk(i,s,l){return i&&i.length&&s&&s.length?R0(i,s,Nt(l,2)):i}function Pk(i,s,l){return i&&i.length&&s&&s.length?R0(i,s,t,l):i}var Mk=$o(function(i,s){var l=i==null?0:i.length,g=A0(i,s);return E2(i,Lr(s,function(B){return zo(B,l)?+B:B}).sort(N2)),g});function $k(i,s){var l=[];if(!(i&&i.length))return l;var g=-1,B=[],$=i.length;for(s=Nt(s,3);++g<$;){var ne=i[g];s(ne,g,i)&&(l.push(ne),B.push(g))}return E2(i,B),l}function Z0(i){return i==null?i:Ys.call(i)}function zk(i,s,l){var g=i==null?0:i.length;return g?(l&&typeof l!="number"&&Yn(i,s,l)?(s=0,l=g):(s=s==null?0:Jt(s),l=l===t?g:Jt(l)),Di(i,s,l)):[]}function Kk(i,s){return Of(i,s)}function Hk(i,s,l){return D0(i,s,Nt(l,2))}function Gk(i,s){var l=i==null?0:i.length;if(l){var g=Of(i,s);if(g<l&&qi(i[g],s))return g}return-1}function Wk(i,s){return Of(i,s,!0)}function jk(i,s,l){return D0(i,s,Nt(l,2),!0)}function Yk(i,s){var l=i==null?0:i.length;if(l){var g=Of(i,s,!0)-1;if(qi(i[g],s))return g}return-1}function qk(i){return i&&i.length?S2(i):[]}function Vk(i,s){return i&&i.length?S2(i,Nt(s,2)):[]}function Xk(i){var s=i==null?0:i.length;return s?Di(i,1,s):[]}function Jk(i,s,l){return i&&i.length?(s=l||s===t?1:Jt(s),Di(i,0,s<0?0:s)):[]}function Zk(i,s,l){var g=i==null?0:i.length;return g?(s=l||s===t?1:Jt(s),s=g-s,Di(i,s<0?0:s,g)):[]}function Qk(i,s){return i&&i.length?Lf(i,Nt(s,3),!1,!0):[]}function eF(i,s){return i&&i.length?Lf(i,Nt(s,3)):[]}var tF=ir(function(i){return Ia(Bn(i,1,nn,!0))}),rF=ir(function(i){var s=Oi(i);return nn(s)&&(s=t),Ia(Bn(i,1,nn,!0),Nt(s,2))}),nF=ir(function(i){var s=Oi(i);return s=typeof s=="function"?s:t,Ia(Bn(i,1,nn,!0),t,s)});function iF(i){return i&&i.length?Ia(i):[]}function oF(i,s){return i&&i.length?Ia(i,Nt(s,2)):[]}function aF(i,s){return s=typeof s=="function"?s:t,i&&i.length?Ia(i,t,s):[]}function Q0(i){if(!(i&&i.length))return[];var s=0;return i=xr(i,function(l){if(nn(l))return s=tr(l.length,s),!0}),ga(s,function(l){return Lr(i,vo(l))})}function lm(i,s){if(!(i&&i.length))return[];var l=Q0(i);return s==null?l:Lr(l,function(g){return fn(s,t,g)})}var uF=ir(function(i,s){return nn(i)?Qs(i,s):[]}),sF=ir(function(i){return L0(xr(i,nn))}),cF=ir(function(i){var s=Oi(i);return nn(s)&&(s=t),L0(xr(i,nn),Nt(s,2))}),fF=ir(function(i){var s=Oi(i);return s=typeof s=="function"?s:t,L0(xr(i,nn),t,s)}),lF=ir(Q0);function hF(i,s){return k2(i||[],s||[],Zs)}function dF(i,s){return k2(i||[],s||[],rc)}var pF=ir(function(i){var s=i.length,l=s>1?i[s-1]:t;return l=typeof l=="function"?(i.pop(),l):t,lm(i,l)});function hm(i){var s=O(i);return s.__chain__=!0,s}function vF(i,s){return s(i),i}function jf(i,s){return s(i)}var yF=$o(function(i){var s=i.length,l=s?i[0]:0,g=this.__wrapped__,B=function($){return A0($,i)};return s>1||this.__actions__.length||!(g instanceof hr)||!zo(l)?this.thru(B):(g=g.slice(l,+l+(s?1:0)),g.__actions__.push({func:jf,args:[B],thisArg:t}),new Ni(g,this.__chain__).thru(function($){return s&&!$.length&&$.push(t),$}))});function mF(){return hm(this)}function gF(){return new Ni(this.value(),this.__chain__)}function bF(){this.__values__===t&&(this.__values__=Im(this.value()));var i=this.__index__>=this.__values__.length,s=i?t:this.__values__[this.__index__++];return{done:i,value:s}}function _F(){return this}function wF(i){for(var s,l=this;l instanceof Cf;){var g=om(l);g.__index__=0,g.__values__=t,s?B.__wrapped__=g:s=g;var B=g;l=l.__wrapped__}return B.__wrapped__=i,s}function xF(){var i=this.__wrapped__;if(i instanceof hr){var s=i;return this.__actions__.length&&(s=new hr(this)),s=s.reverse(),s.__actions__.push({func:jf,args:[Z0],thisArg:t}),new Ni(s,this.__chain__)}return this.thru(Z0)}function EF(){return T2(this.__wrapped__,this.__actions__)}var AF=Pf(function(i,s,l){Cr.call(i,l)?++i[l]:Po(i,l,1)});function SF(i,s,l){var g=Ht(i)?Vr:vT;return l&&Yn(i,s,l)&&(s=t),g(i,Nt(s,3))}function IF(i,s){var l=Ht(i)?xr:l2;return l(i,Nt(s,3))}var BF=M2(am),TF=M2(um);function kF(i,s){return Bn(Yf(i,s),1)}function FF(i,s){return Bn(Yf(i,s),Dt)}function CF(i,s,l){return l=l===t?1:Jt(l),Bn(Yf(i,s),l)}function dm(i,s){var l=Ht(i)?Sn:Sa;return l(i,Nt(s,3))}function pm(i,s){var l=Ht(i)?Hs:f2;return l(i,Nt(s,3))}var RF=Pf(function(i,s,l){Cr.call(i,l)?i[l].push(s):Po(i,l,[s])});function NF(i,s,l,g){i=ii(i)?i:Zu(i),l=l&&!g?Jt(l):0;var B=i.length;return l<0&&(l=tr(B+l,0)),Zf(i)?l<=B&&i.indexOf(s,l)>-1:!!B&&po(i,s,l)>-1}var UF=ir(function(i,s,l){var g=-1,B=typeof s=="function",$=ii(i)?$e(i.length):[];return Sa(i,function(ne){$[++g]=B?fn(s,ne,l):ec(ne,s,l)}),$}),DF=Pf(function(i,s,l){Po(i,l,s)});function Yf(i,s){var l=Ht(i)?Lr:m2;return l(i,Nt(s,3))}function OF(i,s,l,g){return i==null?[]:(Ht(s)||(s=s==null?[]:[s]),l=g?t:l,Ht(l)||(l=l==null?[]:[l]),w2(i,s,l))}var LF=Pf(function(i,s,l){i[l?0:1].push(s)},function(){return[[],[]]});function PF(i,s,l){var g=Ht(i)?ya:ji,B=arguments.length<3;return g(i,Nt(s,4),l,B,Sa)}function MF(i,s,l){var g=Ht(i)?ho:ji,B=arguments.length<3;return g(i,Nt(s,4),l,B,f2)}function $F(i,s){var l=Ht(i)?xr:l2;return l(i,Xf(Nt(s,3)))}function zF(i){var s=Ht(i)?a2:NT;return s(i)}function KF(i,s,l){(l?Yn(i,s,l):s===t)?s=1:s=Jt(s);var g=Ht(i)?fT:UT;return g(i,s)}function HF(i){var s=Ht(i)?lT:OT;return s(i)}function GF(i){if(i==null)return 0;if(ii(i))return Zf(i)?ba(i):i.length;var s=Mn(i);return s==X||s==Q?i.size:F0(i).length}function WF(i,s,l){var g=Ht(i)?Uo:LT;return l&&Yn(i,s,l)&&(s=t),g(i,Nt(s,3))}var jF=ir(function(i,s){if(i==null)return[];var l=s.length;return l>1&&Yn(i,s[0],s[1])?s=[]:l>2&&Yn(s[0],s[1],s[2])&&(s=[s[0]]),w2(i,Bn(s,1),[])}),qf=rt||function(){return _r.Date.now()};function YF(i,s){if(typeof s!="function")throw new ri(u);return i=Jt(i),function(){if(--i<1)return s.apply(this,arguments)}}function vm(i,s,l){return s=l?t:s,s=i&&s==null?i.length:s,Mo(i,ce,t,t,t,t,s)}function ym(i,s){var l;if(typeof s!="function")throw new ri(u);return i=Jt(i),function(){return--i>0&&(l=s.apply(this,arguments)),i<=1&&(s=t),l}}var ed=ir(function(i,s,l){var g=k;if(l.length){var B=In(l,Xu(ed));g|=fe}return Mo(i,g,s,l,B)}),mm=ir(function(i,s,l){var g=k|K;if(l.length){var B=In(l,Xu(mm));g|=fe}return Mo(s,g,i,l,B)});function gm(i,s,l){s=l?t:s;var g=Mo(i,ge,t,t,t,t,t,s);return g.placeholder=gm.placeholder,g}function bm(i,s,l){s=l?t:s;var g=Mo(i,ke,t,t,t,t,t,s);return g.placeholder=bm.placeholder,g}function _m(i,s,l){var g,B,$,ne,be,Ue,qe=0,Ve=!1,Qe=!1,bt=!0;if(typeof i!="function")throw new ri(u);s=Li(s)||0,Xr(l)&&(Ve=!!l.leading,Qe="maxWait"in l,$=Qe?tr(Li(l.maxWait)||0,s):$,bt="trailing"in l?!!l.trailing:bt);function Bt(on){var Vi=g,Go=B;return g=B=t,qe=on,ne=i.apply(Go,Vi),ne}function Ot(on){return qe=on,be=oc(cr,s),Ve?Bt(on):ne}function rr(on){var Vi=on-Ue,Go=on-qe,Mm=s-Vi;return Qe?kr(Mm,$-Go):Mm}function Ut(on){var Vi=on-Ue,Go=on-qe;return Ue===t||Vi>=s||Vi<0||Qe&&Go>=$}function cr(){var on=qf();if(Ut(on))return vr(on);be=oc(cr,rr(on))}function vr(on){return be=t,bt&&g?Bt(on):(g=B=t,ne)}function xi(){be!==t&&F2(be),qe=0,g=Ue=B=be=t}function qn(){return be===t?ne:vr(qf())}function Ei(){var on=qf(),Vi=Ut(on);if(g=arguments,B=this,Ue=on,Vi){if(be===t)return Ot(Ue);if(Qe)return F2(be),be=oc(cr,s),Bt(Ue)}return be===t&&(be=oc(cr,s)),ne}return Ei.cancel=xi,Ei.flush=qn,Ei}var qF=ir(function(i,s){return c2(i,1,s)}),VF=ir(function(i,s,l){return c2(i,Li(s)||0,l)});function XF(i){return Mo(i,le)}function Vf(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new ri(u);var l=function(){var g=arguments,B=s?s.apply(this,g):g[0],$=l.cache;if($.has(B))return $.get(B);var ne=i.apply(this,g);return l.cache=$.set(B,ne)||$,ne};return l.cache=new(Vf.Cache||Lo),l}Vf.Cache=Lo;function Xf(i){if(typeof i!="function")throw new ri(u);return function(){var s=arguments;switch(s.length){case 0:return!i.call(this);case 1:return!i.call(this,s[0]);case 2:return!i.call(this,s[0],s[1]);case 3:return!i.call(this,s[0],s[1],s[2])}return!i.apply(this,s)}}function JF(i){return ym(2,i)}var ZF=PT(function(i,s){s=s.length==1&&Ht(s[0])?Lr(s[0],yn(Nt())):Lr(Bn(s,1),yn(Nt()));var l=s.length;return ir(function(g){for(var B=-1,$=kr(g.length,l);++B<$;)g[B]=s[B].call(this,g[B]);return fn(i,this,g)})}),td=ir(function(i,s){var l=In(s,Xu(td));return Mo(i,fe,t,s,l)}),wm=ir(function(i,s){var l=In(s,Xu(wm));return Mo(i,V,t,s,l)}),QF=$o(function(i,s){return Mo(i,Se,t,t,t,s)});function e5(i,s){if(typeof i!="function")throw new ri(u);return s=s===t?s:Jt(s),ir(i,s)}function t5(i,s){if(typeof i!="function")throw new ri(u);return s=s==null?0:tr(Jt(s),0),ir(function(l){var g=l[s],B=Ta(l,0,s);return g&&mi(B,g),fn(i,this,B)})}function r5(i,s,l){var g=!0,B=!0;if(typeof i!="function")throw new ri(u);return Xr(l)&&(g="leading"in l?!!l.leading:g,B="trailing"in l?!!l.trailing:B),_m(i,s,{leading:g,maxWait:s,trailing:B})}function n5(i){return vm(i,1)}function i5(i,s){return td(M0(s),i)}function o5(){if(!arguments.length)return[];var i=arguments[0];return Ht(i)?i:[i]}function a5(i){return Ui(i,A)}function u5(i,s){return s=typeof s=="function"?s:t,Ui(i,A,s)}function s5(i){return Ui(i,y|A)}function c5(i,s){return s=typeof s=="function"?s:t,Ui(i,y|A,s)}function f5(i,s){return s==null||s2(i,s,mn(s))}function qi(i,s){return i===s||i!==i&&s!==s}var l5=Kf(B0),h5=Kf(function(i,s){return i>=s}),ou=p2(function(){return arguments}())?p2:function(i){return Zr(i)&&Cr.call(i,"callee")&&!P.call(i,"callee")},Ht=$e.isArray,d5=vn?yn(vn):wT;function ii(i){return i!=null&&Jf(i.length)&&!Ko(i)}function nn(i){return Zr(i)&&ii(i)}function p5(i){return i===!0||i===!1||Zr(i)&&jn(i)==M}var ka=er||hd,v5=En?yn(En):xT;function y5(i){return Zr(i)&&i.nodeType===1&&!ac(i)}function m5(i){if(i==null)return!0;if(ii(i)&&(Ht(i)||typeof i=="string"||typeof i.splice=="function"||ka(i)||Ju(i)||ou(i)))return!i.length;var s=Mn(i);if(s==X||s==Q)return!i.size;if(ic(i))return!F0(i).length;for(var l in i)if(Cr.call(i,l))return!1;return!0}function g5(i,s){return tc(i,s)}function b5(i,s,l){l=typeof l=="function"?l:t;var g=l?l(i,s):t;return g===t?tc(i,s,t,l):!!g}function rd(i){if(!Zr(i))return!1;var s=jn(i);return s==T||s==E||typeof i.message=="string"&&typeof i.name=="string"&&!ac(i)}function _5(i){return typeof i=="number"&&Ir(i)}function Ko(i){if(!Xr(i))return!1;var s=jn(i);return s==C||s==q||s==ie||s==I}function xm(i){return typeof i=="number"&&i==Jt(i)}function Jf(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Rt}function Xr(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function Zr(i){return i!=null&&typeof i=="object"}var Em=An?yn(An):AT;function w5(i,s){return i===s||k0(i,s,j0(s))}function x5(i,s,l){return l=typeof l=="function"?l:t,k0(i,s,j0(s),l)}function E5(i){return Am(i)&&i!=+i}function A5(i){if(uk(i))throw new $t(a);return v2(i)}function S5(i){return i===null}function I5(i){return i==null}function Am(i){return typeof i=="number"||Zr(i)&&jn(i)==ee}function ac(i){if(!Zr(i)||jn(i)!=d)return!1;var s=Wu(i);if(s===null)return!0;var l=Cr.call(s,"constructor")&&s.constructor;return typeof l=="function"&&l instanceof l&&zu.call(l)==Ea}var nd=Wn?yn(Wn):ST;function B5(i){return xm(i)&&i>=-Rt&&i<=Rt}var Sm=Gi?yn(Gi):IT;function Zf(i){return typeof i=="string"||!Ht(i)&&Zr(i)&&jn(i)==ve}function wi(i){return typeof i=="symbol"||Zr(i)&&jn(i)==Ke}var Ju=No?yn(No):BT;function T5(i){return i===t}function k5(i){return Zr(i)&&Mn(i)==se}function F5(i){return Zr(i)&&jn(i)==De}var C5=Kf(C0),R5=Kf(function(i,s){return i<=s});function Im(i){if(!i)return[];if(ii(i))return Zf(i)?bi(i):ni(i);if(Be&&i[Be])return Ar(i[Be]());var s=Mn(i),l=s==X?Lu:s==Q?Pu:Zu;return l(i)}function Ho(i){if(!i)return i===0?i:0;if(i=Li(i),i===Dt||i===-Dt){var s=i<0?-1:1;return s*Yt}return i===i?i:0}function Jt(i){var s=Ho(i),l=s%1;return s===s?l?s-l:s:0}function Bm(i){return i?tu(Jt(i),0,yt):0}function Li(i){if(typeof i=="number")return i;if(wi(i))return gr;if(Xr(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=Xr(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=i.replace(cn,"");var l=vi.test(i);return l||Ti.test(i)?yi(i.slice(2),l?2:8):pi.test(i)?gr:+i}function Tm(i){return _o(i,oi(i))}function N5(i){return i?tu(Jt(i),-Rt,Rt):i===0?i:0}function Ur(i){return i==null?"":_i(i)}var U5=qu(function(i,s){if(ic(s)||ii(s)){_o(s,mn(s),i);return}for(var l in s)Cr.call(s,l)&&Zs(i,l,s[l])}),km=qu(function(i,s){_o(s,oi(s),i)}),Qf=qu(function(i,s,l,g){_o(s,oi(s),i,g)}),D5=qu(function(i,s,l,g){_o(s,mn(s),i,g)}),O5=$o(A0);function L5(i,s){var l=Yu(i);return s==null?l:u2(l,s)}var P5=ir(function(i,s){i=Pr(i);var l=-1,g=s.length,B=g>2?s[2]:t;for(B&&Yn(s[0],s[1],B)&&(g=1);++l<g;)for(var $=s[l],ne=oi($),be=-1,Ue=ne.length;++be<Ue;){var qe=ne[be],Ve=i[qe];(Ve===t||qi(Ve,wa[qe])&&!Cr.call(i,qe))&&(i[qe]=$[qe])}return i}),M5=ir(function(i){return i.push(t,j2),fn(Fm,t,i)});function $5(i,s){return Wi(i,Nt(s,3),bo)}function z5(i,s){return Wi(i,Nt(s,3),I0)}function K5(i,s){return i==null?i:S0(i,Nt(s,3),oi)}function H5(i,s){return i==null?i:h2(i,Nt(s,3),oi)}function G5(i,s){return i&&bo(i,Nt(s,3))}function W5(i,s){return i&&I0(i,Nt(s,3))}function j5(i){return i==null?[]:Uf(i,mn(i))}function Y5(i){return i==null?[]:Uf(i,oi(i))}function id(i,s,l){var g=i==null?t:ru(i,s);return g===t?l:g}function q5(i,s){return i!=null&&V2(i,s,mT)}function od(i,s){return i!=null&&V2(i,s,gT)}var V5=z2(function(i,s,l){s!=null&&typeof s.toString!="function"&&(s=Xa.call(s)),i[s]=l},ud(ai)),X5=z2(function(i,s,l){s!=null&&typeof s.toString!="function"&&(s=Xa.call(s)),Cr.call(i,s)?i[s].push(l):i[s]=[l]},Nt),J5=ir(ec);function mn(i){return ii(i)?o2(i):F0(i)}function oi(i){return ii(i)?o2(i,!0):TT(i)}function Z5(i,s){var l={};return s=Nt(s,3),bo(i,function(g,B,$){Po(l,s(g,B,$),g)}),l}function Q5(i,s){var l={};return s=Nt(s,3),bo(i,function(g,B,$){Po(l,B,s(g,B,$))}),l}var eC=qu(function(i,s,l){Df(i,s,l)}),Fm=qu(function(i,s,l,g){Df(i,s,l,g)}),tC=$o(function(i,s){var l={};if(i==null)return l;var g=!1;s=Lr(s,function($){return $=Ba($,i),g||(g=$.length>1),$}),_o(i,G0(i),l),g&&(l=Ui(l,y|_|A,VT));for(var B=s.length;B--;)O0(l,s[B]);return l});function rC(i,s){return Cm(i,Xf(Nt(s)))}var nC=$o(function(i,s){return i==null?{}:FT(i,s)});function Cm(i,s){if(i==null)return{};var l=Lr(G0(i),function(g){return[g]});return s=Nt(s),x2(i,l,function(g,B){return s(g,B[0])})}function iC(i,s,l){s=Ba(s,i);var g=-1,B=s.length;for(B||(B=1,i=t);++g<B;){var $=i==null?t:i[wo(s[g])];$===t&&(g=B,$=l),i=Ko($)?$.call(i):$}return i}function oC(i,s,l){return i==null?i:rc(i,s,l)}function aC(i,s,l,g){return g=typeof g=="function"?g:t,i==null?i:rc(i,s,l,g)}var Rm=G2(mn),Nm=G2(oi);function uC(i,s,l){var g=Ht(i),B=g||ka(i)||Ju(i);if(s=Nt(s,4),l==null){var $=i&&i.constructor;B?l=g?new $:[]:Xr(i)?l=Ko($)?Yu(Wu(i)):{}:l={}}return(B?Sn:bo)(i,function(ne,be,Ue){return s(l,ne,be,Ue)}),l}function sC(i,s){return i==null?!0:O0(i,s)}function cC(i,s,l){return i==null?i:B2(i,s,M0(l))}function fC(i,s,l,g){return g=typeof g=="function"?g:t,i==null?i:B2(i,s,M0(l),g)}function Zu(i){return i==null?[]:U(i,mn(i))}function lC(i){return i==null?[]:U(i,oi(i))}function hC(i,s,l){return l===t&&(l=s,s=t),l!==t&&(l=Li(l),l=l===l?l:0),s!==t&&(s=Li(s),s=s===s?s:0),tu(Li(i),s,l)}function dC(i,s,l){return s=Ho(s),l===t?(l=s,s=0):l=Ho(l),i=Li(i),bT(i,s,l)}function pC(i,s,l){if(l&&typeof l!="boolean"&&Yn(i,s,l)&&(s=l=t),l===t&&(typeof s=="boolean"?(l=s,s=t):typeof i=="boolean"&&(l=i,i=t)),i===t&&s===t?(i=0,s=1):(i=Ho(i),s===t?(s=i,i=0):s=Ho(s)),i>s){var g=i;i=s,s=g}if(l||i%1||s%1){var B=Bf();return kr(i+B*(s-i+Gr("1e-"+((B+"").length-1))),s)}return N0(i,s)}var vC=Vu(function(i,s,l){return s=s.toLowerCase(),i+(l?Um(s):s)});function Um(i){return ad(Ur(i).toLowerCase())}function Dm(i){return i=Ur(i),i&&i.replace(Qt,Me).replace(xe,"")}function yC(i,s,l){i=Ur(i),s=_i(s);var g=i.length;l=l===t?g:tu(Jt(l),0,g);var B=l;return l-=s.length,l>=0&&i.slice(l,B)==s}function mC(i){return i=Ur(i),i&&fi.test(i)?i.replace(Zn,He):i}function gC(i){return i=Ur(i),i&&hi.test(i)?i.replace(ur,"\\$&"):i}var bC=Vu(function(i,s,l){return i+(l?"-":"")+s.toLowerCase()}),_C=Vu(function(i,s,l){return i+(l?" ":"")+s.toLowerCase()}),wC=P2("toLowerCase");function xC(i,s,l){i=Ur(i),s=Jt(s);var g=s?ba(i):0;if(!s||g>=s)return i;var B=(s-g)/2;return zf(ct(B),l)+i+zf(ot(B),l)}function EC(i,s,l){i=Ur(i),s=Jt(s);var g=s?ba(i):0;return s&&g<s?i+zf(s-g,l):i}function AC(i,s,l){i=Ur(i),s=Jt(s);var g=s?ba(i):0;return s&&g<s?zf(s-g,l)+i:i}function SC(i,s,l){return l||s==null?s=0:s&&(s=+s),js(Ur(i).replace(Un,""),s||0)}function IC(i,s,l){return(l?Yn(i,s,l):s===t)?s=1:s=Jt(s),U0(Ur(i),s)}function BC(){var i=arguments,s=Ur(i[0]);return i.length<3?s:s.replace(i[1],i[2])}var TC=Vu(function(i,s,l){return i+(l?"_":"")+s.toLowerCase()});function kC(i,s,l){return l&&typeof l!="number"&&Yn(i,s,l)&&(s=l=t),l=l===t?yt:l>>>0,l?(i=Ur(i),i&&(typeof s=="string"||s!=null&&!nd(s))&&(s=_i(s),!s&&Er(i))?Ta(bi(i),0,l):i.split(s,l)):[]}var FC=Vu(function(i,s,l){return i+(l?" ":"")+ad(s)});function CC(i,s,l){return i=Ur(i),l=l==null?0:tu(Jt(l),0,i.length),s=_i(s),i.slice(l,l+s.length)==s}function RC(i,s,l){var g=O.templateSettings;l&&Yn(i,s,l)&&(s=t),i=Ur(i),s=Qf({},s,g,W2);var B=Qf({},s.imports,g.imports,W2),$=mn(B),ne=U(B,$),be,Ue,qe=0,Ve=s.interpolate||On,Qe="__p += '",bt=Ws((s.escape||On).source+"|"+Ve.source+"|"+(Ve===_n?Bi:On).source+"|"+(s.evaluate||On).source+"|$","g"),Bt="//# sourceURL="+(Cr.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Je+"]")+`
`;i.replace(bt,function(Ut,cr,vr,xi,qn,Ei){return vr||(vr=xi),Qe+=i.slice(qe,Ei).replace(la,Kt),cr&&(be=!0,Qe+=`' +
__e(`+cr+`) +
'`),qn&&(Ue=!0,Qe+=`';
`+qn+`;
__p += '`),vr&&(Qe+=`' +
((__t = (`+vr+`)) == null ? '' : __t) +
'`),qe=Ei+Ut.length,Ut}),Qe+=`';
`;var Ot=Cr.call(s,"variable")&&s.variable;Ot||(Qe=`with (obj) {
`+Qe+`
}
`),Qe=(Ue?Qe.replace(zt,""):Qe).replace(hn,"$1").replace(qt,"$1;"),Qe="function("+(Ot||"obj")+`) {
`+(Ot?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(be?", __e = _.escape":"")+(Ue?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Qe+`return __p
}`;var rr=Lm(function(){return Sr($,Bt+"return "+Qe).apply(t,ne)});if(rr.source=Qe,rd(rr))throw rr;return rr}function NC(i){return Ur(i).toLowerCase()}function UC(i){return Ur(i).toUpperCase()}function DC(i,s,l){if(i=Ur(i),i&&(l||s===t))return i.replace(cn,"");if(!i||!(s=_i(s)))return i;var g=bi(i),B=bi(s),$=w(g,B),ne=j(g,B)+1;return Ta(g,$,ne).join("")}function OC(i,s,l){if(i=Ur(i),i&&(l||s===t))return i.replace(Dn,"");if(!i||!(s=_i(s)))return i;var g=bi(i),B=j(g,bi(s))+1;return Ta(g,0,B).join("")}function LC(i,s,l){if(i=Ur(i),i&&(l||s===t))return i.replace(Un,"");if(!i||!(s=_i(s)))return i;var g=bi(i),B=w(g,bi(s));return Ta(g,B).join("")}function PC(i,s){var l=Oe,g=Pe;if(Xr(s)){var B="separator"in s?s.separator:B;l="length"in s?Jt(s.length):l,g="omission"in s?_i(s.omission):g}i=Ur(i);var $=i.length;if(Er(i)){var ne=bi(i);$=ne.length}if(l>=$)return i;var be=l-ba(g);if(be<1)return g;var Ue=ne?Ta(ne,0,be).join(""):i.slice(0,be);if(B===t)return Ue+g;if(ne&&(be+=Ue.length-be),nd(B)){if(i.slice(be).search(B)){var qe,Ve=Ue;for(B.global||(B=Ws(B.source,Ur(di.exec(B))+"g")),B.lastIndex=0;qe=B.exec(Ve);)var Qe=qe.index;Ue=Ue.slice(0,Qe===t?be:Qe)}}else if(i.indexOf(_i(B),be)!=be){var bt=Ue.lastIndexOf(B);bt>-1&&(Ue=Ue.slice(0,bt))}return Ue+g}function MC(i){return i=Ur(i),i&&fr.test(i)?i.replace(jr,v0):i}var $C=Vu(function(i,s,l){return i+(l?" ":"")+s.toUpperCase()}),ad=P2("toUpperCase");function Om(i,s,l){return i=Ur(i),s=l?t:s,s===t?Kr(i)?g0(i):Ou(i):i.match(s)||[]}var Lm=ir(function(i,s){try{return fn(i,t,s)}catch(l){return rd(l)?l:new $t(l)}}),zC=$o(function(i,s){return Sn(s,function(l){l=wo(l),Po(i,l,ed(i[l],i))}),i});function KC(i){var s=i==null?0:i.length,l=Nt();return i=s?Lr(i,function(g){if(typeof g[1]!="function")throw new ri(u);return[l(g[0]),g[1]]}):[],ir(function(g){for(var B=-1;++B<s;){var $=i[B];if(fn($[0],this,g))return fn($[1],this,g)}})}function HC(i){return pT(Ui(i,y))}function ud(i){return function(){return i}}function GC(i,s){return i==null||i!==i?s:i}var WC=$2(),jC=$2(!0);function ai(i){return i}function sd(i){return y2(typeof i=="function"?i:Ui(i,y))}function YC(i){return g2(Ui(i,y))}function qC(i,s){return b2(i,Ui(s,y))}var VC=ir(function(i,s){return function(l){return ec(l,i,s)}}),XC=ir(function(i,s){return function(l){return ec(i,l,s)}});function cd(i,s,l){var g=mn(s),B=Uf(s,g);l==null&&!(Xr(s)&&(B.length||!g.length))&&(l=s,s=i,i=this,B=Uf(s,mn(s)));var $=!(Xr(l)&&"chain"in l)||!!l.chain,ne=Ko(i);return Sn(B,function(be){var Ue=s[be];i[be]=Ue,ne&&(i.prototype[be]=function(){var qe=this.__chain__;if($||qe){var Ve=i(this.__wrapped__),Qe=Ve.__actions__=ni(this.__actions__);return Qe.push({func:Ue,args:arguments,thisArg:i}),Ve.__chain__=qe,Ve}return Ue.apply(i,mi([this.value()],arguments))})}),i}function JC(){return _r._===this&&(_r._=x0),this}function fd(){}function ZC(i){return i=Jt(i),ir(function(s){return _2(s,i)})}var QC=z0(Lr),eR=z0(Vr),tR=z0(Uo);function Pm(i){return q0(i)?vo(wo(i)):CT(i)}function rR(i){return function(s){return i==null?t:ru(i,s)}}var nR=K2(),iR=K2(!0);function ld(){return[]}function hd(){return!1}function oR(){return{}}function aR(){return""}function uR(){return!0}function sR(i,s){if(i=Jt(i),i<1||i>Rt)return[];var l=yt,g=kr(i,yt);s=Nt(s),i-=yt;for(var B=ga(g,s);++l<i;)s(l);return B}function cR(i){return Ht(i)?Lr(i,wo):wi(i)?[i]:ni(im(Ur(i)))}function fR(i){var s=++Sf;return Ur(i)+s}var lR=$f(function(i,s){return i+s},0),hR=K0("ceil"),dR=$f(function(i,s){return i/s},1),pR=K0("floor");function vR(i){return i&&i.length?Nf(i,ai,B0):t}function yR(i,s){return i&&i.length?Nf(i,Nt(s,2),B0):t}function mR(i){return Va(i,ai)}function gR(i,s){return Va(i,Nt(s,2))}function bR(i){return i&&i.length?Nf(i,ai,C0):t}function _R(i,s){return i&&i.length?Nf(i,Nt(s,2),C0):t}var wR=$f(function(i,s){return i*s},1),xR=K0("round"),ER=$f(function(i,s){return i-s},0);function AR(i){return i&&i.length?mo(i,ai):0}function SR(i,s){return i&&i.length?mo(i,Nt(s,2)):0}return O.after=YF,O.ary=vm,O.assign=U5,O.assignIn=km,O.assignInWith=Qf,O.assignWith=D5,O.at=O5,O.before=ym,O.bind=ed,O.bindAll=zC,O.bindKey=mm,O.castArray=o5,O.chain=hm,O.chunk=pk,O.compact=vk,O.concat=yk,O.cond=KC,O.conforms=HC,O.constant=ud,O.countBy=AF,O.create=L5,O.curry=gm,O.curryRight=bm,O.debounce=_m,O.defaults=P5,O.defaultsDeep=M5,O.defer=qF,O.delay=VF,O.difference=mk,O.differenceBy=gk,O.differenceWith=bk,O.drop=_k,O.dropRight=wk,O.dropRightWhile=xk,O.dropWhile=Ek,O.fill=Ak,O.filter=IF,O.flatMap=kF,O.flatMapDeep=FF,O.flatMapDepth=CF,O.flatten=sm,O.flattenDeep=Sk,O.flattenDepth=Ik,O.flip=XF,O.flow=WC,O.flowRight=jC,O.fromPairs=Bk,O.functions=j5,O.functionsIn=Y5,O.groupBy=RF,O.initial=kk,O.intersection=Fk,O.intersectionBy=Ck,O.intersectionWith=Rk,O.invert=V5,O.invertBy=X5,O.invokeMap=UF,O.iteratee=sd,O.keyBy=DF,O.keys=mn,O.keysIn=oi,O.map=Yf,O.mapKeys=Z5,O.mapValues=Q5,O.matches=YC,O.matchesProperty=qC,O.memoize=Vf,O.merge=eC,O.mergeWith=Fm,O.method=VC,O.methodOf=XC,O.mixin=cd,O.negate=Xf,O.nthArg=ZC,O.omit=tC,O.omitBy=rC,O.once=JF,O.orderBy=OF,O.over=QC,O.overArgs=ZF,O.overEvery=eR,O.overSome=tR,O.partial=td,O.partialRight=wm,O.partition=LF,O.pick=nC,O.pickBy=Cm,O.property=Pm,O.propertyOf=rR,O.pull=Ok,O.pullAll=fm,O.pullAllBy=Lk,O.pullAllWith=Pk,O.pullAt=Mk,O.range=nR,O.rangeRight=iR,O.rearg=QF,O.reject=$F,O.remove=$k,O.rest=e5,O.reverse=Z0,O.sampleSize=KF,O.set=oC,O.setWith=aC,O.shuffle=HF,O.slice=zk,O.sortBy=jF,O.sortedUniq=qk,O.sortedUniqBy=Vk,O.split=kC,O.spread=t5,O.tail=Xk,O.take=Jk,O.takeRight=Zk,O.takeRightWhile=Qk,O.takeWhile=eF,O.tap=vF,O.throttle=r5,O.thru=jf,O.toArray=Im,O.toPairs=Rm,O.toPairsIn=Nm,O.toPath=cR,O.toPlainObject=Tm,O.transform=uC,O.unary=n5,O.union=tF,O.unionBy=rF,O.unionWith=nF,O.uniq=iF,O.uniqBy=oF,O.uniqWith=aF,O.unset=sC,O.unzip=Q0,O.unzipWith=lm,O.update=cC,O.updateWith=fC,O.values=Zu,O.valuesIn=lC,O.without=uF,O.words=Om,O.wrap=i5,O.xor=sF,O.xorBy=cF,O.xorWith=fF,O.zip=lF,O.zipObject=hF,O.zipObjectDeep=dF,O.zipWith=pF,O.entries=Rm,O.entriesIn=Nm,O.extend=km,O.extendWith=Qf,cd(O,O),O.add=lR,O.attempt=Lm,O.camelCase=vC,O.capitalize=Um,O.ceil=hR,O.clamp=hC,O.clone=a5,O.cloneDeep=s5,O.cloneDeepWith=c5,O.cloneWith=u5,O.conformsTo=f5,O.deburr=Dm,O.defaultTo=GC,O.divide=dR,O.endsWith=yC,O.eq=qi,O.escape=mC,O.escapeRegExp=gC,O.every=SF,O.find=BF,O.findIndex=am,O.findKey=$5,O.findLast=TF,O.findLastIndex=um,O.findLastKey=z5,O.floor=pR,O.forEach=dm,O.forEachRight=pm,O.forIn=K5,O.forInRight=H5,O.forOwn=G5,O.forOwnRight=W5,O.get=id,O.gt=l5,O.gte=h5,O.has=q5,O.hasIn=od,O.head=cm,O.identity=ai,O.includes=NF,O.indexOf=Tk,O.inRange=dC,O.invoke=J5,O.isArguments=ou,O.isArray=Ht,O.isArrayBuffer=d5,O.isArrayLike=ii,O.isArrayLikeObject=nn,O.isBoolean=p5,O.isBuffer=ka,O.isDate=v5,O.isElement=y5,O.isEmpty=m5,O.isEqual=g5,O.isEqualWith=b5,O.isError=rd,O.isFinite=_5,O.isFunction=Ko,O.isInteger=xm,O.isLength=Jf,O.isMap=Em,O.isMatch=w5,O.isMatchWith=x5,O.isNaN=E5,O.isNative=A5,O.isNil=I5,O.isNull=S5,O.isNumber=Am,O.isObject=Xr,O.isObjectLike=Zr,O.isPlainObject=ac,O.isRegExp=nd,O.isSafeInteger=B5,O.isSet=Sm,O.isString=Zf,O.isSymbol=wi,O.isTypedArray=Ju,O.isUndefined=T5,O.isWeakMap=k5,O.isWeakSet=F5,O.join=Nk,O.kebabCase=bC,O.last=Oi,O.lastIndexOf=Uk,O.lowerCase=_C,O.lowerFirst=wC,O.lt=C5,O.lte=R5,O.max=vR,O.maxBy=yR,O.mean=mR,O.meanBy=gR,O.min=bR,O.minBy=_R,O.stubArray=ld,O.stubFalse=hd,O.stubObject=oR,O.stubString=aR,O.stubTrue=uR,O.multiply=wR,O.nth=Dk,O.noConflict=JC,O.noop=fd,O.now=qf,O.pad=xC,O.padEnd=EC,O.padStart=AC,O.parseInt=SC,O.random=pC,O.reduce=PF,O.reduceRight=MF,O.repeat=IC,O.replace=BC,O.result=iC,O.round=xR,O.runInContext=Ne,O.sample=zF,O.size=GF,O.snakeCase=TC,O.some=WF,O.sortedIndex=Kk,O.sortedIndexBy=Hk,O.sortedIndexOf=Gk,O.sortedLastIndex=Wk,O.sortedLastIndexBy=jk,O.sortedLastIndexOf=Yk,O.startCase=FC,O.startsWith=CC,O.subtract=ER,O.sum=AR,O.sumBy=SR,O.template=RC,O.times=sR,O.toFinite=Ho,O.toInteger=Jt,O.toLength=Bm,O.toLower=NC,O.toNumber=Li,O.toSafeInteger=N5,O.toString=Ur,O.toUpper=UC,O.trim=DC,O.trimEnd=OC,O.trimStart=LC,O.truncate=PC,O.unescape=MC,O.uniqueId=fR,O.upperCase=$C,O.upperFirst=ad,O.each=dm,O.eachRight=pm,O.first=cm,cd(O,function(){var i={};return bo(O,function(s,l){Cr.call(O.prototype,l)||(i[l]=s)}),i}(),{chain:!1}),O.VERSION=n,Sn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){O[i].placeholder=O}),Sn(["drop","take"],function(i,s){hr.prototype[i]=function(l){l=l===t?1:tr(Jt(l),0);var g=this.__filtered__&&!s?new hr(this):this.clone();return g.__filtered__?g.__takeCount__=kr(l,g.__takeCount__):g.__views__.push({size:kr(l,yt),type:i+(g.__dir__<0?"Right":"")}),g},hr.prototype[i+"Right"]=function(l){return this.reverse()[i](l).reverse()}}),Sn(["filter","map","takeWhile"],function(i,s){var l=s+1,g=l==pt||l==lt;hr.prototype[i]=function(B){var $=this.clone();return $.__iteratees__.push({iteratee:Nt(B,3),type:l}),$.__filtered__=$.__filtered__||g,$}}),Sn(["head","last"],function(i,s){var l="take"+(s?"Right":"");hr.prototype[i]=function(){return this[l](1).value()[0]}}),Sn(["initial","tail"],function(i,s){var l="drop"+(s?"":"Right");hr.prototype[i]=function(){return this.__filtered__?new hr(this):this[l](1)}}),hr.prototype.compact=function(){return this.filter(ai)},hr.prototype.find=function(i){return this.filter(i).head()},hr.prototype.findLast=function(i){return this.reverse().find(i)},hr.prototype.invokeMap=ir(function(i,s){return typeof i=="function"?new hr(this):this.map(function(l){return ec(l,i,s)})}),hr.prototype.reject=function(i){return this.filter(Xf(Nt(i)))},hr.prototype.slice=function(i,s){i=Jt(i);var l=this;return l.__filtered__&&(i>0||s<0)?new hr(l):(i<0?l=l.takeRight(-i):i&&(l=l.drop(i)),s!==t&&(s=Jt(s),l=s<0?l.dropRight(-s):l.take(s-i)),l)},hr.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},hr.prototype.toArray=function(){return this.take(yt)},bo(hr.prototype,function(i,s){var l=/^(?:filter|find|map|reject)|While$/.test(s),g=/^(?:head|last)$/.test(s),B=O[g?"take"+(s=="last"?"Right":""):s],$=g||/^find/.test(s);!B||(O.prototype[s]=function(){var ne=this.__wrapped__,be=g?[1]:arguments,Ue=ne instanceof hr,qe=be[0],Ve=Ue||Ht(ne),Qe=function(cr){var vr=B.apply(O,mi([cr],be));return g&&bt?vr[0]:vr};Ve&&l&&typeof qe=="function"&&qe.length!=1&&(Ue=Ve=!1);var bt=this.__chain__,Bt=!!this.__actions__.length,Ot=$&&!bt,rr=Ue&&!Bt;if(!$&&Ve){ne=rr?ne:new hr(this);var Ut=i.apply(ne,be);return Ut.__actions__.push({func:jf,args:[Qe],thisArg:t}),new Ni(Ut,bt)}return Ot&&rr?i.apply(this,be):(Ut=this.thru(Qe),Ot?g?Ut.value()[0]:Ut.value():Ut)})}),Sn(["pop","push","shift","sort","splice","unshift"],function(i){var s=Mu[i],l=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",g=/^(?:pop|shift)$/.test(i);O.prototype[i]=function(){var B=arguments;if(g&&!this.__chain__){var $=this.value();return s.apply(Ht($)?$:[],B)}return this[l](function(ne){return s.apply(Ht(ne)?ne:[],B)})}}),bo(hr.prototype,function(i,s){var l=O[s];if(l){var g=l.name+"";Cr.call(ju,g)||(ju[g]=[]),ju[g].push({name:s,func:l})}}),ju[Mf(t,K).name]=[{name:"wrapper",func:t}],hr.prototype.clone=MB,hr.prototype.reverse=$B,hr.prototype.value=zB,O.prototype.at=yF,O.prototype.chain=mF,O.prototype.commit=gF,O.prototype.next=bF,O.prototype.plant=wF,O.prototype.reverse=xF,O.prototype.toJSON=O.prototype.valueOf=O.prototype.value=EF,O.prototype.first=O.prototype.head,Be&&(O.prototype[Be]=_F),O},_a=b0();Xt?((Xt.exports=_a)._=_a,mt._=_a):_r._=_a}).call(_e)}),xS=_e&&_e.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bu=_e&&_e.__decorate||function(r,e,t,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(a=(o<3?u(a):o>3?u(e,t,a):u(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a},Tu=_e&&_e.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},jh=_e&&_e.__param||function(r,e){return function(t,n){e(t,n,r)}},ES=_e&&_e.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(c){return function(y){return h([c,y])}}function h(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(y){c=[6,y],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},gy=_e&&_e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},AS=gy(uo),Yh=gy(my),qh=function(){function r(){this._content=[]}return Object.defineProperty(r.prototype,"length",{get:function(){return this._content.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){return this._content},set:function(e){this._content=e},enumerable:!0,configurable:!0}),r.prototype.get=function(e){return this._content[e]},r.prototype.add=function(e){var t=sf.sortedIndexBy(this._content,e,function(n){return n.frequency});this._content.splice(t,0,e)},r.prototype.remove=function(e){this._content.splice(e,1)},r.prototype.popMin=function(){return this._content.shift()},r.prototype.indexOf=function(e){return this._content.findIndex(function(t){return t.value===e})},r.prototype.clear=function(){this._content=[]},r}(),SS=function(r){xS(e,r);function e(t,n,o){var a=r.call(this)||this;return a._k=t,a._errorRate=n,a._accuracy=o,a._sketch=Yh.default.create(n,o),a._heap=new qh,a}return e.prototype.add=function(t){this._sketch.update(t);var n=this._sketch.count(t);if(this._heap.length<this._k||n>=this._heap.get(0).frequency){var o=this._heap.indexOf(t);o>-1&&this._heap.remove(o),this._heap.add({value:t,frequency:n}),this._heap.length>this._k&&this._heap.popMin()}},e.prototype.clear=function(){this._sketch=Yh.default.create(this._errorRate,this._accuracy),this._heap.clear()},e.prototype.values=function(){for(var t=[],n=this._heap.length-1;n>0;n--){var o=this._heap.get(n);t.push({value:o.value,frequency:o.frequency,rank:this._heap.length-n})}return t},e.prototype.iterator=function(){var t=this._heap;return function(){var n,o;return ES(this,function(a){switch(a.label){case 0:n=t.length-1,a.label=1;case 1:return n>0?(o=t.get(n),[4,{value:o.value,frequency:o.frequency,rank:t.length-n}]):[3,4];case 2:a.sent(),a.label=3;case 3:return n--,[3,1];case 4:return[2]}})}()},Bu([_t.Field(),Tu("design:type",Number)],e.prototype,"_k",void 0),Bu([_t.Field(),Tu("design:type",Number)],e.prototype,"_errorRate",void 0),Bu([_t.Field(),Tu("design:type",Number)],e.prototype,"_accuracy",void 0),Bu([_t.Field(),Tu("design:type",Yh.default)],e.prototype,"_sketch",void 0),Bu([_t.Field(function(t){return t.content},function(t){var n=new qh;return n.content=t,n}),Tu("design:type",qh)],e.prototype,"_heap",void 0),e=Bu([_t.AutoExportable("TopK",["_seed"]),jh(0,_t.Parameter("_k")),jh(1,_t.Parameter("_errorRate")),jh(2,_t.Parameter("_accuracy")),Tu("design:paramtypes",[Number,Number,Number])],e),e}(AS.default),IS=SS,BS=Object.defineProperty({default:IS},"__esModule",{value:!0}),by=_e&&_e.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cf=_e&&_e.__decorate||function(r,e,t,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(a=(o<3?u(a):o>3?u(e,t,a):u(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a},ff=_e&&_e.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},_y=_e&&_e.__param||function(r,e){return function(t,n){e(t,n,r)}},TS=_e&&_e.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),o,a=[],u;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(f){u={error:f}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(u)throw u.error}}return a},kS=_e&&_e.__spread||function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(TS(arguments[e]));return r},FS=_e&&_e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},CS=FS(uo),RS=function(r){by(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Error);function wy(r,e){return(e.a*r+e.b)%e.c}var NS=function(r){by(e,r);function e(t,n){var o=r.call(this)||this;return o._nbHashes=t,o._hashFunctions=n,o._signature=Wt.allocateArray(o._nbHashes,1/0),o}return Object.defineProperty(e.prototype,"nbHashes",{get:function(){return this._nbHashes},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return this._signature[0]===1/0},e.prototype.add=function(t){for(var n=0;n<this._nbHashes;n++)this._signature[n]=Math.min(this._signature[n],wy(t,this._hashFunctions[n]))},e.prototype.bulkLoad=function(t){for(var n=this,o=function(f){var h=t.map(function(c){return wy(c,n._hashFunctions[f])});a._signature[f]=Math.min.apply(Math,kS([a._signature[f]],h))},a=this,u=0;u<this._nbHashes;u++)o(u)},e.prototype.compareWith=function(t){if(this.isEmpty()||t.isEmpty())throw new RS("Cannot compute a Jaccard similairty with a MinHash that contains no values");return sf.intersection(this._signature,t._signature).length/this._nbHashes},cf([_t.Field(),ff("design:type",Number)],e.prototype,"_nbHashes",void 0),cf([_t.Field(),ff("design:type",Array)],e.prototype,"_hashFunctions",void 0),cf([_t.Field(),ff("design:type",Array)],e.prototype,"_signature",void 0),e=cf([_t.AutoExportable("MinHash",["_seed"]),_y(0,_t.Parameter("_nbHashes")),_y(1,_t.Parameter("_hashFunctions")),ff("design:paramtypes",[Number,Array])],e),e}(CS.default),US=NS,xy=Object.defineProperty({MinHash:US},"__esModule",{value:!0});function DS(r){if(r!==2&&r%2==0)return!1;for(var e=2;e<Math.sqrt(r);e++)if(r%e==0)return!1;return!0}function OS(r){for(var e=0;;){if(DS(r+e))return r+e;e++}}var LS=function(){function r(e,t){this._nbHashes=e,this._maxValue=t,this._hashFunctions=[];for(var n=OS(this._maxValue),o=0;o<this._nbHashes;o++){var a=sf.random(0,this._maxValue,!1),u=sf.random(0,this._maxValue,!1);this._hashFunctions.push({a,b:u,c:n})}}return r.prototype.create=function(){return new xy.MinHash(this._nbHashes,this._hashFunctions)},r}(),PS=LS,MS=Object.defineProperty({default:PS},"__esModule",{value:!0});function $S(r,e){return r===e||r!==r&&e!==e}var zS=$S,Ey=1/0,KS=17976931348623157e292,Ay=0/0,HS="[object Symbol]",GS=/^\s+|\s+$/g,WS=/^[-+]0x[0-9a-f]+$/i,jS=/^0b[01]+$/i,YS=/^0o[0-7]+$/i,qS=parseInt;function VS(r,e,t,n){for(var o=r.length,a=t+(n?1:-1);n?a--:++a<o;)if(e(r[a],a,r))return a;return-1}function XS(r,e,t){if(e!==e)return VS(r,JS,t);for(var n=t-1,o=r.length;++n<o;)if(r[n]===e)return n;return-1}function JS(r){return r!==r}var ZS=Object.prototype,QS=ZS.toString,eI=Math.max;function tI(r,e,t){var n=r?r.length:0;if(!n)return-1;var o=t==null?0:oI(t);return o<0&&(o=eI(n+o,0)),XS(r,e,o)}function Sy(r){var e=typeof r;return!!r&&(e=="object"||e=="function")}function rI(r){return!!r&&typeof r=="object"}function nI(r){return typeof r=="symbol"||rI(r)&&QS.call(r)==HS}function iI(r){if(!r)return r===0?r:0;if(r=aI(r),r===Ey||r===-Ey){var e=r<0?-1:1;return e*KS}return r===r?r:0}function oI(r){var e=iI(r),t=e%1;return e===e?t?e-t:e:0}function aI(r){if(typeof r=="number")return r;if(nI(r))return Ay;if(Sy(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=Sy(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=r.replace(GS,"");var t=jS.test(r);return t||YS.test(r)?qS(r.slice(2),t?2:8):WS.test(r)?Ay:+r}var uI=tI,sI=_e&&_e.__decorate||function(r,e,t,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(a=(o<3?u(a):o>3?u(e,t,a):u(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a},cI=_e&&_e.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},Iy=_e&&_e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},fI=_e&&_e.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e},lI=Iy(zS),Vh=Iy(uI),By=fI(Wt),hI=_t,dI=function(){function r(t){this._elements=By.allocateArray(t,null),this._size=t,this._length=0}e=r,Object.defineProperty(r.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),r.prototype.isFree=function(){return this._length<this._size},r.prototype.nextEmptySlot=function(){return Vh.default(this._elements,null)},r.prototype.at=function(t){return this._elements[t]},r.prototype.add=function(t){return t===null||!this.isFree()?!1:(this.set(this.nextEmptySlot(),t),this._length++,!0)},r.prototype.remove=function(t){var n=Vh.default(this._elements,t);return n<=-1?!1:(this.unset(n),!0)},r.prototype.has=function(t){return Vh.default(this._elements,t)>-1},r.prototype.set=function(t,n){this._elements[t]=n},r.prototype.unset=function(t){this._elements[t]=null,this._length--},r.prototype.swapRandom=function(t,n){n===void 0&&(n=Math.random);var o=By.randomInt(0,this._length-1,n),a=this._elements[o];return this._elements[o]=t,a},r.prototype.swap=function(t,n){var o=this._elements[t];return this._elements[t]=n,o},r.prototype.equals=function(t){return this._size!==t.size||this._length!==t.length?!1:this._elements.every(function(n,o){return lI.default(t.at(o),n)})};var e;return r=e=sI([_t.Exportable({export:hI.cloneObject("Bucket","_size","_elements"),import:function(t){if(t.type!=="Bucket"||"_size"in t,!("_elements"in t))throw new Error("Cannot create a Bucket from a JSON export which does not represent a bucket");var n=new e(t._size);return t._elements.forEach(function(o,a){o!==null&&(n._elements[a]=o,n._length++)}),n}}),cI("design:paramtypes",[Number])],r),r}(),pI=dI,vI=Object.defineProperty({default:pI},"__esModule",{value:!0}),yI=_e&&_e.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mI=_e&&_e.__decorate||function(r,e,t,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(a=(o<3?u(a):o>3?u(e,t,a):u(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a},gI=_e&&_e.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},Ty=_e&&_e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},bI=Ty(uo),ky=Ty(vI);function _I(r,e){var t=Math.ceil(Math.log2(1/e)+Math.log2(2*r));return Math.ceil(t/4)}var wI=function(r){yI(e,r);function e(n,o,a,u){u===void 0&&(u=500);var f=r.call(this)||this;return f._filter=Wt.allocateArray(n,function(){return new ky.default(a)}),f._size=n,f._bucketSize=a,f._fingerprintLength=o,f._length=0,f._maxKicks=u,f}t=e,e.create=function(n,o,a,u){a===void 0&&(a=4),u===void 0&&(u=500);var f=_I(a,o),h=Math.ceil(n/a/.955);return new t(h,f,a,u)},e.from=function(n,o,a,u){a===void 0&&(a=4),u===void 0&&(u=500);var f=Array.from(n),h=t.create(f.length,o,a,u);return f.forEach(function(c){return h.add(c)}),h},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullSize",{get:function(){return this.size*this.bucketSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fingerprintLength",{get:function(){return this._fingerprintLength},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucketSize",{get:function(){return this._bucketSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxKicks",{get:function(){return this._maxKicks},enumerable:!0,configurable:!0}),e.prototype.add=function(n,o,a){o===void 0&&(o=!1),a===void 0&&(a=!1);var u=this._locations(n);if(this._filter[u.firstIndex].isFree())this._filter[u.firstIndex].add(u.fingerprint);else if(this._filter[u.secondIndex].isFree())this._filter[u.secondIndex].add(u.fingerprint);else{for(var f=this.random()<.5?u.firstIndex:u.secondIndex,h=u.fingerprint,c=[],y=0;y<this._maxKicks;y++){var _=Wt.randomInt(0,this._filter[f].length-1,this.random),A=this._filter[f].at(_);c.push([f,_,A]),this._filter[f].set(_,h),h=A;var F=Wt.hashAsInt(h,this.seed,64);if(f=Math.abs(f^Math.abs(F))%this._filter.length,this._filter[f].isFree())return this._filter[f].add(h),this._length++,!0}if(!a)for(var D=c.length-1;D>=0;D--){var k=c[D];this._filter[k[0]].set(k[1],k[2])}if(o)throw new Error('The Cuckoo Filter is full, cannot insert element "'+n+'"');return!1}return this._length++,!0},e.prototype.remove=function(n){var o=this._locations(n);return this._filter[o.firstIndex].has(o.fingerprint)?(this._filter[o.firstIndex].remove(o.fingerprint),this._length--,!0):this._filter[o.secondIndex].has(o.fingerprint)?(this._filter[o.secondIndex].remove(o.fingerprint),this._length--,!0):!1},e.prototype.has=function(n){var o=this._locations(n);return this._filter[o.firstIndex].has(o.fingerprint)||this._filter[o.secondIndex].has(o.fingerprint)},e.prototype.rate=function(){var n=this._computeHashTableLoad(),o=this._fingerprintLength/n.load;return Math.pow(2,Math.log2(2*this._bucketSize)-n.load*o)},e.prototype._computeHashTableLoad=function(){var n=this._filter.length*this._bucketSize,o=this._filter.reduce(function(a,u){return a+u.length},0);return{used:o,free:n-o,size:n,load:o/n}},e.prototype._locations=function(n){var o=Wt.hashIntAndString(n,this.seed,16,64),a=o.int;if(this._fingerprintLength>o.string.length)throw new Error("The fingerprint length ("+this._fingerprintLength+") is higher than the hash length ("+o.string.length+"). Please reduce the fingerprint length or report if it is an unexpected behavior.");var u=o.string.substring(0,this._fingerprintLength),f=Math.abs(a),h=Math.abs(Wt.hashAsInt(u,this.seed,64)),c=Math.abs(f^h),y={fingerprint:u,firstIndex:f%this._size,secondIndex:c%this._size};return y},e.prototype.equals=function(n){for(var o=0,a=!0;a&&o<this._filter.length;){var u=this._filter[o];n._filter[o].equals(u)||(a=!1),o++}return a};var t;return e=t=mI([_t.Exportable({export:_t.cloneObject("CuckooFilter","_size","_fingerprintLength","_length","_maxKicks","_filter","_seed"),import:function(n){if(n.type!=="CuckooFilter"||!("_size"in n)||!("_fingerprintLength"in n)||!("_length"in n)||!("_maxKicks"in n)||!("_filter"in n)||!("_seed"in n))throw new Error("Cannot create a CuckooFilter from a JSON export which does not represent a cuckoo filter");var o=new t(n._size,n._fingerprintLength,n._bucketSize,n._maxKicks);return o._length=n._length,o._filter=n._filter.map(function(a){var u=new ky.default(a._size);return a._elements.forEach(function(f,h){f!==null&&(u._elements[h]=f,u._length++)}),u}),o.seed=n.seed,o}}),gI("design:paramtypes",[Number,Number,Number,Number])],e),e}(bI.default),xI=wI,EI=Object.defineProperty({default:xI},"__esModule",{value:!0}),AI=_e&&_e.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lf=_e&&_e.__decorate||function(r,e,t,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(a=(o<3?u(a):o>3?u(e,t,a):u(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a},hf=_e&&_e.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},Xh=_e&&_e.__param||function(r,e){return function(t,n){e(t,n,r)}},SI=_e&&_e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},II=SI(uo),BI=Symbol.for("nodejs.util.inspect.custom"),TI=function(r){AI(e,r);function e(n,o,a){var u=r.call(this)||this;return u._idSum=n,u._hashSum=o,u._count=a,u}t=e,e.empty=function(){return new t(Fr.Buffer.allocUnsafe(0).fill(0),Fr.Buffer.allocUnsafe(0).fill(0),0)},e.prototype[BI]=function(){return"Cell:<"+JSON.stringify(this._idSum.toJSON().data)+", "+JSON.stringify(this._hashSum.toJSON().data)+", "+this._count+">"},Object.defineProperty(e.prototype,"idSum",{get:function(){return this._idSum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hashSum",{get:function(){return this._hashSum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),e.prototype.add=function(n,o){this._idSum=Wt.xorBuffer(this._idSum,n),this._hashSum=Wt.xorBuffer(this._hashSum,o),this._count++},e.prototype.xorm=function(n){return new t(Wt.xorBuffer(this._idSum,n.idSum),Wt.xorBuffer(this._hashSum,n.hashSum),this._count-n.count)},e.prototype.isEmpty=function(){return this._idSum.equals(Fr.Buffer.from(""))&&this._hashSum.equals(Fr.Buffer.from(""))&&this._count===0},e.prototype.equals=function(n){return this._count===n.count&&this._idSum.equals(n.idSum)&&this._hashSum.equals(n.hashSum)},e.prototype.isPure=function(){if(this.isEmpty()||this._count!==1&&this._count!==-1)return!1;var n=Wt.hashTwiceAsString(JSON.stringify(this._idSum.toJSON()),this.seed);return this._hashSum.equals(Fr.Buffer.from(n.first))};var t;return lf([_t.Field(function(n){return n.toString()},Fr.Buffer.from),hf("design:type",Fr.Buffer)],e.prototype,"_idSum",void 0),lf([_t.Field(function(n){return n.toString()},Fr.Buffer.from),hf("design:type",Fr.Buffer)],e.prototype,"_hashSum",void 0),lf([_t.Field(),hf("design:type",Number)],e.prototype,"_count",void 0),e=t=lf([_t.AutoExportable("Cell",["_seed"]),Xh(0,_t.Parameter("_idSum")),Xh(1,_t.Parameter("_hashSum")),Xh(2,_t.Parameter("_count")),hf("design:paramtypes",[Fr.Buffer,Fr.Buffer,Number])],e),e}(II.default),kI=TI,Fy=Object.defineProperty({default:kI},"__esModule",{value:!0}),FI=_e&&_e.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),df=_e&&_e.__decorate||function(r,e,t,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,e,t,n);else for(var f=r.length-1;f>=0;f--)(u=r[f])&&(a=(o<3?u(a):o>3?u(e,t,a):u(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a},pf=_e&&_e.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},Cy=_e&&_e.__param||function(r,e){return function(t,n){e(t,n,r)}},Ry=_e&&_e.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(c){return function(y){return h([c,y])}}function h(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(y){c=[6,y],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ny=_e&&_e.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},CI=Ny(uo),vf=Ny(Fy),RI=function(r){FI(e,r);function e(n,o){o===void 0&&(o=3);var a=r.call(this)||this;if(Fr.Buffer===void 0)throw new Error('No native Buffer implementation bound in your JavaScript env. If you are in a Web browser, consider importing the polyfill "feross/buffer" (https://github.com/feross/buffer).');if(o<=0)throw new Error("The hashCount must be a non-zero, positive integer");return a._size=n,a._hashCount=o,a._elements=Wt.allocateArray(a._size,function(){return vf.default.empty()}),a}t=e,e.create=function(n,o){var a=Iu.optimalFilterSize(n,o),u=Iu.optimalHashes(a,n);return new t(a,u)},e.from=function(n,o){var a=Array.from(n),u=t.create(a.length,o);return a.forEach(function(f){return u.add(f)}),u},Object.defineProperty(e.prototype,"hashCount",{get:function(){return this._hashCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._elements.reduce(function(n,o){return n+o.count},0)/this._hashCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),e.prototype.add=function(n){for(var o=Wt.allInOneHashTwice(JSON.stringify(n.toJSON()),this.seed),a=Wt.getDistinctIndices(o.string.first,this._size,this._hashCount,this.seed),u=0;u<this._hashCount;++u)this._elements[a[u]].add(n,Fr.Buffer.from(o.string.first))},e.prototype.remove=function(n){for(var o=Wt.allInOneHashTwice(JSON.stringify(n.toJSON()),this.seed),a=Wt.getDistinctIndices(o.string.first,this.size,this._hashCount,this.seed),u=0;u<this._hashCount;++u)this._elements[a[u]]=this._elements[a[u]].xorm(new vf.default(Fr.Buffer.from(n),Fr.Buffer.from(o.string.first),1));return!0},e.prototype.has=function(n){for(var o=Wt.allInOneHashTwice(JSON.stringify(n.toJSON()),this.seed),a=Wt.getDistinctIndices(o.string.first,this.size,this._hashCount,this.seed),u=0;u<this._hashCount;++u){if(this._elements[a[u]].count===0)return!1;if(this._elements[a[u]].count===1)return!!this._elements[a[u]].idSum.equals(n)}return!0},e.prototype.listEntries=function(){var n=this,o=[];return function(){var a,u,f;return Ry(this,function(h){switch(h.label){case 0:a=function(c){var y;return Ry(this,function(_){switch(_.label){case 0:return y=n._elements[c],y.count>0&&o.findIndex(function(A){return A.equals(y.idSum)})===-1?n.has(y.idSum)?(o.push(y.idSum),[4,y.idSum]):[3,2]:[3,3];case 1:return _.sent(),[3,3];case 2:return[2,{value:!1}];case 3:return[2]}})},u=0,h.label=1;case 1:return u<n._elements.length-1?[5,a(u)]:[3,4];case 2:if(f=h.sent(),typeof f=="object")return[2,f.value];h.label=3;case 3:return u++,[3,1];case 4:return[2,!0]}})}()},e.prototype.substract=function(n){if(this.size!==n.size)throw new Error("The two Invertible Bloom Filters must be of the same size");var o=new t(n._size,n._hashCount);o.seed=this.seed;for(var a=0;a<this.size;++a)o._elements[a]=this._elements[a].xorm(n._elements[a]);return o},e.prototype.equals=function(n){if(n._size!==this._size||n._hashCount!==this._hashCount||n.seed!==this.seed)return!1;for(var o=0;o<n._elements.length;++o)if(!n._elements[o].equals(this._elements[o]))return!1;return!0},e.prototype.decode=function(n,o){n===void 0&&(n=[]),o===void 0&&(o=[]);for(var a=[],u=null,f=0;f<this._elements.length;++f)u=this._elements[f],u.isPure()&&a.push(f);for(;a.length!==0;){u=this._elements[a.pop()];var h=u.idSum,c=u.count;if(u.isPure()){if(c===1)n.push(h);else if(c===-1)o.push(h);else throw new Error("Please report, not possible");for(var y=Wt.allInOneHashTwice(JSON.stringify(h.toJSON()),this.seed),_=Wt.getDistinctIndices(y.string.first,this._size,this._hashCount,this.seed),f=0;f<_.length;++f)this._elements[_[f]]=this._elements[_[f]].xorm(new vf.default(h,Fr.Buffer.from(y.string.first),c)),this._elements[_[f]].isPure()&&a.push(_[f])}}return this._elements.findIndex(function(A){return!A.isEmpty()})>-1?{success:!1,reason:{cell:u,iblt:this},additional:n,missing:o}:{success:!0,additional:n,missing:o}};var t;return df([_t.Field(),pf("design:type",Number)],e.prototype,"_size",void 0),df([_t.Field(),pf("design:type",Number)],e.prototype,"_hashCount",void 0),df([_t.Field(void 0,function(n){return n.map(function(o){var a=new vf.default(Fr.Buffer.from(o._idSum),Fr.Buffer.from(o._hashSum),o._count);return a.seed=o._seed,a})}),pf("design:type",Array)],e.prototype,"_elements",void 0),e=t=df([_t.AutoExportable("InvertibleBloomFilter",["_seed"]),Cy(0,_t.Parameter("_size")),Cy(1,_t.Parameter("_hashCount")),pf("design:paramtypes",[Number,Number])],e),e}(CI.default),NI=RI,UI=Object.defineProperty({default:NI},"__esModule",{value:!0}),DI=j6.default;Z6.default,uS.default,my.default,wS.default,BS.default,xy.MinHash,MS.default,EI.default,UI.default,Fy.default;var OI=1024,LI=16,PI=320,Uy=function(r){return ae(void 0,void 0,void 0,function(){var e;return ue(this,function(t){return e="0".repeat(OI/4),[2,Ya(e,r)]})})},Ya=function(r,e){return ae(void 0,void 0,void 0,function(){var t,n;return ue(this,function(o){switch(o.label){case 0:return t=Oy(r),[4,Pa.sha256Str(e)];case 1:return n=o.sent(),t.add(n),[4,zI(t)];case 2:return[2,o.sent()]}})})},ku=function(r,e,t){return ae(void 0,void 0,void 0,function(){return ue(this,function(n){switch(n.label){case 0:return[4,Ya(r,""+t+e)];case 1:return[2,n.sent()]}})})},Fu=function(r){return ae(void 0,void 0,void 0,function(){var e;return ue(this,function(t){switch(t.label){case 0:return[4,Dy(Oy(r))];case 1:return e=t.sent(),[2,MI(e)]}})})},MI=function(r){return ae(void 0,void 0,void 0,function(){var e,t;return ue(this,function(n){switch(n.label){case 0:return e=new Uint8Array(r.toBytes()),[4,Pa.sha256(e)];case 1:return t=n.sent(),[2,wc(t)]}})})},Dy=function(r,e){return e===void 0&&(e=PI),ae(void 0,void 0,void 0,function(){var t,n,o,a;return ue(this,function(u){switch(u.label){case 0:if(e>r.toBytes().byteLength*8)throw new Error("threshold is bigger than filter size");if(t=$I(r),t>=e)return[2,r];n=r.toBytes(),o=n,u.label=1;case 1:return[4,Pa.sha256(o)];case 2:a=u.sent(),r.add(wc(a)),o=a,u.label=3;case 3:if(KI(n,r.toBytes()))return[3,1];u.label=4;case 4:return[2,Dy(r,e)]}})})},$I=function(r){for(var e=new Uint32Array(r.toBytes()),t=0,n=0;n<e.length;n++)t+=HI(e[n]);return t},zI=function(r){return wc(r.toBytes())},Oy=function(r){var e=Zb(r);return DI.fromBytes(e,LI)},KI=function(r,e){if(r.byteLength!==e.byteLength)return!1;for(var t=new Uint8Array(r),n=new Uint8Array(e),o=0;o<t.length;o++)if(t[o]!==n[o])return!1;return!0},HI=function(r){var e=r-(r>>1&1431655765),t=(e&858993459)+(e>>2&858993459);return(t+(t>>4)&252645135)*16843009>>24},Ly=function(r,e,t){return ae(void 0,void 0,void 0,function(){var n,o,a,u,f,h,c,y,_,A,F;return ue(this,function(D){switch(D.label){case 0:return[4,Lh(e,t)];case 1:return n=D.sent(),o=n.cid,a=n.size,[4,ku(e.bareNameFilter,t,e.revision)];case 2:return u=D.sent(),[4,Fu(u)];case 3:return f=D.sent(),[4,r.add(f,o)];case 4:return D.sent(),Eu(e)?[4,Ya(e.bareNameFilter,e.key)]:[3,9];case 5:return h=D.sent(),[4,ku(h,e.key,e.revision)];case 6:return c=D.sent(),[4,Fu(c)];case 7:return y=D.sent(),[4,r.add(y,e.content)];case 8:D.sent(),D.label=9;case 9:return _=Eu(e)?[{},!0]:[e.skeleton,!1],A=_[0],F=_[1],[2,{cid:o,name:f,key:t,size:a,isFile:F,skeleton:A}]}})})},Py=function(r,e){return ae(void 0,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return[4,ef(r,e)];case 1:if(t=n.sent(),!v8(t))throw new Error("Could not parse a valid filesystem object, "+r);return[2,t]}})})},My=function(r,e,t){return ae(void 0,void 0,void 0,function(){var n;return ue(this,function(o){switch(o.label){case 0:return[4,r.get(e)];case 1:return n=o.sent(),n===null?[2,null]:[2,Jh(n,t)]}})})},Jh=function(r,e){return ae(void 0,void 0,void 0,function(){return ue(this,function(t){switch(t.label){case 0:return[4,Py(r,e)];case 1:return[2,t.sent()]}})})},Zh=function(r,e,t){return ae(void 0,void 0,void 0,function(){var n;return ue(this,function(o){switch(o.label){case 0:return[4,r.get(e)];case 1:return n=o.sent(),n===null?[2,null]:[2,Qh(r,n,t)]}})})},Qh=function(r,e,t){return ae(void 0,void 0,void 0,function(){var n,o,a;return ue(this,function(u){switch(u.label){case 0:return[4,Jh(e,t)];case 1:return n=u.sent(),[4,GI(r,n.bareNameFilter,t,n.revision)];case 2:return o=u.sent(),(o==null?void 0:o.cid)?[4,Jh(o==null?void 0:o.cid,t)]:[3,4];case 3:return a=u.sent(),[3,5];case 4:a=n,u.label=5;case 5:return[2,a]}})})},$y=function(r,e,t){return ae(void 0,void 0,void 0,function(){var n,o;return ue(this,function(a){switch(a.label){case 0:return[4,ku(e,t,1)];case 1:return n=a.sent(),[4,Fu(n)];case 2:return o=a.sent(),[2,Zh(r,o,t)]}})})},GI=function(r,e,t,n){return ae(void 0,void 0,void 0,function(){var o,a,u,f,h,c,y,c;return ue(this,function(_){switch(_.label){case 0:o=n,a=null,u=0,f=null,_.label=1;case 1:return a!==null?[3,3]:(h=n+Math.pow(2,u),[4,e0(r,e,t,h)]);case 2:return c=_.sent(),c!==null?(f=c,o=h):a=h,u++,[3,1];case 3:return o<a-1?(y=Math.floor((a+o)/2),[4,e0(r,e,t,y)]):[3,5];case 4:return c=_.sent(),c!==null?(f=c,o=y):a=y,[3,3];case 5:return[2,f]}})})},e0=function(r,e,t,n){return ae(void 0,void 0,void 0,function(){var o,a,u;return ue(this,function(f){switch(f.label){case 0:return[4,ku(e,t,n)];case 1:return o=f.sent(),[4,Fu(o)];case 2:return a=f.sent(),[4,r.get(a)];case 3:return u=f.sent(),[2,u?{cid:u,name:a,number:n}:null]}})})},t0=function(r,e,t){return{major:r,minor:e,patch:t}},WI=function(r){var e=r.major,t=r.minor,n=r.patch;return e+"."+t+"."+n},jI=t0(0,0,0),zy=t0(1,0,0),YI=t0(1,0,0),r0=function(){function r(e){this.content=e}return r.prototype.put=function(){return ae(this,void 0,void 0,function(){var e;return ue(this,function(t){switch(t.label){case 0:return[4,this.putDetailed()];case 1:return e=t.sent().cid,[2,e]}})})},r.prototype.updateContent=function(e){return ae(this,void 0,void 0,function(){return ue(this,function(t){return this.content=e,[2,this]})})},r}(),yf=function(r){Ca(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.create=function(t){return new e(t)},e.fromCID=function(t){return ae(this,void 0,void 0,function(){var n;return ue(this,function(o){switch(o.label){case 0:return[4,Zv(t)];case 1:return n=o.sent(),[2,new e(n)]}})})},e.instanceOf=function(t){return Qr(t)&&t.content!==void 0},e.prototype.put=function(){return ae(this,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return[4,this.putDetailed()];case 1:return t=n.sent().cid,[2,t]}})})},e.prototype.putDetailed=function(){return ae(this,void 0,void 0,function(){return ue(this,function(t){return[2,of(this.content)]})})},e}(r0),n0=function(){function r(e){this.version=e}return r.prototype.put=function(){return ae(this,void 0,void 0,function(){var e;return ue(this,function(t){switch(t.label){case 0:return[4,this.putDetailed()];case 1:return e=t.sent().cid,[2,e]}})})},r.prototype.ls=function(e){return ae(this,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:if(t=n.sent(),t===null)throw new Error("Path does not exist");if(Cn(t))throw new Error("Can not `ls` a file");return[2,t.getLinks()]}})})},r.prototype.cat=function(e){return ae(this,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:if(t=n.sent(),t===null)throw new Error("Path does not exist");if(!Cn(t))throw new Error("Can not `cat` a directory");return[2,t.content]}})})},r.prototype.mkdir=function(e){return ae(this,void 0,void 0,function(){var t=this;return ue(this,function(n){return[2,this.mkdirRecurse(e,function(){return t.put()})]})})},r.prototype.mkdirRecurse=function(e,t){return ae(this,void 0,void 0,function(){var n,o,a,u=this;return ue(this,function(f){switch(f.label){case 0:if(n=e[0],o=e.slice(1),!n)throw new Error("Invalid path: empty");return[4,this.getOrCreateDirectChild(n,t)];case 1:if(a=f.sent(),Cn(a))throw new Error("There is a file along the given path: "+$a(e));return o.length?[4,a.mkdirRecurse(o,function(){return u.updateDirectChild(a,n,t)})]:[3,3];case 2:f.sent(),f.label=3;case 3:return[2,this]}})})},r.prototype.add=function(e,t){return ae(this,void 0,void 0,function(){var n=this;return ue(this,function(o){switch(o.label){case 0:return[4,this.addRecurse(e,t,function(){return n.put()})];case 1:return o.sent(),[2,this]}})})},r.prototype.addRecurse=function(e,t,n){return ae(this,void 0,void 0,function(){var o,a,u,f=this;return ue(this,function(h){switch(h.label){case 0:if(o=e[0],a=e.slice(1),!o)throw new Error("Invalid path: empty");return a.length!==0?[3,2]:[4,this.createOrUpdateChildFile(t,o,n)];case 1:return h.sent(),[3,5];case 2:return[4,this.getOrCreateDirectChild(o,n)];case 3:if(u=h.sent(),Cn(u))throw new Error("There is a file along the given path: "+$a(e));return[4,u.addRecurse(a,t,function(){return ae(f,void 0,void 0,function(){return ue(this,function(c){switch(c.label){case 0:return[4,this.updateDirectChild(u,o,n)];case 1:return c.sent(),[2]}})})})];case 4:h.sent(),h.label=5;case 5:return[2,this]}})})},r.prototype.rm=function(e){return ae(this,void 0,void 0,function(){var t=this;return ue(this,function(n){switch(n.label){case 0:return[4,this.rmRecurse(e,function(){return t.put()})];case 1:return n.sent(),[2,this]}})})},r.prototype.rmRecurse=function(e,t){return ae(this,void 0,void 0,function(){var n,o,a,u,f=this;return ue(this,function(h){switch(h.label){case 0:if(n=e[0],o=e.slice(1),!n)throw new Error("Invalid path: empty");return o.length!==0?[3,3]:(this.removeDirectChild(n),a=t,a?[4,t()]:[3,2]);case 1:a=h.sent(),h.label=2;case 2:return[3,6];case 3:return[4,this.getDirectChild(n)];case 4:if(u=h.sent(),u===null)throw new Error("Invalid path: does not exist");if(Cn(u))throw new Error("There is a file along the given path: "+$a(e));return[4,u.rmRecurse(o,function(){return ae(f,void 0,void 0,function(){return ue(this,function(c){switch(c.label){case 0:return[4,this.updateDirectChild(u,n,t)];case 1:return c.sent(),[2]}})})})];case 5:h.sent(),h.label=6;case 6:return[2,this]}})})},r.prototype.mv=function(e,t){return ae(this,void 0,void 0,function(){var n,o,a,u=this;return ue(this,function(f){switch(f.label){case 0:return[4,this.get(e)];case 1:if(n=f.sent(),n===null)throw new Error("Path does not exist: "+$a(e));if(t.length<1)throw new Error("Path does not exist: "+$a(t));return o=t.slice(0,-1),[4,this.get(o)];case 2:return a=f.sent(),a?[3,5]:[4,this.mkdir(o)];case 3:return f.sent(),[4,this.get(o)];case 4:return a=f.sent(),[3,6];case 5:if(Cn(a))throw new Error("Can not `mv` to a file: "+$a(o));f.label=6;case 6:return[4,this.rm(e)];case 7:return f.sent(),[4,Ra(t).reverse().reduce(function(h,c,y){return h.then(function(_){return ae(u,void 0,void 0,function(){var A,F,D;return ue(this,function(k){switch(k.label){case 0:return A=t.slice(0,-(y+1)),A.length?[4,this.get(A)]:[3,2];case 1:return D=k.sent(),[3,3];case 2:D=this,k.label=3;case 3:return F=D,F&&!Cn(F)?[4,F.updateDirectChild(_,c,null)]:[3,5];case 4:return k.sent(),[2,F];case 5:throw new Error("Failed to update tree while moving node")}})})})},Promise.resolve(n))];case 8:return f.sent(),[2,this]}})})},r.prototype.exists=function(e){return ae(this,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:return t=n.sent(),[2,t!==null]}})})},r.prototype.read=function(e){return this.get(e)},r.prototype.write=function(e,t){return this.add(e,t)},r.prototype.getOrCreateDirectChild=function(e,t){return ae(this,void 0,void 0,function(){var n;return ue(this,function(o){switch(o.label){case 0:return[4,this.getDirectChild(e)];case 1:return n=o.sent(),[2,n!==null?n:this.createChildTree(e,t)]}})})},r}(),i0=function(r){Ca(e,r);function e(t){var n=r.call(this,jI)||this;return n.links=t,n.children={},n}return e.empty=function(){return ae(this,void 0,void 0,function(){return ue(this,function(t){return[2,new e({})]})})},e.fromCID=function(t){return ae(this,void 0,void 0,function(){var n;return ue(this,function(o){switch(o.label){case 0:return[4,Ss(t)];case 1:return n=o.sent(),[2,new e(n)]}})})},e.fromLinks=function(t){return new e(t)},e.prototype.createChildTree=function(t,n){return ae(this,void 0,void 0,function(){var o,a;return ue(this,function(u){switch(u.label){case 0:return[4,e.empty()];case 1:if(o=u.sent(),a=this.children[t],a){if(yf.instanceOf(a))throw new Error("There is a file at the given path: "+t);return[2,a]}return[4,this.updateDirectChild(o,t,n)];case 2:return u.sent(),[2,o]}})})},e.prototype.createOrUpdateChildFile=function(t,n,o){return ae(this,void 0,void 0,function(){var a,u;return ue(this,function(f){switch(f.label){case 0:return[4,this.getDirectChild(n)];case 1:return a=f.sent(),a!==null?[3,3]:[4,yf.create(t)];case 2:return u=f.sent(),[3,6];case 3:return yf.instanceOf(a)?[4,a.updateContent(t)]:[3,5];case 4:return u=f.sent(),[3,6];case 5:throw new Error("There is already a directory with that name: "+n);case 6:return[4,this.updateDirectChild(u,n,o)];case 7:return f.sent(),[2,u]}})})},e.prototype.putDetailed=function(){return ae(this,void 0,void 0,function(){return ue(this,function(t){return[2,xu(this.links)]})})},e.prototype.putAndUpdateLink=function(t,n,o){return ae(this,void 0,void 0,function(){var a,u;return ue(this,function(f){switch(f.label){case 0:return[4,t.putDetailed()];case 1:return a=f.sent(),this.updateLink(n,a),u=o,u?[4,o()]:[3,3];case 2:u=f.sent(),f.label=3;case 3:return[2,this]}})})},e.prototype.updateDirectChild=function(t,n,o){return ae(this,void 0,void 0,function(){return ue(this,function(a){return this.children[n]=t,[2,this.putAndUpdateLink(t,n,o)]})})},e.prototype.removeDirectChild=function(t){return delete this.links[t],this.children[t]&&delete this.children[t],this},e.prototype.getDirectChild=function(t){return ae(this,void 0,void 0,function(){var n,o,a;return ue(this,function(u){switch(u.label){case 0:return this.children[t]?[2,this.children[t]]:(n=this.links[t]||null,n===null?[2,null]:n.isFile?[4,yf.fromCID(n.cid)]:[3,2]);case 1:return a=u.sent(),[3,4];case 2:return[4,e.fromCID(n.cid)];case 3:a=u.sent(),u.label=4;case 4:return o=a,this.children[t]?[2,this.children[t]]:(this.children[t]=o,[2,o])}})})},e.prototype.get=function(t){return ae(this,void 0,void 0,function(){var n,o,a;return ue(this,function(u){switch(u.label){case 0:return n=t[0],o=t.slice(1),n?[4,this.getDirectChild(n)]:[2,this];case 1:if(a=u.sent(),o.length){if(a===null||Cn(a))return[2,null]}else return[2,a];return[2,a.get(o)]}})})},e.prototype.updateLink=function(t,n){var o=n.cid,a=n.size,u=n.isFile;return this.links[t]=Fo(t,o,u,a),this},e.prototype.getLinks=function(){return this.links},e}(n0),qI={"0":!0,"1":!0,"2":!0,"3":!0,"4":!0,"5":!0,"6":!0,"7":!0,"8":!0,"9":!0,a:!0,b:!0,c:!0,d:!0,e:!0,f:!0},VI=function(r){return qI[r]===!0},o0=function(){function r(e){this.links=e,this.children={}}return r.create=function(){return new r({})},r.fromCID=function(e){return ae(this,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return[4,i8(e)];case 1:return t=n.sent(),[2,new r(t)]}})})},r.prototype.putDetailed=function(){return ae(this,void 0,void 0,function(){return ue(this,function(e){return[2,xu(this.links)]})})},r.prototype.put=function(){return ae(this,void 0,void 0,function(){var e;return ue(this,function(t){switch(t.label){case 0:return[4,this.putDetailed()];case 1:return e=t.sent().cid,[2,e]}})})},r.prototype.add=function(e,t){return ae(this,void 0,void 0,function(){var n,o,a,u;return ue(this,function(f){switch(f.label){case 0:if(!VI(e[0]))throw new Error("Not a valid name, must be hexadecimal");return n=this.nextTreeOrSiblingName(e),e!==n?[3,1]:[3,9];case 1:return n!==null?[3,2]:(this.links[e]=Fo(e,t,!0,0),[3,9]);case 2:return n.length!==1?[3,6]:[4,this.getDirectChild(n)];case 3:return o=f.sent(),[4,o.add(e.slice(1),t)];case 4:return f.sent(),[4,this.putAndUpdateChildLink(n)];case 5:return f.sent(),[3,9];case 6:return a=this.addEmptyChild(e[0]),u=this.links[n].cid,this.removeChild(n),[4,Promise.all([a.add(e.slice(1),t),a.add(n.slice(1),u)])];case 7:return f.sent(),[4,this.putAndUpdateChildLink(e[0])];case 8:f.sent(),f.label=9;case 9:return[2]}})})},r.prototype.putAndUpdateChildLink=function(e){var t,n;return ae(this,void 0,void 0,function(){var o,a,u,f,h;return ue(this,function(c){switch(c.label){case 0:return o=(t=this.links[e])===null||t===void 0?void 0:t.cid,[4,this.children[e].putDetailed()];case 1:return a=c.sent(),u=a.cid,f=a.size,h=(n=this.links[e])===null||n===void 0?void 0:n.cid,o==h?[3,3]:[4,this.putAndUpdateChildLink(e)];case 2:return[2,c.sent()];case 3:return this.links[e]=Fo(e,u,!1,f),[2]}})})},r.prototype.addEmptyChild=function(e){var t=r.create();return this.children[e]=t,t},r.prototype.get=function(e){return ae(this,void 0,void 0,function(){var t,n;return ue(this,function(o){switch(o.label){case 0:return t=this.nextTreeName(e),t===null?[2,null]:t.length>1?[2,this.links[t].cid]:[4,this.getDirectChild(t)];case 1:return n=o.sent(),[2,n.get(e.slice(1))]}})})},r.prototype.exists=function(e){return ae(this,void 0,void 0,function(){return ue(this,function(t){switch(t.label){case 0:return[4,this.get(e)];case 1:return[2,t.sent()!==null]}})})},r.prototype.members=function(){return ae(this,void 0,void 0,function(){var e,t=this;return ue(this,function(n){switch(n.label){case 0:return[4,Promise.all(Object.values(this.links).map(function(o){var a=o.name,u=o.cid;return ae(t,void 0,void 0,function(){var f,h;return ue(this,function(c){switch(c.label){case 0:return a.length>1?[2,[{name:a,cid:u}]]:[4,r.fromCID(u)];case 1:return f=c.sent(),[4,f.members()];case 2:return h=c.sent(),[2,h.map(function(y){return dr(dr({},y),{name:a+y.name})})]}})})}))];case 1:return e=n.sent(),[2,e.reduce(function(o,a){return o.concat(a)})]}})})},r.prototype.getDirectChild=function(e){return ae(this,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return this.children[e]?[2,this.children[e]]:[4,r.fromCID(this.links[e].cid)];case 1:return t=n.sent(),this.children[e]?[2,this.children[e]]:(this.children[e]=t,[2,t])}})})},r.prototype.removeChild=function(e){delete this.links[e],this.children[e]&&delete this.children[e]},r.prototype.directChildExists=function(e){return this.links[e]!==void 0||this.children[e]!==void 0},r.prototype.nextTreeName=function(e){return this.directChildExists(e[0])?e[0]:this.directChildExists(e)?e:null},r.prototype.nextTreeOrSiblingName=function(e){var t=e[0];return this.directChildExists(t)?t:Object.keys(this.links).find(function(n){return t===n[0]})||null},r}(),Ky=function(){function r(e){this.node=e}return r.prototype.back=function(e){e===void 0&&(e=-1);var t=Math.abs(Math.min(e,-1));return Array.from({length:t},function(n,o){return o}).reduce(function(n){return n.then(function(o){return o?r._getPreviousVersion(o):null})},Promise.resolve(this.node))},r.prototype.prior=function(e){return ae(this,void 0,void 0,function(){return ue(this,function(t){return[2,r._prior(this.node,e)]})})},r.prototype.list=function(e){return e===void 0&&(e=5),ae(this,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return[4,Array.from({length:e},function(o,a){return a}).reduce(function(o,a){return o.then(function(u){var f=u.node,h=u.acc;return f?r._getPreviousVersion(f).then(function(c){return{node:c,acc:Ra(h,[{delta:-(a+1),timestamp:f.header.metadata.unixMeta.mtime}])}}):Promise.resolve({node:null,acc:h})})},r._getPreviousVersion(this.node).then(function(o){return{node:o,acc:[]}}))];case 1:return t=n.sent().acc,[2,t]}})})},r._getPreviousVersion=function(e){return ae(this,void 0,void 0,function(){return ue(this,function(t){return e.header.previous?[2,e.constructor.fromCID(e.header.previous)]:[2,Promise.resolve(null)]})})},r._prior=function(e,t){return ae(this,void 0,void 0,function(){var n;return ue(this,function(o){switch(o.label){case 0:return e.header.metadata.unixMeta.mtime<t?[2,e]:[4,r._getPreviousVersion(e)];case 1:return n=o.sent(),[2,n?r._prior(n,t):null]}})})},r}(),mf;(function(r){r.Raw="raw",r.Directory="dir",r.File="file",r.Metadata="metadata",r.Symlink="symlink",r.HAMTShard="hamtShard"})(mf||(mf={}));var XI=function(r){return{mtime:Date.now(),ctime:Date.now(),mode:r?644:755,_type:r?mf.File:mf.Directory}},gf=function(r){return{isFile:r,version:YI,unixMeta:XI(r)}},Hy=function(r){return dr(dr({},r),{unixMeta:dr(dr({},r.unixMeta),{mtime:Date.now()})})},Ms=function(r){Ca(e,r);function e(t){var n=t.content,o=t.header,a=t.cid,u=r.call(this,n)||this;return u.cid=a,u.header=o,u.history=new Ky(u),u}return e.instanceOf=function(t){return Qr(t)&&t.content!==void 0&&ty(t.header)},e.create=function(t){return ae(this,void 0,void 0,function(){return ue(this,function(n){return[2,new e({content:t,header:{metadata:gf(!0)},cid:null})]})})},e.fromCID=function(t){return ae(this,void 0,void 0,function(){var n;return ue(this,function(o){switch(o.label){case 0:return[4,$h(t)];case 1:return n=o.sent(),[2,e.fromInfo(n,t)]}})})},e.fromInfo=function(t,n){return ae(this,void 0,void 0,function(){var o,a,u,f;return ue(this,function(h){switch(h.label){case 0:return o=t.userland,a=t.metadata,u=t.previous,[4,Zv(o)];case 1:return f=h.sent(),[2,new e({content:f,header:{metadata:a,previous:u},cid:n})]}})})},e.prototype.putDetailed=function(){return ae(this,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return[4,h8(this.content,Hy(this.header.metadata),this.cid)];case 1:return t=n.sent(),this.cid=t.cid,[2,t]}})})},e}(r0),Gy=function(r,e){var t=e[0],n=r[t]||null,o=JI(e);return n===null||o===null?n:Gy(n.subSkeleton,o)};function JI(r){var e=r.slice(1);return e.length<1?null:e}var bf=function(r){Ca(e,r);function e(t){var n=t.links,o=t.header,a=t.cid,u=r.call(this,o.metadata.version)||this;return u.children={},u.cid=a,u.links=n,u.header=o,u.history=new Ky(u),u}return e.empty=function(){return ae(this,void 0,void 0,function(){return ue(this,function(t){return[2,new e({links:{},header:{metadata:gf(!1),skeleton:{}},cid:null})]})})},e.fromCID=function(t){return ae(this,void 0,void 0,function(){var n;return ue(this,function(o){switch(o.label){case 0:return[4,$h(t)];case 1:if(n=o.sent(),!s8(n))throw new Error("Could not parse a valid public tree at: "+t);return[2,e.fromInfo(n,t)]}})})},e.fromInfo=function(t,n){return ae(this,void 0,void 0,function(){var o,a,u,f,h;return ue(this,function(c){switch(c.label){case 0:return o=t.userland,a=t.metadata,u=t.previous,f=t.skeleton,[4,Ss(o)];case 1:return h=c.sent(),[2,new e({links:h,header:{metadata:a,previous:u,skeleton:f},cid:n})]}})})},e.instanceOf=function(t){return a8(t.links)&&ey(t.header)},e.prototype.createChildTree=function(t,n){return ae(this,void 0,void 0,function(){var o,a;return ue(this,function(u){switch(u.label){case 0:return[4,e.empty()];case 1:if(o=u.sent(),a=this.children[t],a){if(Ms.instanceOf(a))throw new Error("There is a file at the given path: "+t);if(e.instanceOf(a))return[2,a];throw new Error("Not a public tree at the given path: "+t)}return[4,this.updateDirectChild(o,t,n)];case 2:return u.sent(),[2,o]}})})},e.prototype.createOrUpdateChildFile=function(t,n,o){return ae(this,void 0,void 0,function(){var a,u;return ue(this,function(f){switch(f.label){case 0:return[4,this.getDirectChild(n)];case 1:return a=f.sent(),a!==null?[3,3]:[4,Ms.create(t)];case 2:return u=f.sent(),[3,6];case 3:return Ms.instanceOf(a)?[4,a.updateContent(t)]:[3,5];case 4:return u=f.sent(),[3,6];case 5:throw new Error("There is already a directory with that name: "+n);case 6:return[4,this.updateDirectChild(u,n,o)];case 7:return f.sent(),[2,u]}})})},e.prototype.putDetailed=function(){return ae(this,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return[4,l8(this.links,this.header.skeleton,this.header.metadata,this.cid)];case 1:return t=n.sent(),this.header.previous=this.cid||void 0,this.cid=t.cid,[2,t]}})})},e.prototype.updateDirectChild=function(t,n,o){return ae(this,void 0,void 0,function(){var a,u;return ue(this,function(f){switch(f.label){case 0:return this.children[n]=t,[4,t.putDetailed()];case 1:return a=f.sent(),this.updateLink(n,a),u=o,u?[4,o()]:[3,3];case 2:u=f.sent(),f.label=3;case 3:return[2,this]}})})},e.prototype.removeDirectChild=function(t){return delete this.links[t],delete this.header.skeleton[t],this.children[t]&&delete this.children[t],this},e.prototype.getDirectChild=function(t){return ae(this,void 0,void 0,function(){var n,o,a;return ue(this,function(u){switch(u.label){case 0:return this.children[t]?[2,this.children[t]]:(n=this.header.skeleton[t]||null,n===null?[2,null]:n.isFile?[4,Ms.fromCID(n.cid)]:[3,2]);case 1:return a=u.sent(),[3,4];case 2:return[4,e.fromCID(n.cid)];case 3:a=u.sent(),u.label=4;case 4:return o=a,this.children[t]?[2,this.children[t]]:(this.children[t]=o,[2,o])}})})},e.prototype.get=function(t){return ae(this,void 0,void 0,function(){var n,o;return ue(this,function(a){switch(a.label){case 0:return t.length<1?[2,this]:(n=Gy(this.header.skeleton,t),n===null?[2,null]:[4,$h(n.cid)]);case 1:return o=a.sent(),[2,c8(o)?Ms.fromInfo(o,n.cid):e.fromInfo(o,n.cid)]}})})},e.prototype.getLinks=function(){var t=this;return Object.values(this.links).reduce(function(n,o){var a,u;return dr(dr({},n),(a={},a[o.name]=dr(dr({},o),{isFile:(u=t.header.skeleton[o.name])===null||u===void 0?void 0:u.isFile}),a))},{})},e.prototype.updateLink=function(t,n){var o=n.cid,a=n.metadata,u=n.userland,f=n.size,h=n.isFile,c=n.skeleton;return this.links[t]=Fo(t,o,!1,f),this.header.skeleton[t]={cid:o,metadata:a,userland:u,subSkeleton:c,isFile:h},this.header.metadata.unixMeta.mtime=Date.now(),this},e}(n0),Wy=function(){function r(e){this.node=e}return r.prototype.back=function(e){var t;return e===void 0&&(e=-1),ae(this,void 0,void 0,function(){var n,o,a;return ue(this,function(u){switch(u.label){case 0:return n=Math.min(e,-1),o=(t=this.node.header)===null||t===void 0?void 0:t.revision,a=o,a?[4,this._getRevision(o+n)]:[3,2];case 1:a=u.sent(),u.label=2;case 2:return[2,a||null]}})})},r.prototype.prior=function(e){return ae(this,void 0,void 0,function(){return ue(this,function(t){return this.node.header.metadata.unixMeta.mtime<e?[2,this.node]:[2,this._prior(this.node.header.revision-1,e)]})})},r.prototype.list=function(e){return e===void 0&&(e=5),ae(this,void 0,void 0,function(){var t,n=this;return ue(this,function(o){return t=this.node.header.revision,[2,Promise.all(Array.from({length:e},function(a,u){var f=u+1;return n._getRevisionInfoFromNumber(t-f).then(function(h){return{revisionInfo:h,delta:-f}})})).then(function(a){return a.filter(function(u){return!!u.revisionInfo})}).then(function(a){return a.map(function(u){var f=u.revisionInfo.metadata.unixMeta.mtime;return{delta:u.delta,timestamp:f}})})]})})},r.prototype._getRevision=function(e){return ae(this,void 0,void 0,function(){var t,n;return ue(this,function(o){switch(o.label){case 0:return[4,this._getRevisionInfoFromNumber(e)];case 1:return t=o.sent(),n=t,n?[4,this.node.constructor.fromInfo(this.node.mmpt,this.node.key,t)]:[3,3];case 2:n=o.sent(),o.label=3;case 3:return[2,n]}})})},r.prototype._getRevisionInfo=function(e){return Py(e.cid,this.node.key)},r.prototype._getRevisionInfoFromNumber=function(e){return ae(this,void 0,void 0,function(){var t,n,o,a,u;return ue(this,function(f){switch(f.label){case 0:return t=this.node,n=t.key,o=t.mmpt,a=this.node.header.bareNameFilter,[4,e0(o,a,n,e)];case 1:return u=f.sent(),[2,u&&this._getRevisionInfo(u)]}})})},r.prototype._prior=function(e,t){return ae(this,void 0,void 0,function(){var n;return ue(this,function(o){switch(o.label){case 0:return[4,this._getRevisionInfoFromNumber(e)];case 1:return n=o.sent(),(n==null?void 0:n.revision)?n.metadata.unixMeta.mtime<t?[2,this._getRevision(n.revision)]:[2,this._prior(n.revision-1,t)]:[2,null]}})})},r}(),fa=function(r){Ca(e,r);function e(t){var n=t.content,o=t.mmpt,a=t.key,u=t.header,f=r.call(this,n)||this;return f.header=u,f.history=new Wy(f),f.key=a,f.mmpt=o,f}return e.instanceOf=function(t){return Qr(t)&&t.content!==void 0&&t.mmpt!==void 0&&Eu(t.header)},e.create=function(t,n,o,a){return ae(this,void 0,void 0,function(){var u,f,h;return ue(this,function(c){switch(c.label){case 0:return[4,Ya(o,a)];case 1:return u=c.sent(),[4,Jo.genKeyStr()];case 2:return f=c.sent(),[4,Lh(n,f)];case 3:return h=c.sent(),[2,new e({content:n,mmpt:t,key:a,header:{bareNameFilter:u,key:f,revision:1,metadata:gf(!0),content:h.cid}})]}})})},e.fromBareNameFilter=function(t,n,o){return ae(this,void 0,void 0,function(){var a;return ue(this,function(u){switch(u.label){case 0:return[4,$y(t,n,o)];case 1:return a=u.sent(),[2,this.fromInfo(t,o,a)]}})})},e.fromLatestName=function(t,n,o){return ae(this,void 0,void 0,function(){var a;return ue(this,function(u){switch(u.label){case 0:return[4,Zh(t,n,o)];case 1:return a=u.sent(),[2,e.fromInfo(t,o,a)]}})})},e.fromName=function(t,n,o){return ae(this,void 0,void 0,function(){var a;return ue(this,function(u){switch(u.label){case 0:return[4,My(t,n,o)];case 1:return a=u.sent(),[2,e.fromInfo(t,o,a)]}})})},e.fromInfo=function(t,n,o){return ae(this,void 0,void 0,function(){var a;return ue(this,function(u){switch(u.label){case 0:if(!Eu(o))throw new Error("Could not parse a valid private file using the given key");return[4,n8(o.content,o.key)];case 1:return a=u.sent(),[2,new e({content:a,key:n,mmpt:t,header:o})]}})})},e.prototype.getName=function(){return ae(this,void 0,void 0,function(){var t,n,o,a;return ue(this,function(u){switch(u.label){case 0:return t=this.header,n=t.bareNameFilter,o=t.revision,[4,ku(n,this.key,o)];case 1:return a=u.sent(),[2,Fu(a)]}})})},e.prototype.updateParentNameFilter=function(t){return ae(this,void 0,void 0,function(){var n;return ue(this,function(o){switch(o.label){case 0:return n=this.header,[4,Ya(t,this.header.key)];case 1:return n.bareNameFilter=o.sent(),[2,this]}})})},e.prototype.updateContent=function(t){return ae(this,void 0,void 0,function(){var n;return ue(this,function(o){switch(o.label){case 0:return[4,Lh(t,this.header.key)];case 1:return n=o.sent(),this.content=t,this.header=dr(dr({},this.header),{revision:this.header.revision+1,content:n.cid}),[2,this]}})})},e.prototype.putDetailed=function(){return ae(this,void 0,void 0,function(){return ue(this,function(t){return[2,Ly(this.mmpt,dr(dr({},this.header),{metadata:Hy(this.header.metadata)}),this.key)]})})},e}(r0),_f=function(r){Ca(e,r);function e(t){var n=t.mmpt,o=t.key,a=t.header,u=r.call(this,zy)||this;return u.children={},u.header=a,u.history=new Wy(u),u.key=o,u.mmpt=n,u}return e.instanceOf=function(t){return Qr(t)&&t.mmpt!==void 0&&af(t.header)},e.create=function(t,n,o){return ae(this,void 0,void 0,function(){var a,u;return ue(this,function(f){switch(f.label){case 0:return o?[4,Ya(o,n)]:[3,2];case 1:return u=f.sent(),[3,4];case 2:return[4,Uy(n)];case 3:u=f.sent(),f.label=4;case 4:return a=u,[2,new e({mmpt:t,key:n,header:{metadata:gf(!1),bareNameFilter:a,revision:1,links:{},skeleton:{}}})]}})})},e.fromBaseKey=function(t,n){return ae(this,void 0,void 0,function(){var o;return ue(this,function(a){switch(a.label){case 0:return[4,Uy(n)];case 1:return o=a.sent(),[2,this.fromBareNameFilter(t,o,n)]}})})},e.fromBareNameFilter=function(t,n,o){return ae(this,void 0,void 0,function(){var a;return ue(this,function(u){switch(u.label){case 0:return[4,$y(t,n,o)];case 1:return a=u.sent(),[2,this.fromInfo(t,o,a)]}})})},e.fromLatestName=function(t,n,o){return ae(this,void 0,void 0,function(){var a;return ue(this,function(u){switch(u.label){case 0:return[4,Zh(t,n,o)];case 1:return a=u.sent(),[2,this.fromInfo(t,o,a)]}})})},e.fromName=function(t,n,o){return ae(this,void 0,void 0,function(){var a;return ue(this,function(u){switch(u.label){case 0:return[4,My(t,n,o)];case 1:return a=u.sent(),[2,this.fromInfo(t,o,a)]}})})},e.fromInfo=function(t,n,o){return ae(this,void 0,void 0,function(){return ue(this,function(a){if(!af(o))throw new Error("Could not parse a valid private tree using the given key");return[2,new e({mmpt:t,key:n,header:o})]})})},e.prototype.createChildTree=function(t,n){return ae(this,void 0,void 0,function(){var o,a,u;return ue(this,function(f){switch(f.label){case 0:return[4,Jo.genKeyStr()];case 1:return o=f.sent(),[4,e.create(this.mmpt,o,this.header.bareNameFilter)];case 2:if(a=f.sent(),u=this.children[t],u){if(fa.instanceOf(u))throw new Error("There is a file at the given path: "+t);return[2,u]}return[4,this.updateDirectChild(a,t,n)];case 3:return f.sent(),[2,a]}})})},e.prototype.createOrUpdateChildFile=function(t,n,o){return ae(this,void 0,void 0,function(){var a,u,f;return ue(this,function(h){switch(h.label){case 0:return[4,this.getDirectChild(n)];case 1:return a=h.sent(),a!==null?[3,4]:[4,Jo.genKeyStr()];case 2:return f=h.sent(),[4,fa.create(this.mmpt,t,this.header.bareNameFilter,f)];case 3:return u=h.sent(),[3,7];case 4:return fa.instanceOf(a)?[4,a.updateContent(t)]:[3,6];case 5:return u=h.sent(),[3,7];case 6:throw new Error("There is already a directory with that name: "+n);case 7:return[4,this.updateDirectChild(u,n,o)];case 8:return h.sent(),[2,u]}})})},e.prototype.putDetailed=function(){return ae(this,void 0,void 0,function(){var t;return ue(this,function(n){return t=Object.assign({},this.header),[2,Ly(this.mmpt,t,this.key)]})})},e.prototype.updateDirectChild=function(t,n,o){return ae(this,void 0,void 0,function(){var a,u;return ue(this,function(f){switch(f.label){case 0:return[4,t.updateParentNameFilter(this.header.bareNameFilter)];case 1:return f.sent(),this.children[n]=t,[4,t.putDetailed()];case 2:return a=f.sent(),this.updateLink(n,a),u=o,u?[4,o()]:[3,4];case 3:u=f.sent(),f.label=4;case 4:return[2,this]}})})},e.prototype.removeDirectChild=function(t){return this.header=dr(dr({},this.header),{revision:this.header.revision+1,links:gc(this.header.links,t),skeleton:gc(this.header.skeleton,t)}),this.children[t]&&delete this.children[t],this},e.prototype.getDirectChild=function(t){return ae(this,void 0,void 0,function(){var n,o,a;return ue(this,function(u){switch(u.label){case 0:return this.children[t]?[2,this.children[t]]:(n=this.header.links[t],n===void 0?[2,null]:n.isFile?[4,fa.fromLatestName(this.mmpt,n.pointer,n.key)]:[3,2]);case 1:return a=u.sent(),[3,4];case 2:return[4,e.fromLatestName(this.mmpt,n.pointer,n.key)];case 3:a=u.sent(),u.label=4;case 4:return o=a,this.children[t]?[2,this.children[t]]:(this.children[t]=o,[2,o])}})})},e.prototype.getName=function(){return ae(this,void 0,void 0,function(){var t,n,o,a;return ue(this,function(u){switch(u.label){case 0:return t=this.header,n=t.bareNameFilter,o=t.revision,[4,ku(n,this.key,o)];case 1:return a=u.sent(),[2,Fu(a)]}})})},e.prototype.updateParentNameFilter=function(t){return ae(this,void 0,void 0,function(){var n;return ue(this,function(o){switch(o.label){case 0:return n=this.header,[4,Ya(t,this.key)];case 1:return n.bareNameFilter=o.sent(),[2,this]}})})},e.prototype.get=function(t){return ae(this,void 0,void 0,function(){var n,o,a,u;return ue(this,function(f){switch(f.label){case 0:return t.length===0?[2,this]:(n=t[0],o=t.slice(1),a=this.header.skeleton[n],a===void 0?[2,null]:[4,this.getRecurse(a,o)]);case 1:return u=f.sent(),u===null?[2,null]:[2,Eu(u.node)?fa.fromInfo(this.mmpt,u.key,u.node):e.fromInfo(this.mmpt,u.key,u.node)]}})})},e.prototype.getRecurse=function(t,n){return ae(this,void 0,void 0,function(){var o,a,u,f,h,c;return ue(this,function(y){switch(y.label){case 0:return o=n[0],a=n.slice(1),o!==void 0?[3,2]:(c={key:t.key},[4,Qh(this.mmpt,t.cid,t.key)]);case 1:return[2,(c.node=y.sent(),c)];case 2:return u=t.subSkeleton[o],u!==void 0?[2,this.getRecurse(u,a)]:[4,Qh(this.mmpt,t.cid,t.key)];case 3:return f=y.sent(),af(f)?(h=f.skeleton[o],[2,h===void 0?null:this.getRecurse(h,a)]):[2,null]}})})},e.prototype.getLinks=function(){return pp(this.header.links,function(t){t.key;var n=dd(t,["key"]);return dr({},n)})},e.prototype.updateLink=function(t,n){var o=n.cid,a=n.size,u=n.key,f=n.isFile,h=n.skeleton,c=n.name;return this.header.links[t]={name:t,key:u,pointer:c,size:a,isFile:f,mtime:Date.now()},this.header.skeleton[t]={cid:o,key:u,subSkeleton:h},this.header.revision=this.header.revision+1,this.header.metadata.unixMeta.mtime=Date.now(),this},e}(n0),a0=function(){function r(e){var t=e.links,n=e.mmpt,o=e.privateLog,a=e.publicTree,u=e.prettyTree,f=e.privateNodes;this.links=t,this.mmpt=n,this.privateLog=o,this.publicTree=a,this.prettyTree=u,this.privateNodes=f}return r.empty=function(e){var t=e.rootKey;return ae(this,void 0,void 0,function(){var n,o,a,u,f,h,c;return ue(this,function(y){switch(y.label){case 0:return[4,bf.empty()];case 1:return n=y.sent(),[4,i0.empty()];case 2:return o=y.sent(),a=o0.create(),u=zn(Zo(mr.Private)),[4,_f.create(a,t,null)];case 3:return f=y.sent(),[4,f.put()];case 4:return y.sent(),h=new r({links:{},mmpt:a,privateLog:[],publicTree:n,prettyTree:o,privateNodes:(c={},c[u]=f,c)}),[4,r.storeRootKey(t)];case 5:return y.sent(),h.setVersion(zy),[4,Promise.all([h.updatePuttable(mr.Public,n),h.updatePuttable(mr.Pretty,o),h.updatePuttable(mr.Private,a)])];case 6:return y.sent(),[2,h]}})})},r.fromCID=function(e){var t,n,o,a=e.cid,u=e.permissions;return ae(this,void 0,void 0,function(){var f,h,c,y,_,A,F,D,k,K,he,ge,ke,fe,V;return ue(this,function(ce){switch(ce.label){case 0:return[4,Ss(a)];case 1:return f=ce.sent(),u?[4,eB(u)]:[3,3];case 2:return c=ce.sent(),[3,4];case 3:c=[],ce.label=4;case 4:return h=c,y=((t=f[mr.Public])===null||t===void 0?void 0:t.cid)||null,y!==null?[3,6]:[4,bf.empty()];case 5:return A=ce.sent(),[3,8];case 6:return[4,bf.fromCID(y)];case 7:A=ce.sent(),ce.label=8;case 8:return _=A,f[mr.Pretty]?[4,i0.fromCID(f[mr.Pretty].cid)]:[3,10];case 9:return D=ce.sent(),[3,12];case 10:return[4,i0.empty()];case 11:D=ce.sent(),ce.label=12;case 12:return F=D,k=((n=f[mr.Private])===null||n===void 0?void 0:n.cid)||null,k!==null?[3,14]:[4,o0.create()];case 13:return K=ce.sent(),he={},[3,17];case 14:return[4,o0.fromCID(k)];case 15:return K=ce.sent(),[4,QI(h,K)];case 16:he=ce.sent(),ce.label=17;case 17:return ge=(o=f[mr.PrivateLog])===null||o===void 0?void 0:o.cid,ge?[4,Wc(ge).then(function(Se){return Se.Links.map(Dh)}).then(function(Se){return Se.sort(function(le,Oe){return parseInt(le.name,10)-parseInt(Oe.name,10)})})]:[3,19];case 18:return fe=ce.sent(),[3,20];case 19:fe=[],ce.label=20;case 20:return ke=fe,V=new r({links:f,mmpt:K,privateLog:ke,publicTree:_,prettyTree:F,privateNodes:he}),[2,V]}})})},r.prototype.put=function(){return ae(this,void 0,void 0,function(){var e;return ue(this,function(t){switch(t.label){case 0:return[4,this.putDetailed()];case 1:return e=t.sent().cid,[2,e]}})})},r.prototype.putDetailed=function(){return ae(this,void 0,void 0,function(){return ue(this,function(e){return[2,xu(this.links)]})})},r.prototype.updateLink=function(e,t){var n=t.cid,o=t.size,a=t.isFile;return this.links[e]=Fo(e,n,a,o),this},r.prototype.updatePuttable=function(e,t){return ae(this,void 0,void 0,function(){var n,o;return ue(this,function(a){switch(a.label){case 0:return n=this.updateLink,o=[e],[4,t.putDetailed()];case 1:return[2,n.apply(this,o.concat([a.sent()]))]}})})},r.storeRootKey=function(e){return ae(this,void 0,void 0,function(){var t,n;return ue(this,function(o){switch(o.label){case 0:return t=Zo(mr.Private),[4,Ec({path:t})];case 1:return n=o.sent(),[4,si.importSymmKey(e,n)];case 2:return o.sent(),[2]}})})},r.prototype.findPrivateNode=function(e){return u0(this.privateNodes,e)},r.prototype.addPrivateLogEntry=function(e){var t;return ae(this,void 0,void 0,function(){var n,o,a,u,f,h,c,y,_,A,F,D;return ue(this,function(k){switch(k.label){case 0:return n=Ra(this.privateLog),o=Math.max(0,n.length-1),((t=n[o])===null||t===void 0?void 0:t.cid)?[4,lh(n[o].cid)]:[3,2];case 1:return u=k.sent().split(","),[3,3];case 2:u=[],k.label=3;case 3:return a=u,f=a.length+1>r.LOG_CHUNK_SIZE,f&&(o=o+1,a=[]),[4,Pa.sha256Str(e)];case 4:return h=k.sent(),c=Ra(a,[h]),[4,of(c.join(","))];case 5:return y=k.sent(),n[o]={name:o.toString(),cid:y.cid,size:y.size},[4,hh(n.map(Uh))];case 6:return _=k.sent(),A=this.updateLink,F=[mr.PrivateLog],D={cid:_.cid,isFile:!1},[4,Es(_.cid)];case 7:return A.apply(this,F.concat([(D.size=k.sent(),D)])),this.privateLog=n,[2]}})})},r.prototype.setVersion=function(e){return ae(this,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return[4,of(WI(e))];case 1:return t=n.sent(),[2,this.updateLink(mr.Version,t)]}})})},r.LOG_CHUNK_SIZE=1020,r}();function ZI(r,e){return ae(this,void 0,void 0,function(){var t,n,o,a,u,f,h;return ue(this,function(c){switch(c.label){case 0:return[4,Sp({path:e})];case 1:return t=c.sent(),[4,yc(t)];case 2:return n=c.sent(),n?[2,n]:(o=u0(r,e),a=o[0],u=o[1],u?(f=Kn(e),h=f.slice(Kn(a).length),fa.instanceOf(u)?[2,h.length===0?u.header.bareNameFilter:null]:u.exists(h)?[3,6]:Tn(e)?[4,u.mkdir(h)]:[3,4]):[2,null]);case 3:return c.sent(),[3,6];case 4:return[4,u.add(h,"")];case 5:c.sent(),c.label=6;case 6:return[2,u.get(h).then(function(y){return y?y.header.bareNameFilter:null})]}})})}function u0(r,e){var t=r[zn(e)];if(t)return[e,t];var n=Ap(e);return n?u0(r,n):[e,null]}function QI(r,e){var t=this;return tB(r).reduce(function(n,o){var a=o.path,u=o.key;return n.then(function(f){return ae(t,void 0,void 0,function(){var h,c,y,_,A;return ue(this,function(F){switch(F.label){case 0:return c=Kn(a),c.length===1&&c[0]===mr.Private?[4,_f.fromBaseKey(e,u)]:[3,2];case 1:return h=F.sent(),[3,7];case 2:return[4,ZI(f,a)];case 3:if(y=F.sent(),!y)throw new Error("Was trying to load the PrivateTree for the path `"+a+"`, but couldn't find the bare name filter for it.");return Tn(a)?[4,_f.fromBareNameFilter(e,y,u)]:[3,5];case 4:return h=F.sent(),[3,7];case 5:return[4,fa.fromBareNameFilter(e,y,u)];case 6:h=F.sent(),F.label=7;case 7:return _=zn(a),[2,dr(dr({},f),(A={},A[_]=h,A))]}})})})},Promise.resolve({}))}function eB(r){return ae(this,void 0,void 0,function(){var e=this;return ue(this,function(t){return[2,Pv(r).reduce(function(n,o){return ae(e,void 0,void 0,function(){var a,u,f;return ue(this,function(h){switch(h.label){case 0:return yl(mr.Public,o)?[2,n]:[4,Ec({path:o})];case 1:return a=h.sent(),[4,si.exportSymmKey(a)];case 2:return u=h.sent(),f={path:o,key:u},[2,n.then(function(c){return Ra(c,[f])})]}})})},Promise.resolve([]))]})})}function tB(r){return r.sort(function(e,t){return zn(e.path).localeCompare(zn(t.path))})}var rB="webnative.wnfs_cid_log";function s0(){return rB+"-"+qr.endpoints.lobby}function c0(){return ae(this,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return[4,yc(s0())];case 1:return[2,r.sent()||[]]}})})}function nB(r){return ae(this,void 0,void 0,function(){var e;return ue(this,function(t){switch(t.label){case 0:return[4,c0()];case 1:return e=t.sent(),[2,[e.indexOf(r),e.length]]}})})}function f0(){return ae(this,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return[4,c0()];case 1:return[2,r.sent()[0]]}})})}function jy(r){return ae(this,void 0,void 0,function(){var e,t;return ue(this,function(n){switch(n.label){case 0:return[4,c0()];case 1:return e=n.sent(),t=Ra([r],e).slice(0,1e3),[4,mc(s0(),t)];case 2:return n.sent(),[2]}})})}function iB(){return ae(this,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return[4,ll(s0())];case 1:return r.sent(),[2]}})})}function Hi(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];qr.debug&&console.log.apply(console,r)}function Yy(r){return ae(this,void 0,void 0,function(){var e,t;return ue(this,function(n){switch(n.label){case 0:e=qr.endpoints.user,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,cc("_did."+r+"."+e)];case 2:return t=n.sent(),t!==null?[2,t]:[3,4];case 3:return n.sent(),[3,4];case 4:throw new Error("Could not locate user DID in DNS.")}})})}function oB(){return ae(this,void 0,void 0,function(){var r,e,t;return ue(this,function(n){switch(n.label){case 0:return r=nf(),e=Object.values(r)[0],e!==void 0?[2,Bh(e[1])]:[4,pu()];case 1:if(t=n.sent(),!Mi(t))throw new Error("No logged in user");return[2,Yy(t)]}})})}var aB=Object.freeze({__proto__:null,exchange:Hv,ucan:zi,write:zi,root:Yy,ownRoot:oB,publicKeyToDid:Ih,didToPublicKey:Kv,get KeyType(){return Xn},verifySignedData:Gv}),Jn=Object.freeze({__proto__:null,dictionary:t8,build:VA,decode:Ki,encode:XA,encodeHeader:tf,encodePayload:rf,isExpired:ua,isValid:Wv,rootIssuer:Bh,sign:jv}),qy="Qmc5m94Gu7z62RC8waSKkZUrCCBJPyHbkpmGzEePxy2oXJ";function Vy(r){return ae(this,void 0,void 0,function(){var e,t,n;return ue(this,function(o){switch(o.label){case 0:return[4,Xy(r)];case 1:if(e=o.sent(),e===qy)return[2,null];if(e!==null)return[2,e];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,gd(r+".files."+qr.endpoints.user)];case 3:return t=o.sent(),[2,t===qy?null:t];case 4:throw n=o.sent(),console.error(n),new Error("Could not locate user root in dns");case 5:return[2]}})})}function Xy(r){return ae(this,void 0,void 0,function(){var e,t,n;return ue(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch(qr.endpoints.api+"/user/data/"+r,{cache:"reload"})];case 1:return e=o.sent(),[4,e.json()];case 2:if(t=o.sent(),!ao(t))throw new Error("Did not receive a CID");return[2,t];case 3:return n=o.sent(),Hi("Could not locate user root on Fission server: ",n.toString()),[2,null];case 4:return[2]}})})}function Jy(r,e){return ae(this,void 0,void 0,function(){var t,n=this;return ue(this,function(o){switch(o.label){case 0:return t=qr.endpoints.api,Hi("\u{1F30A} Updating your DNSLink:",r),[4,Zy(t+"/user/data/"+r,{headers:function(){return ae(n,void 0,void 0,function(){var a,u,f,h,c,y;return ue(this,function(_){switch(_.label){case 0:return f=(u=Jn).encode,c=(h=Jn).build,y={},[4,Wo()];case 1:return y.audience=_.sent(),[4,zi()];case 2:return[4,c.apply(h,[(y.issuer=_.sent(),y.potency="APPEND",y.proof=e,y.resource=Ki(e).payload.rsc,y)])];case 3:return a=f.apply(u,[_.sent()]),[2,{authorization:"Bearer "+a}]}})})},retries:100,retryDelay:5e3,retryOn:[502,503,504]},{method:"PATCH"}).then(function(a){return a.status<300?Hi("\u{1FAB4} DNSLink updated:",r):Hi("\u{1F525} Failed to update DNSLink for:",r),{success:a.status<300}}).catch(function(a){return Hi("\u{1F525} Failed to update DNSLink for:",r),console.error(a),{success:!1}})];case 1:return[2,o.sent()]}})})}function Zy(r,e,t,n){return n===void 0&&(n=0),ae(this,void 0,void 0,function(){var o,a;return ue(this,function(u){switch(u.label){case 0:return[4,e.headers()];case 1:return o=u.sent(),[4,fetch(r,dr(dr({},t),{headers:dr(dr({},t.headers),o)}))];case 2:return a=u.sent(),e.retryOn.includes(a.status)?n<e.retries?[4,new Promise(function(f,h){return setTimeout(function(){return Zy(r,e,t,n+1).then(f,h)},e.retryDelay)})]:[3,4]:[3,5];case 3:return[2,u.sent()];case 4:throw new Error("Too many retries for fetch");case 5:return[2,a]}})})}var uB=Object.freeze({__proto__:null,lookup:Vy,lookupOnFisson:Xy,update:Jy}),l0=function(r){Ca(e,r);function e(t){var n=r.call(this,t)||this;return n.name="NoPermissionError",n}return e}(Error),sB=Object.freeze({__proto__:null,NoPermissionError:l0}),h0=function(){function r(e){var t=this,n=e.root,o=e.permissions,a=e.localOnly;this.localOnly=a||!1,this.proofs={},this.publishHooks=[],this.root=n,this._publishWhenOnline=[],this._publishing=!1,this._whenOnline=this._whenOnline.bind(this),this._beforeLeaving=this._beforeLeaving.bind(this);var u=globalThis;u.filesystems=u.filesystems||[],u.filesystems.push(this),o&&o.app&&o.app.creator&&o.app.name&&(this.appPath=cB(o));var f=function(c){jy(c),Hi("\u{1F4D3} Adding to the CID ledger:",c)},h=Vv.throttle(3e3,!1,function(c,y){if(globalThis.navigator.onLine)return t._publishing=[c,!0],Jy(c,y).then(function(){t._publishing&&t._publishing[0]===c&&(t._publishing=!1)});t._publishWhenOnline.push([c,y])},!1);this.publishHooks.push(f),this.publishHooks.push(h),globalThis.addEventListener("online",this._whenOnline),globalThis.addEventListener("beforeunload",this._beforeLeaving)}return r.empty=function(e){return e===void 0&&(e={}),ae(this,void 0,void 0,function(){var t,n,o,a,u,f;return ue(this,function(h){switch(h.label){case 0:return t=e.permissions,n=e.localOnly,a=e.rootKey,a?[3,2]:[4,Jo.genKeyStr()];case 1:a=h.sent(),h.label=2;case 2:return o=a,[4,a0.empty({rootKey:o})];case 3:return u=h.sent(),f=new r({root:u,permissions:t,localOnly:n}),[2,f]}})})},r.fromCID=function(e,t){return t===void 0&&(t={}),ae(this,void 0,void 0,function(){var n,o,a,u;return ue(this,function(f){switch(f.label){case 0:return n=t.permissions,o=t.localOnly,[4,a0.fromCID({cid:e,permissions:n})];case 1:return a=f.sent(),u=new r({root:a,permissions:n,localOnly:o}),[2,u]}})})},r.prototype.deactivate=function(){var e=this,t=globalThis;t.filesystems=t.filesystems.filter(function(n){return n!==e}),t.removeEventListener("online",this._whenOnline),t.removeEventListener("beforeunload",this._beforeLeaving)},r.prototype.ls=function(e){return ae(this,void 0,void 0,function(){return ue(this,function(t){if(Ma(e))throw new Error("`ls` only accepts directory paths");return[2,this.runOnNode(e,!1,function(n,o){if(Cn(n))throw new Error("Tried to `ls` a file");return n.ls(o)})]})})},r.prototype.mkdir=function(e,t){return t===void 0&&(t={}),ae(this,void 0,void 0,function(){return ue(this,function(n){switch(n.label){case 0:if(Ma(e))throw new Error("`mkdir` only accepts directory paths");return[4,this.runOnNode(e,!0,function(o,a){if(Cn(o))throw new Error("Tried to `mkdir` a file");return o.mkdir(a)})];case 1:return n.sent(),t.publish?[4,this.publish()]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2,this]}})})},r.prototype.add=function(e,t,n){return n===void 0&&(n={}),ae(this,void 0,void 0,function(){var o=this;return ue(this,function(a){switch(a.label){case 0:if(Tn(e))throw new Error("`add` only accepts file paths");return[4,this.runOnNode(e,!0,function(u,f){return ae(o,void 0,void 0,function(){return ue(this,function(h){return[2,Cn(u)?u.updateContent(t):u.add(f,t)]})})})];case 1:return a.sent(),n.publish?[4,this.publish()]:[3,3];case 2:a.sent(),a.label=3;case 3:return[2,this]}})})},r.prototype.cat=function(e){return ae(this,void 0,void 0,function(){var t=this;return ue(this,function(n){if(Tn(e))throw new Error("`cat` only accepts file paths");return[2,this.runOnNode(e,!1,function(o,a){return ae(t,void 0,void 0,function(){return ue(this,function(u){return[2,Cn(o)?o.content:o.cat(a)]})})})]})})},r.prototype.read=function(e){return ae(this,void 0,void 0,function(){return ue(this,function(t){if(Tn(e))throw new Error("`read` only accepts file paths");return[2,this.cat(e)]})})},r.prototype.write=function(e,t,n){return n===void 0&&(n={}),ae(this,void 0,void 0,function(){return ue(this,function(o){if(Tn(e))throw new Error("`write` only accepts file paths");return[2,this.add(e,t,n)]})})},r.prototype.exists=function(e){return ae(this,void 0,void 0,function(){var t=this;return ue(this,function(n){return[2,this.runOnNode(e,!1,function(o,a){return ae(t,void 0,void 0,function(){return ue(this,function(u){return[2,Cn(o)?!0:o.exists(a)]})})})]})})},r.prototype.get=function(e){return ae(this,void 0,void 0,function(){var t=this;return ue(this,function(n){return[2,this.runOnNode(e,!1,function(o,a){return ae(t,void 0,void 0,function(){return ue(this,function(u){return[2,Cn(o)?o:o.get(a)]})})})]})})},r.prototype.mv=function(e,t){return ae(this,void 0,void 0,function(){var n,o,a;return ue(this,function(u){switch(u.label){case 0:if(n=xp(e,t),!Ep(e,t))throw o=ml(e),a=ml(t),new Error("Can't move to a different kind of path, from is a "+o+" and to is a "+a);if(!n)throw new Error("`mv` is only supported on the same tree for now");return[4,this.exists(t)];case 1:if(u.sent())throw new Error("Destination already exists");return[4,this.runOnNode(e,!0,function(f,h){if(Cn(f))throw new Error("Tried to `mv` within a file");var c=Kn(t);c[0];var y=c.slice(1);return f.mv(h,y)})];case 2:return u.sent(),[2,this]}})})},r.prototype.rm=function(e){return ae(this,void 0,void 0,function(){return ue(this,function(t){switch(t.label){case 0:return[4,this.runOnNode(e,!0,function(n,o){if(Cn(n))throw new Error("Cannot `rm` a file you've asked permission for");return n.rm(o)})];case 1:return t.sent(),[2,this]}})})},r.prototype.publish=function(){return ae(this,void 0,void 0,function(){var e,t,n=this;return ue(this,function(o){switch(o.label){case 0:return e=Array.from(Object.entries(this.proofs)),this.proofs={},[4,this.root.put()];case 1:return t=o.sent(),e.forEach(function(a){a[0];var u=a[1];n.publishHooks.forEach(function(f){return f(t,u)})}),[2,t]}})})},r.prototype.runOnNode=function(e,t,n){return ae(this,void 0,void 0,function(){var o,a,u,f,h,c,y,_,A,F,D,k;return ue(this,function(K){switch(K.label){case 0:return o=Kn(e),a=o[0],u=o.slice(1),f=t?"make changes to":"query",this.localOnly?[3,2]:[4,Rh(e)];case 1:if(h=K.sent(),c=h&&Ki(h),!h||!c||ua(c)||!c.signature)throw new l0("I don't have the necessary permissions to "+f+' the file system at "'+zn(e)+'"');this.proofs[c.signature]=h,K.label=2;case 2:return a!==mr.Public?[3,7]:[4,n(this.root.publicTree,u)];case 3:return y=K.sent(),t&&bf.instanceOf(y)?[4,n(this.root.prettyTree,u)]:[3,6];case 4:return _=K.sent(),this.root.publicTree=y,this.root.prettyTree=_,[4,Promise.all([this.root.updatePuttable(mr.Public,this.root.publicTree),this.root.updatePuttable(mr.Pretty,this.root.prettyTree)])];case 5:K.sent(),K.label=6;case 6:return[3,18];case 7:if(a!==mr.Private)return[3,14];if(A=this.root.findPrivateNode(e),F=A[0],D=A[1],!D)throw new l0("I don't have the necessary permissions to "+f+' the file system at "'+zn(e)+'"');return[4,n(D,o.slice(Kn(F).length))];case 8:return y=K.sent(),t&&(_f.instanceOf(y)||fa.instanceOf(y))?(this.root.privateNodes[zn(F)]=y,[4,y.put()]):[3,13];case 9:return K.sent(),[4,this.root.updatePuttable(mr.Private,this.root.mmpt)];case 10:return K.sent(),[4,this.root.mmpt.put()];case 11:return k=K.sent(),[4,this.root.addPrivateLogEntry(k)];case 12:K.sent(),K.label=13;case 13:return[3,18];case 14:if(!(a===mr.Pretty&&t))return[3,15];throw new Error("The pretty path is read only");case 15:return a!==mr.Pretty?[3,17]:[4,n(this.root.prettyTree,u)];case 16:return y=K.sent(),[3,18];case 17:throw new Error("Not a valid FileSystem path");case 18:return[2,y]}})})},r.prototype._whenOnline=function(){var e=this,t=Ra(this._publishWhenOnline);this._publishWhenOnline=[],t.forEach(function(n){var o=n[0],a=n[1];e.publishHooks.forEach(function(u){return u(o,a)})})},r.prototype._beforeLeaving=function(e){var t="Are you sure you want to leave? We don't control the browser so you may lose your data.";if(this._publishing||this._publishWhenOnline.length)return(e||globalThis.event).returnValue=t,t},r}();function cB(r){if(!r.app)throw Error("Only works with app permissions");var e=_h(r.app);return function(t){return t?xc(e,t):e}}function Qy(r,e,t){return ae(this,void 0,void 0,function(){var n,o,a,u,f,h,c,y,_,A,F;return ue(this,function(D){switch(D.label){case 0:return a=e,a?[3,2]:[4,pu()];case 1:a=D.sent()||void 0,D.label=2;case 2:if(e=a,!e)throw new Error("User hasn't authenticated yet");return[4,Nh([])];case 3:return D.sent(),navigator.onLine?[4,Vy(e)]:[3,5];case 4:return f=D.sent(),[3,6];case 5:f=null,D.label=6;case 6:return u=f,u?[4,nB(u)]:[3,8];case 7:return y=D.sent(),[3,9];case 8:y=[-1,0],D.label=9;case 9:return h=y,c=h[0],h[1],navigator.onLine?[3,11]:[4,f0()];case 10:return n=D.sent(),[3,18];case 11:return u?[3,13]:[4,f0()];case 12:return n=D.sent(),n?Hi("\u{1F4D3} No DNSLink, using local CID:",n):Hi("\u{1F4D3} Creating a new file system"),[3,18];case 13:return c!==0?[3,14]:(n=u,Hi("\u{1F4D3} DNSLink is up to date:",n),[3,18]);case 14:return c>0?[4,f0()]:[3,16];case 15:return n=D.sent(),_=c===1?"1 newer local entry":c+" newer local entries",Hi("\u{1F4D3} DNSLink is outdated ("+_+"), using local CID:",n),[3,18];case 16:return n=u,[4,jy(n)];case 17:D.sent(),Hi("\u{1F4D3} DNSLink is newer:",n),D.label=18;case 18:return A=r||void 0,n?[4,h0.fromCID(n,{permissions:A})]:[3,20];case 19:return F=D.sent(),[3,21];case 20:F=null,D.label=21;case 21:if(o=F,o)return[2,o];if(!t)throw new Error("Can't make new filesystem without a root AES key");return[4,h0.empty({permissions:A,rootKey:t})];case 22:return o=D.sent(),[4,fB(o)];case 23:return D.sent(),[2,o]}})})}function fB(r){return ae(this,void 0,void 0,function(){return ue(this,function(e){switch(e.label){case 0:return[4,r.mkdir({directory:[mr.Private,"Apps"]})];case 1:return e.sent(),[4,r.mkdir({directory:[mr.Private,"Audio"]})];case 2:return e.sent(),[4,r.mkdir({directory:[mr.Private,"Documents"]})];case 3:return e.sent(),[4,r.mkdir({directory:[mr.Private,"Photos"]})];case 4:return e.sent(),[4,r.mkdir({directory:[mr.Private,"Video"]})];case 5:return e.sent(),[4,r.publish()];case 6:return e.sent(),[2]}})})}function lB(){return ae(this,void 0,void 0,function(){return ue(this,function(r){return[2,pu()]})})}function hB(r){var e=r===void 0?{}:r,t=e.withoutRedirect;return ae(this,void 0,void 0,function(){return ue(this,function(n){switch(n.label){case 0:return[4,ll(_c)];case 1:return n.sent(),[4,e8()];case 2:return n.sent(),[4,iB()];case 3:return n.sent(),[4,si.clear()];case 4:return n.sent(),(globalThis.filesystems||[]).forEach(function(o){return o.deactivate()}),!t&&globalThis.location&&(globalThis.location.href=qr.endpoints.lobby),[2]}})})}function dB(r,e){return ae(this,void 0,void 0,function(){var t,n,o,a,u,f,h,c;return ue(this,function(y){switch(y.label){case 0:return t=r==null?void 0:r.app,n=r==null?void 0:r.fs,o=r==null?void 0:r.platform,a=r==null?void 0:r.raw,[4,Hv()];case 1:return u=y.sent(),[4,zi()];case 2:return f=y.sent(),h=!!document.body.querySelector("iframe#webnative-ipfs")&&typeof SharedWorker=="function",e=e||window.location.href,c=[["didExchange",u],["didWrite",f],["redirectTo",e],["sdk",vl.toString()],["sharedRepo",h?"t":"f"]].concat(t?[["appFolder",t.creator+"/"+t.name]]:[],(n==null?void 0:n.private)?n.private.map(function(_){return["privatePath",zn(_,{absolute:!0})]}):[],(n==null?void 0:n.public)?n.public.map(function(_){return["publicPath",zn(_,{absolute:!0})]}):[],a?[["raw",lc(JSON.stringify(a))]]:[]).concat(function(){var _=o==null?void 0:o.apps;switch(typeof _){case"string":return[["app",_]];case"object":return _.map(function(A){return["app",A]});default:return[]}}()),window.location.href=qr.endpoints.lobby+"?"+c.map(function(_){var A=_[0],F=_[1];return encodeURIComponent(A)+"="+encodeURIComponent(F)}).join("&"),[2]}})})}function pB(){return ae(this,void 0,void 0,function(){var r,e,t,n,o,a,u,f,h,c;return ue(this,function(y){switch(y.label){case 0:return r=qr.endpoints.api,[4,As("*")];case 1:if(e=y.sent(),e===null)throw"Could not find your local UCAN";return o=(n=Jn).encode,u=(a=Jn).build,c={},[4,Wo()];case 2:return c.audience=y.sent(),[4,zi()];case 3:return[4,u.apply(a,[(c.issuer=y.sent(),c.proof=e,c.potency=null,c)])];case 4:return t=o.apply(n,[y.sent()]),[4,fetch(r+"/app",{method:"GET",headers:{authorization:"Bearer "+t}})];case 5:return f=y.sent(),[4,f.json()];case 6:return h=y.sent(),[2,Object.values(h).filter(function(_){return _.length>0}).map(function(_){return{domain:_[0]}})]}})})}function vB(r){return ae(this,void 0,void 0,function(){var e,t,n,o,a,u,f,h,c,y,_;return ue(this,function(A){switch(A.label){case 0:return e=qr.endpoints.api,[4,As("*")];case 1:if(t=A.sent(),t===null)throw"Could not find your local UCAN";return a=(o=Jn).encode,f=(u=Jn).build,_={},[4,Wo()];case 2:return _.audience=A.sent(),[4,zi()];case 3:return[4,f.apply(u,[(_.issuer=A.sent(),_.proof=t,_.potency=null,_)])];case 4:return n=a.apply(o,[A.sent()]),h=Mi(r)?e+"/app?subdomain="+encodeURIComponent(r):e+"/app",[4,fetch(h,{method:"POST",headers:{authorization:"Bearer "+n}})];case 5:return c=A.sent(),[4,c.json()];case 6:return y=A.sent(),[2,{domain:y}]}})})}function yB(r){return ae(this,void 0,void 0,function(){var e,t,n,o,a,u,f,h,c,y,_;return ue(this,function(A){switch(A.label){case 0:return e=qr.endpoints.api,[4,As(r)];case 1:if(t=A.sent(),t===null)throw new Error("Could not find your local UCAN");return a=(o=Jn).encode,f=(u=Jn).build,_={},[4,Wo()];case 2:return _.audience=A.sent(),[4,zi()];case 3:return[4,f.apply(u,[(_.issuer=A.sent(),_.proof=t,_.potency=null,_)])];case 4:return n=a.apply(o,[A.sent()]),[4,fetch(e+"/app",{method:"GET",headers:{authorization:"Bearer "+n}})];case 5:return h=A.sent(),[4,h.json()];case 6:if(c=A.sent(),y=Object.entries(c).find(function(F){F[0];var D=F[1];return D.includes(r)}),y==null)throw new Error("Couldn't find an app with domain "+r);return[4,fetch(e+"/app/"+encodeURIComponent(y[0]),{method:"DELETE",headers:{authorization:"Bearer "+n}})];case 7:return A.sent(),[2]}})})}function mB(r,e){return ae(this,void 0,void 0,function(){var t,n,o,a,u,f,h,c,y;return ue(this,function(_){switch(_.label){case 0:return t=qr.endpoints.api,[4,As(r)];case 1:if(n=_.sent(),n===null)throw"Could not find your local UCAN";return u=(a=Jn).encode,h=(f=Jn).build,y={},[4,Wo()];case 2:return y.audience=_.sent(),[4,zi()];case 3:return[4,h.apply(f,[(y.issuer=_.sent(),y.proof=n,y.potency=null,y)])];case 4:return o=u.apply(a,[_.sent()]),c=t+"/app/"+r+"/"+e,[4,fetch(c,{method:"PATCH",headers:{authorization:"Bearer "+o}})];case 5:return _.sent(),[2]}})})}var gB=Object.freeze({__proto__:null,index:pB,create:vB,deleteByDomain:yB,publish:mB}),bB=["fission","ipfs","ipns","did","id","identity",".htaccess","htaccess",".htpasswd","htpasswd",".well-known","well-known","400","401","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","421","422","423","424","426","428","429","431","500","501","502","503","504","505","506","507","508","509","510","511","_domainkey","about","about-us","abuse","access","account","accounts","ad","add","admin","administration","administrator","ads","ads.txt","advertise","advertising","aes128-ctr","aes128-gcm","aes192-ctr","aes256-ctr","aes256-gcm","affiliate","affiliates","ajax","alert","alerts","alpha","amp","analytics","api","app","app-ads.txt","apps","asc","assets","atom","auth","authentication","authorize","autoconfig","autodiscover","avatar","backup","banner","banners","bbs","beta","billing","billings","blog","blogs","board","bookmark","bookmarks","broadcasthost","business","buy","cache","calendar","campaign","captcha","careers","cart","cas","categories","category","cdn","cgi","cgi-bin","chacha20-poly1305","change","channel","channels","chart","chat","checkout","clear","client","close","cloud","cms","com","comment","comments","community","compare","compose","config","connect","contact","contest","cookies","copy","copyright","count","cp","cpanel","create","crossdomain.xml","css","curve25519-sha256","customer","customers","customize","dashboard","db","deals","debug","delete","desc","destroy","dev","developer","developers","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha1","disconnect","discuss","dns","dns0","dns1","dns2","dns3","dns4","docs","documentation","domain","download","downloads","downvote","draft","drop","ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","edit","editor","email","enterprise","error","errors","event","events","example","exception","exit","explore","export","extensions","false","family","faq","faqs","favicon.ico","features","feed","feedback","feeds","file","files","filter","follow","follower","followers","following","fonts","forgot","forgot-password","forgotpassword","form","forms","forum","forums","friend","friends","ftp","get","git","go","graphql","group","groups","guest","guidelines","guides","head","header","help","hide","hmac-sha","hmac-sha1","hmac-sha1-etm","hmac-sha2-256","hmac-sha2-256-etm","hmac-sha2-512","hmac-sha2-512-etm","home","host","hosting","hostmaster","htpasswd","http","httpd","https","humans.txt","icons","images","imap","img","import","index","info","insert","investors","invitations","invite","invites","invoice","is","isatap","issues","it","jobs","join","js","json","keybase.txt","learn","legal","license","licensing","like","limit","live","load","local","localdomain","localhost","lock","login","logout","lost-password","m","mail","mail0","mail1","mail2","mail3","mail4","mail5","mail6","mail7","mail8","mail9","mailer-daemon","mailerdaemon","map","marketing","marketplace","master","me","media","member","members","message","messages","metrics","mis","mobile","moderator","modify","more","mx","mx1","my","net","network","new","news","newsletter","newsletters","next","nil","no-reply","nobody","noc","none","noreply","notification","notifications","ns","ns0","ns1","ns2","ns3","ns4","ns5","ns6","ns7","ns8","ns9","null","oauth","oauth2","offer","offers","online","openid","order","orders","overview","owa","owner","page","pages","partners","passwd","password","pay","payment","payments","photo","photos","pixel","plans","plugins","policies","policy","pop","pop3","popular","portal","portfolio","post","postfix","postmaster","poweruser","preferences","premium","press","previous","pricing","print","privacy","privacy-policy","private","prod","product","production","profile","profiles","project","projects","public","purchase","put","quota","recover","recovery","redirect","reduce","refund","refunds","register","registration","remove","replies","reply","report","request","request-password","reset","reset-password","response","return","returns","review","reviews","robots.txt","root","rootuser","rsa-sha2-2","rsa-sha2-512","rss","rules","sales","save","script","sdk","search","secure","security","select","services","session","sessions","settings","setup","share","shift","shop","signin","signup","site","sitemap","sites","smtp","sort","source","sql","ssh","ssh-rsa","ssl","ssladmin","ssladministrator","sslwebmaster","stage","staging","stat","static","statistics","stats","status","store","style","styles","stylesheet","stylesheets","subdomain","subscribe","sudo","super","superuser","support","survey","sync","sysadmin","system","tablet","tag","tags","team","telnet","terms","terms-of-use","test","testimonials","theme","themes","today","tools","topic","topics","tour","training","translate","translations","trending","trial","true","umac-128","umac-128-etm","umac-64","umac-64-etm","undefined","unfollow","unlike","unsubscribe","update","upgrade","usenet","user","username","users","uucp","var","verify","video","view","void","vote","vpn","webmail","webmaster","website","widget","widgets","wiki","wpad","write","www","www-data","www1","www2","www3","www4","you","yourname","yourusername","zlib"];function _B(r){return ae(this,void 0,void 0,function(){var e;return ue(this,function(t){switch(t.label){case 0:return[4,fetch(qr.endpoints.api+"/user/data/"+r)];case 1:return e=t.sent(),[2,!e.ok]}})})}function wB(r){return!r.startsWith("-")&&!r.endsWith("-")&&!r.startsWith("_")&&/^[a-zA-Z0-9_-]+$/.test(r)&&!bB.includes(r.toLowerCase())}function xB(r){return ae(this,void 0,void 0,function(){var e,t,n,o,a,u,f,h;return ue(this,function(c){switch(c.label){case 0:return e=qr.endpoints.api,o=(n=Jn).encode,u=(a=Jn).build,h={},[4,Wo()];case 1:return h.audience=c.sent(),[4,zi()];case 2:return[4,u.apply(a,[(h.issuer=c.sent(),h)])];case 3:return t=o.apply(n,[c.sent()]),[4,fetch(e+"/user",{method:"PUT",headers:{authorization:"Bearer "+t,"content-type":"application/json"},body:JSON.stringify(r)})];case 4:return f=c.sent(),[2,{success:f.status<300}]}})})}function EB(){return ae(this,void 0,void 0,function(){var r,e,t,n,o,a,u;return ue(this,function(f){switch(f.label){case 0:return r=qr.endpoints.api,[4,Rh("*")];case 1:if(e=f.sent(),e===null)throw"Could not find your local UCAN";return o=(n=Jn).build,u={},[4,Wo()];case 2:return u.audience=f.sent(),[4,zi()];case 3:return[4,o.apply(n,[(u.issuer=f.sent(),u.proof=e,u.potency=null,u)])];case 4:return t=f.sent(),[4,fetch(r+"/user/email/resend",{method:"POST",headers:{authorization:"Bearer "+t}})];case 5:return a=f.sent(),[2,{success:a.status<300}]}})})}function AB(r){return a0.storeRootKey(r)}var SB=Object.freeze({__proto__:null,createAccount:xB,resendVerificationEmail:EB,storeFileSystemRootKey:AB,isUsernameAvailable:_B,isUsernameValid:wB});function IB(r){var e=r.enabled;return qr.debug=e,qr.debug}function BB(r){return qr.endpoints=dr(dr({},qr.endpoints),r),dr({},qr.endpoints)}var TB=Object.freeze({__proto__:null,debug:IB,endpoints:BB,setDependencies:jb});(function(r){r.NotAuthorised="NOT_AUTHORISED",r.AuthSucceeded="AUTH_SUCCEEDED",r.AuthCancelled="AUTH_CANCELLED",r.Continuation="CONTINUATION"})(ar.Scenario||(ar.Scenario={})),function(r){r.InsecureContext="INSECURE_CONTEXT",r.UnsupportedBrowser="UNSUPPORTED_BROWSER"}(ar.InitialisationError||(ar.InitialisationError={}));function e2(r){return ae(this,void 0,void 0,function(){var e,t,n,o,a,u,f,h,c,y,_,A,F,D,k,K,he,ge,ke,fe,V,ce,Se,le=this;return ue(this,function(Oe){switch(Oe.label){case 0:if(r=r||{},e=r.permissions||null,t=r.autoRemoveUrlParams,n=t===void 0?!0:t,o=r.rootKey,a=function(Pe){return ae(le,void 0,void 0,function(){var vt;return ue(this,function(dt){switch(dt.label){case 0:return r.loadFileSystem!==!1?[3,1]:(vt=void 0,[3,3]);case 1:return[4,Qy(e,Pe,o)];case 2:vt=dt.sent(),dt.label=3;case 3:return[2,vt]}})})},globalThis.isSecureContext===!1)throw ar.InitialisationError.InsecureContext;return[4,t2()];case 1:if(Oe.sent()===!1)throw ar.InitialisationError.UnsupportedBrowser;return u=new URL(window.location.href),f=u.searchParams.get("authorised"),h=u.searchParams.get("cancelled"),f?(c=u.searchParams.get("newUser")==="t",y=u.searchParams.get("username")||"",_=RB,f!=="via-postmessage"?[3,3]:[4,NB()]):[3,11];case 2:return A=Oe.sent(),[3,5];case 3:return[4,lh(f)];case 4:A=Oe.sent(),Oe.label=5;case 5:return[4,_.apply(void 0,[A])];case 6:return Oe.sent(),[4,mc(_c,y)];case 7:return Oe.sent(),n&&(u.searchParams.delete("authorised"),u.searchParams.delete("newUser"),u.searchParams.delete("username"),history.replaceState(null,document.title,u.toString())),F=e,F?[4,n2(e)]:[3,9];case 8:F=Oe.sent()===!1,Oe.label=9;case 9:return F?(console.warn("Unable to validate filesystem secrets"),[2,wf(e)]):e&&qv(e)===!1?(console.warn("Unable to validate UCAN permissions"),[2,wf(e)]):(D=FB,k=[e,c,y],[4,a(y)]);case 10:return[2,D.apply(void 0,k.concat([Oe.sent()]))];case 11:return h?(K=function(Pe){switch(h){case"DENIED":return"User denied authorisation";default:return"Unknown reason"}}(),[2,CB(e,K)]):[3,12];case 12:return[4,Nh([])];case 13:Oe.sent(),Oe.label=14;case 14:return[4,pu()];case 15:return he=Oe.sent(),he&&e?[4,n2(e)]:[3,20];case 16:return ge=Oe.sent(),ke=qv(e),ge&&ke?(fe=r2,V=[e,he],[4,a(he)]):[3,18];case 17:return[2,fe.apply(void 0,V.concat([Oe.sent()]))];case 18:return[2,wf(e)];case 19:return[3,23];case 20:return he?(ce=r2,Se=[e,he],[4,a(he)]):[3,22];case 21:return[2,ce.apply(void 0,Se.concat([Oe.sent()]))];case 22:return[2,wf(e)];case 23:return[2]}})})}function t2(){return ae(this,void 0,void 0,function(){var r;return ue(this,function(e){switch(e.label){case 0:return r=$n.supports($n.INDEXEDDB),r?[4,function(){return new Promise(function(t){var n=indexedDB.open("testDatabase");n.onsuccess=function(){return t(!0)},n.onerror=function(){return t(!1)}})}()]:[3,2];case 1:r=e.sent(),e.label=2;case 2:return[2,r]}})})}var kB=h0;function FB(r,e,t,n){return{scenario:ar.Scenario.AuthSucceeded,permissions:r,authenticated:!0,throughLobby:!0,fs:n,newUser:e,username:t}}function CB(r,e){return{scenario:ar.Scenario.AuthCancelled,permissions:r,authenticated:!1,throughLobby:!0,cancellationReason:e}}function r2(r,e,t){return{scenario:ar.Scenario.Continuation,permissions:r,authenticated:!0,newUser:!1,throughLobby:!1,fs:t,username:e}}function wf(r){return{scenario:ar.Scenario.NotAuthorised,permissions:r,authenticated:!1}}function RB(r){return ae(this,void 0,void 0,function(){var e,t,n,o,a,u,f=this;return ue(this,function(h){switch(h.label){case 0:return e=JSON.parse(r),[4,si.decrypt(e.sessionKey)];case 1:return t=h.sent(),[4,Jo.decryptGCM(e.secrets,t,e.iv)];case 2:return n=h.sent(),o=JSON.parse(n),a=o.fs,u=o.ucans,[4,Promise.all(Object.entries(a).map(function(c){var y=c[0],_=c[1],A=_.bareNameFilter,F=_.key;return ae(f,void 0,void 0,function(){var D,k,K;return ue(this,function(he){switch(he.label){case 0:return D=_p(y),[4,Ec({path:D})];case 1:return k=he.sent(),[4,Sp({path:D})];case 2:return K=he.sent(),[4,si.importSymmKey(F,k)];case 3:return he.sent(),[4,mc(K,A)];case 4:return he.sent(),[2]}})})}))];case 3:return h.sent(),[4,Nh(u)];case 4:return h.sent(),[2]}})})}function NB(){return ae(this,void 0,void 0,function(){var r,e,t;return ue(this,function(n){switch(n.label){case 0:return[4,new Promise(function(o,a){var u=document.createElement("iframe");u.id="webnative-secret-exchange",u.style.width="0",u.style.height="0",u.style.border="none",u.style.display="none",document.body.appendChild(u),u.onload=function(){o(u)},u.src=qr.endpoints.lobby+"/exchange.html"})];case 1:r=n.sent(),n.label=2;case 2:if(n.trys.push([2,,4,5]),e=new Promise(function(o,a){window.addEventListener("message",u);function u(f){window.removeEventListener("message",u),f.data?o(f.data):a(new Error("Can't import UCANs & readKey(s): Missing data"))}}),r.contentWindow==null)throw new Error("Can't import UCANs & readKey(s): No access to its contentWindow");return t={webnative:"exchange-secrets"},r.contentWindow.postMessage(t,r.src),[4,e];case 3:return[2,n.sent()];case 4:return document.body.removeChild(r),[7];case 5:return[2]}})})}function n2(r){return ae(this,void 0,void 0,function(){var e=this;return ue(this,function(t){return[2,Pv(r).reduce(function(n,o){return n.then(function(a){return ae(e,void 0,void 0,function(){var u;return ue(this,function(f){switch(f.label){case 0:return a===!1?[2,a]:yl(mr.Public,o)?[2,a]:[4,Ec({path:o})];case 1:return u=f.sent(),[4,si.keyExists(u)];case 2:return[2,f.sent()]}})})})},Promise.resolve(!0))]})})}ar.VERSION=vl,ar.apps=gB,ar.authenticatedUsername=lB,ar.crypto=Qb,ar.dataRoot=uB,ar.did=aB,ar.dns=zm,ar.errors=sB,ar.fs=kB,ar.initialise=e2,ar.initialize=e2,ar.ipfs=KA,ar.isSupported=t2,ar.keystore=Ab,ar.leave=hB,ar.loadFileSystem=Qy,ar.lobby=SB,ar.machinery=Jb,ar.path=bl,ar.redirectToLobby=dB,ar.setup=TB,ar.ucan=Jn,Object.defineProperty(ar,"__esModule",{value:!0})});
